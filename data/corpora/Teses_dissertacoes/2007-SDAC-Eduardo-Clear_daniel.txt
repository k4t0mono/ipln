Apesar de existirem diversas técnicas de processamento de imagens, estas técnicas não constumam ser aplicadas nas imagens armazenadas nos servidores PACS (Picture Archiving and Communication Systems) por a dificuldade de sua extensibilidade a ambientes de hospitalares.
Este cenário mostra a viabilidade de construir uma nova arquitetura de indexação para armazenamento e recuperação, com a capacidade de identificar a necessidade de executar determinados tipos de processamentos em imagens médicas com características específicas.
A criação de um ambiente virtual para inclusão de diferentes tipos de processamento a serem executados diretamente nos servidores PACS, tem como objetivo estimular a aplicação de sistemas de apoio a diagnóstico nos setores de radiologia dos hospitais.
A arquitetura proposta agrega informações às imagens armazenadas no PACS num índice, que identifica as informações associadas a cada tipo de análise, estabelecendo uma relação entre as imagens e as diversas técnicas de processamento para apoio ao diagnóstico.
Uma das características desta arquitetura está baseada na definição de ontologias que representam a formalização do conhecimento aplicado a cada conjunto de imagens ou estudo.
Como estudo de caso, a arquitetura proposta foi desenvolvida e integrada a um servidor PACS.
Em esta implementação, a arquitetura identifica o contexto das informações associadas às imagens e indica possibilidade de execução de um determinado tipo de processamento disponibilizado diretamente no servidor.
Palavras Chaves: Sistemas de Apoio ao Diagnóstico, Recuperação de Imagem Baseada em Conteúdo;
Reconhecimento de Padrões; Imagens Médicas;
DICOM e PACS.
As novas técnicas desenvolvidas para obtenção de imagens médicas digitais e o aumento de modalidades de diagnóstico por imagem estabelecem a necessidade do desenvolvimento de sistemas de gerenciamento para estas imagens.
Desta forma, existem quatro grandes soluções tecnológicas utilizadas num hospital:
PACS (Picture Archiving and Communication Systems), que consiste num sistema para armazenamento e recuperação de imagens onde são armazenadas todas as imagens dos pacientes analisados ou em processo de análise;
Ris (Radiology Information System), sistema de informações radiológicas responsável por o gerenciamento das informações dos pacientes, dos estudos, séries e imagens;
HIS (Hospital Information System), sistema de informações hospitalares que cadastra e agenda os pacientes, bem como gerência o faturamento, estoque, entre outras informações do hospital;
E MIII (Medical Imaging Informatics Infraestruture) que fornece suporte às ferramentas de CAD (Computer-Aided Diagnosis).
A visualização de imagens é, portanto, uma das principais fontes de informações na área da saúde, tendo um papel decisivo para melhorar a qualidade do diagnóstico.
Pode- se utilizar imagens para fazer desde um exame preventivo de câncer de mama até a visualização de estruturas complexas que envolvem o fluxo sanguíneo no próprio coração.
Assim, há uma tendência de informatização dos hospitais e da própria aquisição das imagens em formato digital, sendo esta uma das principais razões para a implantação de um servidor PACS que traga benefícios efetivos quantificáveis, não apenas, para a otimização dos procedimentos internos, mas também, para os aspectos clínicos relacionados ao tempo de permanência do paciente e mesmo seu respectivo estado.
Um sistema de PACS possibilita a associação das imagens aos laudos dos pacientes.
O banco de imagens é abastecido com um grande número de exames realizados diariamente.
Este cenário possibilita o desenvolvimento de técnicas para transformar os repositórios de imagens (conteúdo) em bancos de conhecimento baseado na identificação de características quantitativas, ou mesmo, padrões pictórios.
Os padrões exigem uma otimização na sua recuperação para comparação de imagens adquiridas com imagens ou padrões de referência relevantes retirados do PACS.
Buscando, justamente, estabelecer de forma eficiente o grau de semelhança entre as características de referência e as imagens analisadas.
Outra questão relevante é a utilização de chaves textuais como filtros adicionais às consultas.
As consultas são freqüentemente implementadas em aplicativos de suporte a diagnóstico, permitindo aos médicos analisarem a evolução do caso com a observação de estudos anteriores dos pacientes.
Entretanto, é necessário prever como construir um ambiente único que seja primordialmente ergonômico e permita a exploração de todos os dados relacionados, dentro de um grande universo híbrido com imagens de diferentes tipos e informações textuais, ou mesmo, estruturadas.
Este ambiente deve permitir a pesquisa nos diferentes tipos de informações, o suporte a diagnóstico e/ ou ensino.
Outras duas questões importantes são:
O uso da tecnologia e a superação de problemas éticos, de segurança e usabilidade.
Os sistemas de diagnóstico auxiliados por computador (CAD) têm a função de processar imagens em análise com a possibilidade de comparar- las a imagens já diagnosticadas buscando fornecer o subsídio ao médico especialista.
Sua finalidade é melhorar a consistência da interpretação da imagem, mediante o uso da resposta do computador como referência.
Esta resposta pode ser útil, já que o diagnóstico do radiologista é subjetivo, com variações de um radiologista para outro, e existindo a não percepção de informação visual (baixa qualidade) inerente ao próprio método de aquisição da imagem, sobreposição de estruturas, fadiga visual ou distração.
Assim uma dupla leitura por um radiologista e um computador pode melhorar a eficiência do diagnóstico.
O acesso rápido às informações dos pacientes e seus exames, de forma organizada, descentralizada e distribuída, é muito importante para comunidade médica em geral.
A utilização destas informações por os sistemas de CAD pode aumentar a acurácia do resultado.
O uso do computador para o processamento de imagens, visando à distinção entre padrões normais e anormais, a partir de os atributos extraídos das imagens utiliza técnicas relacionadas à seleção de atributos, como os baseados na separabilidade entre as distribuições de probabilidades das classes e algoritmos genéticos, e classificadores, como os baseados em técnicas de análise discriminante, sistemas especialistas baseados em regras específicas, métodos estatísticos, redes neurais artificiais e ontologias.&amp;&amp;&amp;
O cenário descrito neste capítulo mostra a possibilidade de construção de um novo modelo de indexação com capacidade de identificar e executar os diferentes tipos de apoio ao diagnóstico disponibilizados nos servidores PACS, armazenando as informações relevantes para cada análise e identificando as imagens a serem processadas.
O objetivo deste trabalho é de investigar e definir conceitualmente uma arquitetura de indexação para as imagens médicas.
O relacionamento das informações dos exames dos pacientes permite a execução dos diferentes tipos de processamento para apoio a diagnóstico definidos neste ambiente.
Para alcançar este objetivo, foi necessário executar as seguintes atividades:·
Realização da revisão de bibliografia das áreas que abrangem o escopo deste trabalho:
Estudo sobre imagens médicas;
Estudo sobre técnicas de apoio ao diagnóstico;
Estudo sobre recuperação de imagens baseada em conteúdo;
Estudo de trabalhos relacionados;·
Definição da arquitetura de indexação;·
Construção da aplicação e validação;·
Considerações sobre a arquitetura proposta.
Com a tendência de inclusão dos servidores de imagens PACS nos hospitais brasileiros, surge a necessidade de uma solução de indexação de imagens médicas que forneça suporte ao processamento de imagens para apoio a diagnóstico médico.
Isso possibilita uma segunda opinião a vários tipos de diagnósticos num único ambiente com acesso direto às imagens armazenadas no servidor PACS.
O processamento de imagens e o próprio reconhecimento de padrões requerem freqüentemente um conjunto de dados auxiliares que precisam ser armazenados num sistema próprio de banco de dados com acesso a um conjunto de padrões e ou repositório de dados.
Assim, os sistemas de CAD são freqüentemente desenvolvidos de forma independente.
Entretanto, existe uma tendência destes sistemas utilizarem imagens recebidas como parâmetros de entrada no desenvolvimento das aplicações que são geralmente implementados com imagens de testes, existindo uma freqüente abstração da complexidade dos sistemas de CAD necessária para integração em ambientes reais.
A integração do processamento de imagens e ferramentas de manipulação com a estrutura de banco de dados e interface gráfica estabelecem a necessidade de que um sistema de CAD seja projetado para ser executado num ambiente multi-camadas.
A disponibilização das aplicações aos ambientes de produção se constitui num problema, já que cada aplicação utiliza diferentes padrões de acesso às imagens e freqüentemente desenvolvem aplicações específicas para interação com os usuários.
Estas aplicações poderiam ser melhor aproveitadas se fossem considerados componentes adicionais que agregassem valor ao ambiente já implantado.
A revisão bibliográfica apresentada descreve respectivamente:
Em o capítulo 2, imagens médicas;
Em o capítulo 3, sistemas de diagnóstico auxiliado por computador (CAD);
E no capítulo 4, recuperação de imagens baseada em conteúdo.
Posteriormente, no capítulo 5, são descritos trabalhos relacionados e no capítulo 6 é apresentada a arquitetura de indexação proposta com a respectiva implementação e validação realizadas.
Finalizando este trabalho, são apresentadas as discussões sobre a arquitetura e as considerações finais, assim como, as referências bibliográficas e os trabalhos publicados.
Em 1895, o físico alemão Wilhelm Conrad Rõntgen descobriu os raios X, que revolucionaram o meio cientifico, e em especial a medicina, de tal forma que em 1900 a radiologia já existia como especialidade médica.
Por volta de 1940, novas tecnologias como a televisão e intensificadores de imagens permitiram a realização de fluoroscopias de ótima qualidade e em tempo real, as quais foram os únicos métodos existentes até a década de 70.
O desejo de separar estruturas sobre postas também levou ao desenvolvimento de uma variedade de técnicas tomográficas analógicas, especialmente a tomografia axial que permitia visualização de apenas um plano de corte.
Inicialmente as imagens não eram nítidas o suficiente para permitir o diagnóstico.
Este problema foi solucionado com o uso do computador, e da implementação de métodos matemáticos para reconstrução de imagens, principalmente por Cormack.
Por volta de 1970, Hounsfield e sua equipe da EMI Corporation desenvolveram o primeiro tomógrafo computadorizado comercialmente viável, que permitiu pela primeira vez a visualização de estruturas internas do corpo através de seções transversais, trabalho por o qual, ambos pesquisadores receberam o prêmio Nobel de Medicina em 1979.
Após a invenção do tomógrafo computadorizado, vários métodos de aquisição de imagens foram desenvolvidos, tais como as imagens de ressonância magnética, que produzem cortes a partir de a interação de campos magnéticos, e a ultra-sonografia.
Podem- se atribuir muitos fatores para o surgimento de tantas modalidades de aquisição de imagens médicas, tais como a melhor compreensão dos princípios básicos da aquisição de imagens, o aperfeiçoamento de técnicas matemáticas de reconstrução, evolução dos computadores com desenvolvimento de equipamentos mais baratos e mais seguros.
Esta melhoria na tecnologia da computação recentemente levou a uma tendência para a geração de imagens digitais, e os exames tradicionais de raios X podem agora ser digitalizados e processados por o computador.
A aquisição e análise de imagens digitais de raios X formam a base de um novo campo chamado radiologia digital.
Os principais tipos de imagens médicas são tomografia computadorizada, a ressonância magnética, a ultra-sonografia e as imagens funcionais geradas com a utilização de radiofarmacos, como PET (Photon Emission Tomography) e SPECT (Single Photon Emission Computed Tomography).
O computador não pode guardar em sua memória ou modificar em seus circuitos qualquer imagem na forma analógica, que é como o olho humano a enxerga, porque o computador trabalha com números discretos, não podendo representar diretamente tons de cinza ou cores contínuas.
Uma imagem digital é uma imagem f (x, y) discretizada e pode ser considerada uma matriz.
Em esta matriz, os índices de linhas e colunas identificam a localização dos pontos na imagem, sendo os pontos elementos desta matriz com os seus respectivos valores de nível de cinza.
Em uma radiografia simples do tórax, as variações nas áreas claras e escuras são codificadas como um conjunto de números.
Por exemplo, nas áreas claras do filme (correspondentes às regiões que absorvem uma grande intensidade de raios X), pode ser dado o valor numérico de 255, enquanto que nas áreas escurecidas (que são causadas por baixa absorção de raios X) poderá ser atribuído um valor baixo, ou mesmo 0 (zero) para o negro total.
A os níveis de cinza intermediários pode- se atribuir algum valor entre 0 e 255, por exemplo.
Deve- se salientar que este nível de cinza é o análogo de alguma propriedade do corpo na imagem que seja relevante (normalmente a intensidade do ponto), ou seja, a grandeza física que eles representam.
Por exemplo, na imagem radiográfica, o valor numérico representa a atenuação de raios X no tecido, mas numa imagem de medicina nuclear, esse valor é o número de fótons detectados por uma câmara de cintilação.
Desta forma, a partir de a notação de representação binária define- se o número de arranjos possíveis como:
2 n, onde n é o número de opções possíveis.
Essa regra também é válida para o número de níveis de cinza que se deseja representar.
Com 2 dígitos binários (ou bits) na memória do computador, pode- se ter 4 tons de cinza, com 3 dígitos obtém- se 8 tons de cinza, com 4 dígitos, 16 tons e assim por diante.
Cada pixel, então, tem um certo número de bits a ele associado, podendo, assim, representar não somente a localização do pixel na imagem matriz, como também o seu nível de cinza.
Existem basicamente dois tipos de formatos de imagens digitais:
Vetoriais e raster, chamada também de bitmap.
Imagens raster são compostas por uma matriz de pixel e representam a cor e a localidade espacial do pixel.
Esse formato é amplamente utilizado para fotografias e imagens de alta definição.
Imagens vetoriais são representadas por um conjunto de comandos para se desenhar formas e figuras para dispositivos de saída.
Imagens vetoriais são muito mais fáceis de manipular, pois, por exemplo, se for necessário modificar a escala e rotação, aplicam- se transformações geométricas e somente depois a imagem é redesenhada no dispositivo.
Porém, o formato raster representa muito melhor imagens de alta definição, pois seria muito custoso em termos de armazenamento e processamento ter uma imagem vetorial com alta definição Imagens médicas correspondem a imagens raster, em a qual a matriz de pixels armazena os valores das intensidades associados a respectiva localidade espacial.
A imagem pode ser de diferentes tamanhos, dependendo do dispositivo de aquisição.
Além disso, o formato de imagens bitmap é o utilizado no processo de compactação.
Um único exame como, por exemplo, de Tomografia Computadorizada (CT), pode gerar várias imagens (ou fatias), cada uma ocupando 512X512 X2 bytes.
Em esse caso, cada pixel necessita de 2 bytes para ser representado.
Em o modelo de cores, a representação de cor em computador pressupõe a redução do espaço espectral da cor (que é contínuo) para um espaço discreto.
O gerenciamento de informações num hospital envolve a transmissão de imagens.
A integração de estações de visualização distribuídas, bases de dados on-line, sistemas de gerenciamento de imagens e redes locais de larga escala permitem que os dados ou imagens sejam compartilhados entre profissionais da saúde e que seja feita a visualização local ou remota.
Além disso, os dados podem ser vistos em múltiplos locais simultaneamente.
Entretanto, atualmente existem diversas superposições de funções entre o HIS (Hospital Information System), o Ris (Radiology Information System) e o PACS (Picture Archiving and Communication System).
Portanto, é necessária uma padronização de protocolos para garantir a comunicação entre os diversos equipamentos e softwares envolvidos no processo.
Assim, permite- se a integração dos dados à estrutura do hospital e que estes possam ser armazenados, visualizados e processados por programas ou métodos de forma única.
Para esse fim, o National Equipament Manufacturers Association (NEMA) padrão, chamado ACR-NEMA, que foi o primeiro passo para conseguir a adesão dos fabricantes de equipamentos de imagem digital.
Posteriormente, este evoluiu amplamente aceito na área.
O objetivo do padrão DICOM é facilitar a interoperabilidade dos dispositivos, em diversos aspectos, conforme apresentado a seguir:·
Semântica dos comandos e de dados associados.
Para que os dispositivos interajam, devem ser definidos padrões para os dispositivos reagirem aos comandos e aos dados associados, não apenas à informação que deve ser transferida entre dispositivos;·
Semântica dos serviços de arquivos, formatos de arquivos e informações necessárias para comunicação off line;·
Definição do protocolo de comunicação para executar o padrão.
Em particular, uma informação enviada pode acionar a execução, no dispositivo remoto, de funções de recebimento que geram o reenvio de informações para o dispositivo solicitante;·
Facilidade de operações em rede;·
Estrutura permite a introdução de novos serviços (tags proprietárias), permitindo a evolução dos equipamentos e das aplicações médicas futuras;
O padrão DICOM facilita a implementação de sistemas de PACS, mas o uso do padrão sozinho não garante que todos os objetivos de um PACS serão atingidos.
Esta apenas garante a aplicação dos padrões internacionais existentes.
Este padrão permite que sistemas heterogêneos sejam construídos, desde que cada equipamento comunique- se utilizando o padrão DICOM.
A Figura 2 apresenta o modelo geral de comunicação do padrão DICOM que implementa, tanto a parte de rede (on-line), quanto a parte de armazenamento (off-line).
Portanto, as implementações do DICOM podem trabalhar com independência em relação a as camadas superior (DICOM UPPER), que fornece a comunicação com a utilização do protocolo TCP/ IP) e básica (DICOM Basic File Service), que fornece o acesso aos meios de armazenamento de maneira transparente aos formatos de físicos de armazenamento.
A definição das informações dos objetos (Information Object Definitions) especifica um número de classes de informação do objeto que fornecem uma definição abstrata das entidades real-- world (mundo real) aplicáveis a uma comunicação das imagens médicas digitais e da informação relacionada (por exemplo, relatórios estruturados, dose da terapia de radiação, etc.).
Cada definição da classe do objeto da informação consiste numa descrição de sua finalidade e dos atributos que a definem.
Uma classe de informação do objeto não inclui os valores para os atributos que compreendem sua definição.
Dois tipos de classes de informação do objeto são definidos:
Normalizado e composto.
As classes normalizadas de informação do objeto incluem somente aqueles atributos inerentes na entidade real-- world representada.
Por exemplo, a classe de informação do objeto do estudo, que é definida como normalizada, contém a data do estudo e a hora do estudo, isto porque são inerentes a um estudo real.
O nome do paciente, entretanto, não é um atributo da classe de informação do objeto estudo, porque é inerente ao paciente em que o estudo foi executado e não ao próprio estudo.
O serviço de especificação de classes (Service Class Specifications) define um número de classes de serviço.
Uma classe de serviço associa uma ou mais informações do objeto com um ou mais comandos a serem executados (aplicados) nos respectivos objetos.
As especificações da classe de serviço indicam exigências para elementos de comando e como os comandos resultantes são aplicados às informações dos objetos.
O padrão de DICOM define também as características compartilhadas por todas as classes de serviço.
São exemplos de classes de serviço:·
Storage (armazenamento);·
Query/ Retrieve (localização/ busca);·
Worklist (lista de pacientes de trabalho);·
Backup (cópia de segurança).
Para a especificação de classes ainda são definidas as operações e as notificações executadas em cima de as informações dos objetos, comandos e protocolos.
A estrutura e semântica dos dados (Data Structure and Semantics) especificam como as aplicações DICOM constroem e codificam a informação da série de dados referentes às informações dos objetos e prestam serviços de manutenção às classes.
A seguir são apresentados exemplos:·
o suporte a compressão da imagem com perda (lossy) ou sem perda (lossless);·
construir um conjunto de regras para saber como uma mensagem foi especificada.
Este conjunto é produzido da coleção dos elementos de dados que correspondem à série de dados e também definem a semântica de um número de funções genéricas que são comuns a muitos objetos da informação;·
a definição das regras para o conjunto de dados referentes aos caracteres (internacionalização) usados dentro de o DICOM.
O dicionário de dados (Data Dictionary) define o conjunto de todos os elementos dos dados DICOM disponíveis para representar a informação, ou seja, junto com os elementos utilizados para os meios permutáveis que codificam as informações e uma lista das representações identificadas que são atribuídos por o DICOM.
Para cada elemento, é especificado:
Tag, que consiste num grupo e um número para o elemento -- exemplos, nome (nome do paciente), tipo (caractere, inteiro, etc.), multiplicidade (quantos valores por atributo).
O padrão DICOM suporta a codificação de informações do laudo do paciente através do DICOM Structured Reporting (DICOM Sr).
A troca de mensagens (Message Exchange) especifica o serviço e o protocolo usados por uma aplicação num ambiente médico para trocar mensagens sobre os serviços de comunicação definidos e suportados por o DICOM.
Uma mensagem é composta por uma linha de definição seguida por uma outra linha de dados opcional.
Assim, pode- se definir que:·
as operações e as notificações estarão disponíveis para prestar serviços de manutenção às classes definidas;·
as regras para estabelecer e terminar associações fornecerão suporte a comunicação;·
será possível controlar as transações de solicitação e resposta;·
o controle das regras necessárias para transferir as mensagens (streams) será realizado.
O suporte a comunicação em rede para troca de mensagens (Network Communication Support for Message Exchange) descreve os serviços de comunicação e os protocolos das camadas superiores necessários para suportar, num ambiente de rede distribuído, a comunicação entre aplicações DICOM.
Estes serviços e protocolos de comunicação asseguram- se de que uma comunicação entre aplicações DICOM seja executada de forma eficiente e coordenada através da rede.
Os serviços de comunicação especificados são um subconjunto apropriado dos serviços fornecidos por a especificação OSI e do serviço de controle de associação da OSI (ACSE) (Iso 8649).
Os serviços da camada superior permitem que as aplicações estabeleçam conexões, transfiram mensagens e terminem conexões.
O protocolo da camada superior do DICOM é, portanto, utilizado conjuntamente com protocolos do transporte do TCP/ IP, que é o principal protocolo de comunicação utilizado em redes locais e na Internet.
As mídias para armazenamento e formatos de arquivos (Media Storage and File Format) especificam o armazenamento de imagens médicas em meios removíveis.
A finalidade desta parte é fornecer uma estrutura que permita a compatibilidade das imagens e das respectivas informações associadas com uma grande variedade de formatos de arquivos e meios de armazenamento físicos Existem dois índices num servidor PACS definidos por o protocolo DICOM:
Worklist e MPPS (Modality procedure performed Step).
O Worklist é um índice composto por o nome do paciente, estudos, séries e imagens que garante a integridade das imagens armazenadas.
O MPPS é um índice que identifica os diferentes estados de um exame, que vai desde a criação do estudo até a aquisição da imagem e laudo do médico durante o diagnóstico.
Todo acesso às imagens é feito através destes dois índices que permitem, por a integração com as modalidades, o cadastramento único dos pacientes.
Sendo que o duplo cadastramento é responsável por uma perda significativa de exames realizados num hospital.
A Figura 3 mostra a integração do PACS com o ambiente do hospital através do protocolo DICOM.
Os serviços do protocolo DICOM utilizados no PACS Server são:
Storage, query/ retrieve, worklist e MPPS (Modality Performed Procedure Step).
O storage é utilizado para enviar as imagens e o Query/ Retrieve para receber.
Assim, por exemplo, uma modalidade de tomografia computadorizada (Tc) pode fazer um storage de uma série no PACS Server que receberá as solicitações de Query/ Retrieve dos softwares de visualização para o radiologista fazer o laudo.
Desta forma, é definida a comunicação no nível de aplicação que possibilita transferência de informações por objetos, permitindo que a imagem acompanhe os diferentes estágios do processo de diagnóstico médico.
Todas as imagens podem ser caracterizadas por diversos parâmetros de qualidade.
Os mais úteis desses parâmetros são a resolução espacial, a resolução de contraste e a resolução temporal.
Esses parâmetros foram largamente usados para caracterizar imagens de raios X tradicionais;
Eles também provêem os meios para comparação de imagens formadas por modalidades (equipamentos de tomografia ou ressonância magnética, entre outros) da aquisição de imagens digitais.
A resolução espacial está relacionada à distância entre as imagens 2D adquiridas por as modalidades que empilhadas formam um volume 3 D;
Ou seja, a separação física entre as imagens adjacentes de uma seqüência.
Para a imagem digital, a resolução espacial é determinada por o número de pixel por área de imagem.
A resolução de contraste é a medida da capacidade para distinguir pequenas diferenças de intensidade, como mudanças nos parâmetros mensuráveis, tais como atenuação de raios X para imagens digitais.
O número de bits por pixel determina a resolução de contraste da imagem.
Finalmente, a resolução temporal é a medida de tempo necessário para formar imagens funcionais (produzir o comportamento dos batimentos cardíacos de um paciente).
A taxa mínima para este tipo de imagem é de 30 frames (imagens) por segundo.
Uma resolução inadequada resulta na impossibilidade de distinguir estruturas;
Duas estruturas podem parecer uma só (baixa resolução espacial) ou uma lesão pode não apresentar limites precisos (baixa resolução de contraste).
Outros parâmetros que são especificamente relevantes para a produção de imagens médicas são os que quantificam o risco do paciente no exame, os graus de invasibilidade, a dosagem de radiações ionizantes, o grau de desconforto gerado no paciente, a portabilidade do instrumento, a capacidade de descrever as funções fisiológicas, bem como as estruturas anatômicas, e o custo do procedimento.
Uma modalidade de produção de imagens ideal deveria produzir imagens com alta resolução espacial de contraste e temporal;
Deveria ser de baixo custo, portátil, livre de risco, indolor, e não invasiva;
Não deveria usar radiações ionizantes;
A seleção da modalidade mais apropriada para um diagnóstico em particular requer a renúncia entre essas várias dimensões.
A resolução espacial é o problema mais freqüentemente questionado da imagem digital.
A fim de igualar a resolução espacial típica do filme, uma imagem de 14X17 polegadas poderá ter aproximadamente 2000X2500 pixels, e para capturar todas as informações de níveis de cinza, cada pixel deve carregar pelo menos 10 bits.
Por este método o tamanho da imagem chegaria a 6,5 Mb.
Para dobrar- se a qualidade da resolução espacial é necessário quadruplicar o número de pixel.
Já a resolução de contraste varia linearmente com o número de bits requeridos.
Em uma imagem digital há, basicamente, três tipos de redundâncias:
Código, interpixel e psicovisual.
Em a redundância de código, o processo de codificação atribui à informação códigos com número de bits variáveis de acordo com a probabilidade de ocorrência de determinado tom de cinza ou cor do pixel na cena.
Em outras palavras, o nível de cinza ou cor com maior ocorrência, será representado por uma palavra-código de comprimento menor.
Se um nível de cinza ou cor tem pouca presença na cena, este valor é representado por uma palavracódigo maior.
A redundância psicovisual está relacionada à informação visual real ou quantificada numa cena.
Portanto, a redução ou a eliminação da redundância psicovisual, leva necessariamente a um processamento com perdas.
As técnicas de compressão exploram estas redundâncias para diminuir o espaço de armazenamento das imagens.
Existem, basicamente, dois tipos de compressão de imagens:
Sem perdas e com perdas.
A compressão sem perdas utiliza técnicas que permitem a reconstrução completa de todos os pixel da imagem.
Ou seja, este tipo de compressão permite a recuperação exata dos dados da imagem original.
Portanto, esta seria a técnica de compressão a ser utilizada para diagnósticos médicos, para não haver nenhuma alteração na imagem no momento do diagnóstico.
A compressão com perdas possibilita uma alta taxa de compressão, mas nem todos os pixel podem ser restaurados, caracterizando um processo irreversível.
Por exemplo, um pixel com os valores RGB (tipicamente vermelho, verde e azul) teria os valores e numa imagem comprimida, pode produzir os valores, quando esta for expandida.
Pode- se obter uma imagem de alta qualidade, mas em alguns casos, e dependendo da taxa de compressão e da aplicação que será utilizada aquela imagem, não é recomendada a utilização de compressão com perdas.
Com o aumento dos dados e imagens disponibilizadas, a sua transmissão torna- se cada vez mais demorada.
Para minimizar este problema são utilizadas técnicas de compressão de imagens, além de a possibilidade de escolha da qualidade necessária de transmissão da imagem para cada tipo de diagnóstico.
Com o objetivo de aumentar a capacidade de armazenamento e permitir a telerradiologia através de conexões internet como ADSL e Cable Modem, pode- se utilizar o JPEG 2000.
Este padrão de compactação é eficiente e atende o requisito de não perder informações da imagem permitindo o janelamento de níveis de cinza que é a base para diagnosticar inúmeras lesões.
Como exemplo pode- se citar o janelamento em imagem tomográficas por raios X, onde o equipamento produz números (CT ou Hounsfiel) na faixa de aproximadamente níveis de cinza.
Contudo, o olho humano não é capaz de distinguir mais do que cerca de 100 matizes de cinza.
Para aproveitar a máxima precisão disponível da imagem de tomografia computadorizada, o operador pode fazer o janelamento da imagem ajustando o ponto médio e a gama de exibição dos valores CT.
De este modo, o radiologista consegue perceber melhor pequenas mudanças de contraste dentro de a sub-região de níveis de cinza de interesse.
Permitindo, por exemplo, a identificação de diferenças em regiões mais claras, sacrificando, porém, neste momento a resolução em regiões mais escuras.
Em este processo, as imagens DICOM adquiridas por as modalidades Tc, RM e RX (entre outras) são compactadas através do novo padrão proposto, permitindo a compactação sem perda de informações da imagem adquirida.
O padrão antigo JPEG não tem esta capacidade de compactar sem perda.
Desta forma, o tratamento da imagem no padrão JPEG2000 é igual ao tratamento de uma imagem DICOM.
Em o momento em que uma solicitação remota é realizada, o sistema identifica a necessidade de transmissão compactada.
Assim, a imagem é compactada sem perda no padrão JPEG2000, mas quando esta imagem chega no destino é descompactada.
Este processo permite a extensão da imagem para o formato original (RAW) exatamente como no padrão DICOM num processo de fluxo contínuo através de uma conexão do protocolo DICOM com uma associação por socket.
A compatibilidade é garantida com outras estações de visualização DICOM através da identificação da solicitação de transmissão na associação DICOM (sem compactação ou com compactação) para cada estação de trabalho.
Assim, se o PACS identifica que não existe compatibilidade com o padrão JPEG 2000, é realizada a transmissão DICOM sem a compactação para o visualizador que solicitou a imagem.
A seguir é apresentado o servidor de imagens INPACS desenvolvido por a empresa INPAR que serviu de infra-estrutura tecnológica para implementação da arquitetura proposta.
O objetivo desta integração foi permitir a validação da arquitetura definida num ambiente real utilização.
O Servidor INPACS é compatível com o protocolo DICOM e foi desenvolvido em JAVA.
A integração da arquitetura de indexação proposta ao INPACS foi definida baseando- se nestes dois aspectos.
A arquitetura do INPACS, implantada no Hospital São Lucas da PUCRS, busca atender a necessidade de utilização de sistemas digitais para realização dos laudos radiológicos em ambientes de alta disponibilidade para garantir a continuidade do atendimento sem interrupções, aos pacientes em centros de pronto atendimento.
O gerenciamento das imagens médicas adquiridas num hospital envolve o seu armazenamento, transmissão, recuperação e integração com modalidades de geração de imagens e estações de visualização distribuídas.
Para esse ambiente são necessários sistemas de gerenciamento de imagens juntamente com um banco de dados com boa performance.
O grande volume de imagens geradas num hospital agregado com o tamanho médio de uma imagem médica digital torna- se necessário um ambiente distribuído e com alta disponibilidade.
Outra função importante de um sistema PACS é o roteamento de imagens que permite distribuir as imagens aos diversos setores do hospital.
O INPACS apresenta um modelo personalizável de distribuição de imagens com possibilidade de aplicar filtros e conversões nas imagens antes de serem enviadas.
Em a Figura 5, é apresentado o console de gerenciamento do servidor INPACS.
Conforme mencionado anteriormente, o sistema INPACS foi construído a partir de a especificação DICOM.
Sua função é permitir o armazenamento e a recuperação de imagens médicas.
O INPACS implementa os serviços Storage e Query/ Retrieve do referido protocolo DICOM.
O sistema foi construído com uma arquitetura distribuída utilizando múltiplos servidores para armazenamento, mas um banco de dados centralizado.
Devido a o grande volume de imagens e ao tamanho da imagem em bytes, foi utilizado o padrão JPEG 2000 para compactação sem perdas, que permite uma taxa de 3:1.
O INPACS foi implementado para criar um ambiente personalizável para a inclusão de novas modalidades e serviços radiológicos, permitindo que a imagem seja transferida entre os diversos equipamentos de um hospital de forma eficiente.
A solução INPACS permite a distribuição dos serviços, tornando- se escalável e com alto desempenho.
O sistema foi dividido em três camadas:
Banco de dados, aplicação e armazenamento.
Em a camada de aplicação são executados os serviços do protocolo Dicom.
Estes poderiam estar rodando em várias máquinas independentes com pouca capacidade de disco e teriam acesso a um banco de dados unificado que estaria clusterizado.
Em este caso, as imagens poderiam estar armazenadas em diferentes storages (discos rígidos para armazenamento).
No caso de a primeira referência para uma imagem estar indisponível, a aplicação buscaria uma nova referência para a mesma imagem e faria a transferência para a estação que solicitou.
Em esta solução teríamos um único índice de imagens, múltiplas referências e segmentação do tráfego na rede sem a necessidade de uma grande estrutura de hardware.
A arquitetura do sistema distribuído se baseia no conceito de um gerenciador de tarefas configuráveis.
As tarefas são disparadas por eventos de recebimentos de imagens e mensagens do protocolo DICOM.
Quando uma imagem é recebida num servidor, pode- se configurar tarefas, como a compactação em JPEG2000, o armazenamento e o roteamento destas imagens.
O diagrama de classes na Figura 6 mostra o modelo do gerenciador de tarefas capaz de criar um ambiente personalizável para distribuição de imagens médicas.
Em este modelo a imagem &quot;DicomImage «é associada ao gerenciador de tarefas &quot;TaskManager «que estabelece dois tipos de funções:
Armazenamento e roteamento.
O armazenamento &quot;StoreTask «suporta os formatos JPEG, Jpeg2000 e Dicom.
As regras de roteamento são definidas na classe &quot;RouterTask «e devem conter o destino da imagem recebida.
Com esse sistema é possível criar um ambiente onde uma imagem é enviada para um servidor que envia uma cópia para outro.
O segundo será o servidor de arquivamento principal e o primeiro servirá como um gateway para acesso por estações de visualização.
Com isso, não haverá sobrecarrega o servidor de armazenamento.
Um cenário possível é o armazenamento em dois servidores replicados, onde um recebe a imagem da modalidade e envia para o outro, também é enviada a imagem para um terceiro servidor que funciona com um gateway para envio de imagens para estações de visualização.
Assim, é possível distribuir o tráfego de rede em servidores dedicados à transmissão e outros dedicados para o recebimento de imagens.
Normalmente gateway não tem mesma capacidade de armazenamento que os outros servidores e por isso, será necessário uma rotina de remoção das imagens menos acessadas e mais antigas.
Um ambiente distribuído permite a alta disponibilidade de um serviço agregado com uma infra-estrutura de hardware de baixo custo.
O roteamento inteligente e compactação de imagens implementados no INPACS possibilitam uma arquitetura apta a atender diversos setores de um hospital.
O Centro de Diagnóstico por Imagem (CDI) do Hospital São Lucas da PUCRS utilizou o sistema no periodo de janeiro de 2006 a maio de 2007.
Observa- se que com a inclusão do setor de raios X, em janeiro de 2007 houve um aumento significativo no volume de imagens armazenadas, chegando à média de 300 exames por dia somente no setor de raios X.
Os problemas das aplicações clínicas devem ser resolvidos de uma forma rápida e objetiva.
Entretanto, o processo de observação humana é influenciado por os aspectos internos e externos.
Os aspectos externos fazem referência às informações identificadas que independem do observador (luz ambiente, monitores, ruídos e etc) e os aspectos internos fazem referência à fadiga que atrapalha o indivíduo no relacionamento das informações obtidas com o seu próprio conhecimento e a experiência do radiologista.
Uma aplicação de CAD tem basicamente dois aspectos que influenciam na sua efetividade.
O primeiro está associado à metodologia de processamento das imagens e o segundo com a visualização dos resultados através de uma interação intuitiva com o usuário Em a criação de ferramentas para auxiliar o processo de interpretação das imagens, que lida com a extração de informações específicas, pode- se classificar os tipos de informações resultantes em:·
transformação das imagens (realce, supressão de ruídos, registro, etc);·
extração de parte da imagem com determinada região anatômica;·
extração de informações (dados) relacionados à anatomia.
Em um sistema de CAD, estas funções podem ser executadas automaticamente ou através de um processo de interação com o usuário.
A manipulação da imagem pode ser utilizada para aumentar o contraste de uma área em relação a a outra, ou mesmo, para a extração de extremidades (interfaces/ bordas).
Supressão de artefatos (ruídos) e efeitos de espalhamento (scattering effect) conduzem à redução de artefatos indesejados e à conseqüente melhora na qualidade da imagem.
Sistemas para auxílio à detecção têm sido desenvolvidos principalmente para imagens de tórax e de mama.
Este processo de detecção automatizada de lesões envolve a localização de regiões contendo padrões anormais, que posteriormente devem ser submetidos a análise do radiologista que procura essencialmente por padrões indicadores das patologias, como nódulos e microcalcificações.
Podem ser efetuadas comparações entre padrões de densidade de diferentes áreas de uma mama e entre as mamas direita e esquerda, que são descritas no método de análise computadorizada desenvolvido por Giger.
Atualmente, estão sendo desenvolvidas diversas pesquisas para a detecção de lesões espiculadas, assimetrias, aumento de densidade, lesões circunscritas e distorções de parênquima.
A partir de a detecção de uma lesão, deve ser estabelecida por o radiologista a forma de tratamento do paciente, com o acompanhamento da evolução da patologia, ou mesmo, com a realização de exames adicionais ou biópsias.
Os sistemas de auxílio ao diagnóstico têm o objetivo de auxiliar na identificação de lesões, malignas ou benignas, e melhorar a eficiência do diagnóstico através do foco nas informações fornecidas por o radiologista.
Também são utilizados atributos extraídos e quantificados automaticamente.
Desta forma, os radiologistas interpretam os atributos extraídos da imagem para fazer o laudo.
O principal objetivo dos sistemas de auxílio à classificação é a diminuição do número de casos benignos enviados para biópsia (falsos positivos), não diminuindo, contudo, o número de casos verdadeiramente malignos enviados, pois o custo social gerado por a não identificação precoce de uma lesão desse tipo é muito grande.
O desenvolvimento de métodos de auxílio à classificação, baseados na extração e quantificação automatizada de atributos, exige a definição dos atributos clinicamente significativos e posteriormente o estabelecimento dos métodos para sua extração e quantificação.
Como a interpretação cuidadosa de imagens radiográficas consome tempo, e o custo para treinar radiologistas é alto, alguns pesquisadores têm trabalhado no desenvolvimento de sistemas de ajuda à interpretação de imagens por computador.
Esses sistemas podem ser particularmente utilizados com o propósito de triagem, por exemplo, em exames de tórax pré-operatórios ou mesmo em mamografias periódicas.
Em a condição de triagem, a probabilidade de verdadeiro positivo é relativamente baixa.
Podendo ocorrer erros através do demorado e tedioso procedimento de análise manual.
O sistema computacional tem a função de varrer as imagens indicando regiões com possíveis anormalidades para posterior interpretação do radiologista.
O processo de interpretação de imagens é baseado em técnicas de Ia (Inteligência Artificial), existindo o consenso de que o desenvolvimento de uma interpretação automatizada seria muito complexo.
Uma interpretação semiautomática seria viável através da resolução de sub-tarefas de uma tarefa de interpretação global.
O reconhecimento de padrões e análise de imagens pode ser dividido em quatro sub-tarefas:
O processamento global envolve o processamento da imagem inteira, sem levar em consideração o conteúdo local específico.
O objetivo é realçar/ destacar elementos da imagem para a visualização humana ou para posterior análise por o computador.
O processamento global é o mais ativo e mais próspero campo de pesquisa de análise de imagens, porque se utilizam os princípios físicos de geração de imagens.
Um exemplo do processamento global aplicado a imagens tomográficas é a equalização do histograma, em o qual a distribuição estatística de níveis de cinza é distribuída uniformemente, muitas vezes melhorando a resolução de contraste da imagem.
Uma variedade de algoritmos de filtragem pode ser aplicada no processamento da imagem para remover ruídos, para realçar margens ou bordas, ou para melhorar a nitidez das imagens.
Durante a fase de segmentação, as regiões de interesse são extraídas da imagem.
Estas regiões usualmente correspondem a estruturas significativas anatomicamente, tais como órgãos ou partes de órgãos.
A estrutura pode ser identificada por as suas bordas, nesse caso por meio de técnicas de detecção de bordas, como, por exemplo, algoritmo de aproximação de bordas.
A detecção de características é o processo de extração de informações úteis para as regiões segmentadas.
Eles também podem ser aplicados dentro de um processo de classificação automatizado, o qual determina o tipo de objeto construído.
Por exemplo, pequenas regiões circulares na imagem de raios X de tórax, podem ser classificadas como tumores, dependendo de fatores como intensidade, perímetro, área e forma.
Modelos matemáticos são freqüentemente utilizados para ajudar na execução de sub-tarefas de análise automática de imagens.
Alguns pesquisadores estão aplicando técnicas de Ia para imitar a interação entre sub-tarefas.
O computador é programado com alguns dos conhecimentos anatômicos que o radiologista usa quando interpreta as imagens.
Assim, um bom modelo orgânico (estrutura interna do corpo humano) dá uma referência de alto nível para que o processo de segmentação funcione a contento.
A classificação está relacionada à análise quantitativa da imagem, que agrupa os conjuntos por a relação de afinidade aos padrões normais ou anormais analisados.
Como exemplo para classificação, pode- se citar a associação da quantidade e forma das microcalcificações presentes numa região da mama com a malignidade ou não do tumor, ou a associação de determinadas texturas dos pulmões com lesões intersticiais em imagens de tórax.
Antes do início do processo de aquisição da imagem o médico escolhe a modalidade de melhor indicação.
Por exemplo, a ressonância magnética geralmente é indicada para visualização e análise de tecidos moles.
As imagens de Tc por raios X são excelentes para análise dos ossos.
As imagens de Medicina Nuclear (Mn) fornecem informações fisiológicas ao invés de anatômicas.
Depois da imagem ter sido gerada, é preciso analisar- la.
Usualmente o exame radiológico é requisitado por quatro razões básicas:
Visualização, quantificação, localização e triagem.
Por exemplo, pode- se ajustar os níveis de cinza de uma imagem para exibir as regiões de maior interesse.
Técnicas de filtragens digitais também podem ser aplicadas para remover ruídos ou fazer a detecção de bordas melhorando a definição das imagens.
Atualmente existem diversas técnicas de processamento para a análise de imagens, que permitem quantificar parâmetros, tais como o volume do coração ou o tamanho do feto, visando fornecer elementos para um melhor diagnóstico.
Para certos propósitos, tais como cirurgias ou radioterapia, a localização precisa da lesão é a principal razão para estudo.
A localização também é crucial para procedimentos radiológicos intervencionistas, tais como biópsias com agulha e drenagem de abscessos.
Os radiologistas analisam as imagens para determinar o melhor local para chegar à lesão, e para determinar o ângulo de aproximação e a profundidade.
Dados de imagens tridimensionais são inestimáveis para localização, porque estas devem ser relacionadas a pontos de referência externos no corpo.
Esta informação também é usada no planejamento de radioterapia, em o qual o oncologista deve examinar o volume da zona de tratamento precisamente, evitando órgãos sensíveis.
As técnicas para o desenvolvimento de uma aplicação de apoio ao diagnóstico médico envolvem o uso do computador para o processamento de dados, visando à distinção entre padrões normais e anormais, a partir de os atributos extraídos das imagens.
As técnicas relacionadas a essa área do conhecimento incluem métodos para a seleção de atributos, como os baseados na separabilidade entre as distribuições de probabilidades das classes e algoritmos genéticos, e classificadores, como os baseados em técnicas de análise discriminante, sistemas especialistas baseados em regras específicas, métodos estatísticos, redes neurais artificiais e ontologias.
As Figuras 7 e 8 apresentam exemplos de redes neurais artificiais e de ontologia.
A Figura 7 apresenta um esquema de uma rede neural artificial multicamadas do tipo feedforward que mostra os diferentes níveis criados numa rede neural para permitir a classificação do conjunto de dados de entrada, no caso em específico do problema proposto, imagens de exames e ou informações clínicas.
O uso de ontologias pode ser aplicado à representação de conhecimento com suporte ao CAD.
Um exemplo que utiliza o conceito de atlas digital é apresentado por Guliato que propõe o modelo AMDI (An Atlas to Integrate Case Studies, E-Learning, and Research Systems via the Web).
Este modelo facilita a entrada de novos casos de referência associados à mamograficas e informações clínicas e radiológicas, inclusive identificando hábitos relacionados à saúde e a qualidade de vida de cada paciente.
Este atlas incorpora um sistema de ensino e um de pesquisa que são projetados para permitir suporte ao diagnóstico, telerradiologia, telemedicina, recuperação de imagens indexadas baseadas em mineração de dados.
A Figura 8 apresenta a arquitetura de um sistema baseado em ontologia para inferir consultas a uma base de conhecimento.
Em esta arquitetura é possível verificar que a &quot;Ontologia», o &quot;Repositório de Conhecimento «e o &quot;a unidade de Processamento de imagens «são independentes e interagem com a camada de controle da aplicação &quot;Shell «para gerar os resultados a partir de os parâmetros definidos por os usuários.
Esses dois exemplos representam à idéia básica de utilizar a Inteligência Artificial para tornar os sistemas de conhecimento e suporte ao diagnóstico mais eficientes.
Ontologia pode ser definida como uma especificação explícita abstrata e simplificada (conceitualização) de um domínio a ser representado.
Em a Ia se uma entidade pode ser representada, então ela é uma especificação explícita de uma conceitualização.
Assim, a conceitualização é definida como a interpretação estruturada dos conceitos, relacionando- os.
Os conceitos, neste caso, referem- se àqueles selecionados como relevantes num determinado domínio.
O termo &quot;explícito «significa que o conjunto de conceitos utilizados e as restrições aplicadas, são previamente e explicitamente definidas.
A importância da formalização de uma ontologia refere- se à capacidade de processar- la por o computador, o que exclui definições em linguagem natural.
Finalmente, uma ontologia é compartilhada porque descreve um conhecimento consensual, que é utilizado por mais de um indivíduo e aceito por um grupo.
Assim, uma ontologia é a união de um conjunto não vazio de atributos, conceitos e especificações em contraposição com as hierarquias, tendo como função básica a representação do conhecimento através dos relacionamentos e axiomas.
A hierarquia conceitual é estabelecida na ontologia através dos relacionamentos que podem ser subdivididos em taxonomia, mereologia, temporal e topológico, exemplificados a seguir.
A) Taxonomia -- o significado da expressão &quot;A é um B «é definido por &quot;A é uma classe de B».
As propriedades da taxonomia são:
Irreflexividade, transitividade e simetria.
B) Mereologia -- é definida como:
&quot;Parte de».
A expressão &quot;Parte de B «é na verdade &quot;A é uma parte de B».
As suas respectivas propriedades são:
Irreflexividade, assimetria e não transitividade.
Pode- se citar como exemplos para mereologia as relações membro/ conjunto (árvore/ floresta) e fase/ processo (adolescência/ desenvolvimento).
C) Temporalidade -- O significado de temporalidade é justamente uma seqüência temporal de eventos ou processos.
Suas propriedades são a irreflexividade, a transitividade e a assimetria.
D) Topologia -- define um simples relacionamento semelhante ao conceito de Engenharia de software.
A expressão &quot;A está conectado a B «apresenta sua respectiva forma e as propriedades são a irreflexividade, a assimetria e a não transitividade.
As regras para modelar condições sempre apresentam axiomas.
Os estruturados derivam de relacionamentos existentes entre conceitos e atributos (ex:
A é um B);
Já os não estruturados definem o relacionamento apenas entre os atributos (ex:
F $= m* a.).
Em a Figura 13, é apresentado um exemplo de formalização de ontologia, com dois tipos de relacionamento &quot;Parte «de &quot;e «É um».
Estes relacionamentos fornecem a semântica necessária aos conceitos.
Em este caso, o coração pode ser definido como um órgão por a simples inferência à ontologia.
Espaço Anatômico Estrutura Biologia Macro Molecular Partes das Células Componentes Não Físicos Anatômicos Células Partes das Células Partes dos Órgãos Órgãos Sistema Orgânico Partes do Corpo Corpo Humano Exemplo de ontologia da anatomia Humana.
Os recursos de uma organização podem ser tangíveis (maquinário) ou intangíveis (melhores práticas).
Em este contexto, se faz necessário melhorar os níveis de utilização dos recursos intangíveis, objetivando aumentar a performance e, manter de forma permanente, o conhecimento organizacional e mesmo, a representação da informação, assim como a própria informação com um alto grau de reusabilidade.
Manter a memória diagnóstica de uma instituição hospitalar implica na criação/ formalização (cada radiologista deve contribuir com seu conhecimento), distribuição (todos os membros devem ter acesso à memória corporativa), uso (este referido conhecimento deve ser utilizado) e consistência (verificação da validade desta memória sobre o aspecto da lógica e do aspecto temporal).
A integração de ontologias é na verdade um processo de unificação de conhecimento coletado de diferentes conjuntos.
Suas vantagens são comprometimento com o trabalho cooperativo e o aprimoramento pessoal com a construção de conhecimento gerado justamente por esta integração.
Os esforços nesta área estarão divididos em diferentes tópicos a serem desenvolvidos num futuro próximo.
Entre estes, destacam- se:
A adição de novos tipos de relacionamento;
A definição do ambiente organizacional com maior realismo;
A utilização de tecnologia multimídia para facilitar a representação;
E a busca/ armazenamento de conhecimento.
A busca por informações pode ser feita através de consultas por elementos textuais ou por informações sobre o conteúdo pictórico das imagens.
Os que implementam esta busca por similaridade são chamados de sistemas de consulta baseados em conteúdo das imagens.
Estes sistemas devem estar integrados a um ambiente médico que se caracteriza por a diversidade e quantidade de informações que são produzidas no processo de diagnóstico do paciente.
O serviço de Radiologia e o sistema hospitalar podem ser encontrados dentro desse ambiente, gerenciando os dados administrativos e clínicos.
Estes dados podem estar na forma de atributos textuais, representando informações gerais sobre o paciente e dados do prontuário, bem como acessar as imagens armazenadas no servidor PACS.
A extração de uma determinada região anatômica é freqüentemente um problema e depende da predefinição de uma configuração específica a ser aplicada a cada diferente estrutura anatômica.
Certos métodos podem ser aplicados a toda imagem ou a regiões selecionadas.
A seguir são apresentados os métodos mais comuns de formulação de consulta, de acordo com o tipo de informação a ser utilizada na caracterização do conteúdo da imagem:
Baseadas em atributos textuais:
As informações textuais são normalmente obtidas através da análise de um especialista no domínio de conhecimento relacionado ao tipo de diagnóstico.
Apresenta alto índice de ambigüidade e é altamente dependente do conhecimento desse especialista.
Baseadas em características pictóricas:
Consistem na extração de uma série de elementos gráficos que caracterizam o conteúdo da imagem.
São exemplos:
Histograma, textura, descritores da forma, etc..
Exige a definição de uma semântica apropriada ao conjunto de informações ao domínio da aplicação.
Baseadas em imagem-exemplo:
Consistem em utilizar uma imagem de referência para comparação com as imagens analisadas.
O processo de extração das características das imagens permite relacionar de forma organizada as propriedades da imagem sobre os aspectos:
Esta indexação é associada ao reconhecimento de padrões através do processo de segmentação (localização do objeto de forma isolada que está contido na imagem);
Extração de atributos (cálculo dos valores que descrevem propriedades quantitativas internas e externas da imagem);
E classificação da imagem (como por exemplo, em relação a os tipos de exames que definem os objetos esperados).
A Figura 15 apresenta as etapas para o reconhecimento de padrões.
A seguir é apresenta uma taxonomia, definida por, sobre quais são os atributos mais utilizados no processo de extração de características, divididos em cinco categorias.
Intensidade bruta (Raw Intensity):
Baseia- se nas intensidades dos pixel da imagem;
Bordas: Estrutura intrínseca, menos sensível a ruídos que incluem contornos e interfaces.
Características Salientes: Estrutura intrínseca, posicionamento preciso com interseção de linhas, cantos e pontos de alta curvatura.
Características Estatísticas: Usa toda informação presente na imagem e apresenta bons resultados para transformações rígidas.
Também fornece suporte a suposições e apresenta eixos principais com a utilização de técnicas como:
Singular Value Decomposition (SVD) e centróides Características de Alto Nível:
Utilizam relações e informações de alto nível apresentando bons resultados para registro local e impreciso.
Define características estruturais (grafos de configurações de sub padrões) e sintáticas (gramáticas compostas a partir de padrões);
E redes semânticas.
Em esta categoria podem ser criadas técnicas de assinatura para indexar imagens.
Em a análise baseada em conteúdo define- se uma hierarquia de abstrações em quatro níveis distintos para modelagem deste processo de análise.
Em o primeiro nível, o pixel da imagem define a informação referente a a densidade (cor e brilho) associada a cada elemento.
Em o segundo nível é realizada a análise sobre atributos (bordas, cantos, linhas curvas e regiões de mesma densidade).
O terceiro nível associa os atributos em conjunto buscando relacionálos.
Em o quarto nível, o radiologista faz uma análise final.
A Figura 16 apresenta a idéia da abstração descrita anteriormente.
Em este contexto, os algoritmos para extrair formas e texturas são muito dispendiosos e dependem do domínio da aplicação (tipo de diagnóstico).
Portanto, é melhor deixar- los para o último passo na separação de imagens, quando o conjunto resposta candidato já foi reduzido através do uso de outras formas características.
Assim, a importância de histogramas de cor ou brilho é devido a a simplicidade de obter- los e comparar- lo, pois as operações são executadas em tempo linear.
Esta seção apresenta alguns conceitos de recuperação e pesquisa de informações que foram utilizados para a especificação da arquitetura de indexação proposta.
Sistemas de recuperação de informações devem ser capazes de armazenar, recuperar e manter as informações.
Seu principal objetivo é minimizar o desperdício de tempo do usuário ao procurar a informação desejada, ou seja, a informação que está no sistema e que se relaciona com a necessidade do usuário Duas formas de medida comumente associadas com sistemas de recuperação de informação são a precisão e recall (retorno).
Assumindo a relevância de um resultado como documentos que contêm a informação que ajude o usuário a responder sua questão, pode- se definir a precisão como a razão entre o número de resultados de uma procura que são relevantes (corretas) e o número total de resultados.
O resultado desta relação reflete a eficiência do processo de procura e seleção das informações num espaço total de documentos.
Se, por exemplo, o resultado de uma procura mostra uma precisão de 80%, os 20% restantes denotam o overhead, ou seja, a quantidade de itens não relevantes, mas que fazem parte do resultado.
Além disso, existem resultados relevantes que não são retornados para o usuário.
Para essa medida é utilizada a métrica mencionada de recall que é a razão entre o número de resultados relevantes e o número possível (total) de resultados relevantes.
O recall é um conceito muito útil, mas não é calculável, pois se o sistema soubesse o número possível de resultados relevantes, então ele simplesmente poderia mostrar- los sem que houvesse margem de erro.
A seguir é apresentada a Figura 17 que ilustra o cenário descrito anteriormente.
A precisão é diretamente afetada por a quantidade de resultados não relevantes.
O recall não é afetado por os resultados não relevantes.
Assim sendo, se existem 20 documentos num banco de dados de os quais 5 de eles são relevantes e o resultado da procura nos mostra apenas 2 destes documentos relevantes, e 2 que não são relevantes, então se obtém uma precisão de 2/4 que resulta em 50% e um recall de 2/5 que resulta em 40%.
Se por acaso o resultado nos mostrasse 10 documentos de os quais apenas 2 são relevantes, então a precisão ficaria em 2/10, que equivale a 20%, e o recall resultaria em 2/5, que equivale a 40%.
como se pode observar, a quantidade de resultados não relevantes afetam a precisão do mecanismo de procura, mas não afetam o recall.
O objetivo principal dos mecanismos de procura é balancear a relação entre precisão e recall, mostrando o máximo possível de documentos relevantes.
Desta forma, tentando minimizar a quantidade de documentos no resultado que não interessa ao usuário.
Um mecanismo eficiente e prático para o usuário final, faz com que o mesmo encontre as informações de forma rápida e eficiente, sem perder seu tempo numa nova seleção dos documentos já identificados por o sistema.
Observa- se que os conceitos de precisão e recall podem ser associados as idéias de sensibilidade e especificidade comumente utilizadas na área médica.
O primeiro passo num sistema de busca e armazenamento de informações é a normalização dos dados.
Essa normalização consiste numa transformação dos dados para um formato padrão assumindo uma estrutura de dados consistente para posterior manipulação dos processos de pesquisa.
As operações, apresentadas na Figura 18, são necessárias para normalizar os dados e criar uma estrutura consistente de pesquisa:
Identificação das palavras-chave (tokens), filtragem das stopwords (palavras não relevantes para busca que alteram o potencial de diferenciação de entre outros documentos), caracterização dos tokens, e stemming (remoção dos sufixos dos tokens).
O processamento dos tokens e sua caracterização são necessários para definir a parte essencial da totalidade do texto.
Os sistemas de busca e indexação recebem como entrada o texto e como saída uma versão processada ou filtrada desse texto.
Isto é feito para reduzir o tamanho do texto ou padronizar- lo, tornando a pesquisa mais eficiente.
Em este caso, qualquer query (pesquisa), antes de consultar o índice e posteriormente o banco de dados, deve ser filtrada, da mesma forma que os textos antes de serem indexados.
Normalmente um usuário ao utilizar um mecanismo de busca, monta sua query e analisa os resultados retornados.
De posse dos resultados ele volta a refazer a pesquisa, modificando a query para que o retorno seja mais preciso e para que satisfaça as necessidades do usuário na busca das informações pretendidas.
Uma das referências para a eficiência dos algoritmos de busca é a arquitetura de memória dos computadores atuais, que apresentam um excelente desempenho.
Estas se baseiam em níveis diferenciados em relação a a velocidade e a capacidade de armazenamento.
A eficiência deste modelo está baseada nos conceitos de localidade temporal e localidade espacial.
Localidade temporal estabelece que um item referenciado, tende a ser referenciado novamente dentro de um espaço de tempo curto.
Localidade espacial está ligada ao fato de um item referenciado possuir relacionamento com itens cujos endereços sejam próximos e tendem a ser logo referenciados.
Os conhecimentos utilizados no apoio ao diagnóstico provem dos dados clínicos e imagens dos exames, podendo ser construído através da identificação de cenários (contextos) utilizando ferramentas colaborativas de exploração de dados.
Esta seção apresenta alguns dos conceitos de análise de dados biomédicos.
A transformação de dados em conhecimento diagnóstico é uma tarefa complexa que pode fazer uso de análise multivariada dos dados e também dos conceitos de especificidade e sensibilidade, associados à precisão e recall.
Os diferentes contextos de interpretação dos dados dificultam a formulação do conhecimento dos padrões que podem ser detectadas, bem como suas inter-relações.
Uma nova maneira de abordar este problema seria a integração dos modelos automatizados com os definidos por os usuários, baseando- se numa visão humano-computador de colaboração envolvendo informações específicas.
Em este caso pode- se considerar três princípios básicos a serem aplicados:
Autonomia, adaptabilidade e relevância.
O suporte a co-construção de conhecimento é realizado através de um agente que tem a função de identificar os diferentes níveis de abstração para posterior interpretação dos dados.
Tomar decisões críticas com base na análise de dados é uma tarefa relativamente comum em domínios médicos.
Esta tarefa revela- se de particular importância no contexto diagnóstico.
Atualmente existe uma crescente massa de dados sendo produzidos para auxiliar os médicos, entretanto, estes dados podem não ser plenamente utilizados, devido a a falta de tempo, falta de pessoal, e uma falta de conhecimento formalizado.
Em este sentido, a necessidade de criar modelos computacionais a serem aplicados neste domínio específico torna- se relevante.
A formalização do conhecimento é uma etapa preliminar que deve ser realizada para posterior auxílio ao diagnóstico.
O objetivo é extrair conhecimento que trará uma melhor compreensão dos dados para apoio à tomada de decisões.
Esta é constituída por a identificação das informações relevantes, a extração de padrões, o relacionamento dos mesmos para a construção de cenários significativos e por a validação do conhecimento produzido.
Considerando caráter combinatório dos relacionamentos, uma abordagem incremental é proposta em que ambos, homem e máquina, colaboram para a definição progressiva dos contextos e refinamento dos modelos diagnósticos.
A integração deve ser eficiente permitindo a comunicação entre homem e máquina permitindo a análise de vários níveis de abstração dos dados.
O modelo utilizado deve suportar a criação de modelos diagnósticos personalizados.
O médico pode intervir a qualquer momento durante o processo de criação de modelos diagnósticos adicionais, ou alterar modelos existentes.
Em este sentido, podem- se considerar três princípios fundamentais:
A autonomia (capacidade de aprender), a capacidade de adaptação (para lidar com o padrão de variabilidade e heterogeneidade de características associadas a cada classe) e relevância (capacidade de identificação de contextos diagnósticos para triagem por inferência dos modelos em casos a serem diagnosticados).
Um agente integrado aos sistemas hospitalar e radiológico e ao servidor de imagens é uma forma de aplicação destes princípios.
Em esta seção são apresentados conceitos na construção colaborativa de conhecimento e exploração de dados.
Desde os primeiros trabalhos no desenvolvimento de sistemas especialistas, a aquisição do conhecimento humano tem se constituído num problema crítico ainda não totalmente solucionado.
Os esforços têm sido dedicados à extração de conhecimento para lidar com a imensa, e ainda crescente, massa de dados gerados para cada diagnóstico.
Em a maioria dos campos da medicina o número de variáveis é de fato grande e tende a aumentar cada vez mais de forma a impedir o julgamento médico por seres humanos.
Um exemplo de abstração de análise funcional é apresentado por que explora dados quantitativos.
Em este estudo, são consideradas técnicas de descoberta de conhecimento que baseiam- se no próprio conhecimento e seus diferentes níveis de abstração.
Assim como, o conhecimento específico expresso de forma qualitativa também é utilizado.
Ambas as abordagens têm sido avaliadas na sua capacidade de auxiliar o diagnóstico, buscando fornecer subsídios para análises mais precisas.
Conceitos utilizados em estudos qualitativos têm sido aplicados a dados quantitativos para tornar o processo de análise mais intuitivo e relacionado ao raciocínio humano.
A necessidade de modelos computacionais para combinação de dados com análise orientada raciocínio humano tem sido amplamente reconhecida.
Atualmente, a mineração de dados é cada vez mais considerada como um processo cooperativo, utilizada como estrutura computacional para criar formas (modelos conceituais, bibliotecas e componentes de software) de integrar os avanços recentemente obtidos no conhecimento especializado ao processo diagnóstico.
Zupan et al.
Propõem a noção de conhecimento em circulo para formalizar a alternância necessária entre análise de dados para obter conhecimento e a análise do próprio conhecimento para gerar mais conhecimento.
Como mencionado por os autores, à automatização deste ciclo, embora altamente desejável, é complexa e não freqüentemente encontrada nas aplicações do mundo real.
Existem diversos trabalhos relacionados ao tema proposto, como por exemplo, a arquitetura de PACS, chamada cbPACS, que implementa a recuperação de imagens baseado em conteúdo utilizando um método de extração de características de imagens chamado histograma métrico.
O cbPCAS foi desenvolvido por o grupo de Bases de Dados e Imagens (GDBI) do Instituto de Ciências Matemáticas e de Computação da USP, em conjunto, com o Centro de Ciências de Imagens e Física Médica (CCIFM) da Faculdade de Medicina de Ribeirão Preto da USP, apresenta uma nova função de distância métrica para comparar dois histogramas métricos e incorporados a um MAM (Metric Access Method) denominado de Slim-Tree que possibilita a indexação e recuperação das características extraídas das imagens de forma otimizada, através de consultas por similaridade.&amp;&amp;&amp;
A Figura 19 apresenta a arquitetura do cbPACS que é um sistema com suporte à recuperação de imagens médicas baseada em conteúdo.
Com o objetivo de mostrar a importância da utilização da Ia em sistemas de apoio ao diagnóstico é apresentado o trabalho desenvolvido por Moreno.
O visualizador contextual ODIN do serviço de informática do InCor ­ FM/ USP, permite a identificação do contexto de exibição das imagens.
A identificação dos contextos baseia- se na definição de ontologias.
De entre as suas características pode- se destacar o suporte ao protocolo DICOM e a extensão das suas funcionalidades através do conceito de inclusão de plug-ins que complementam as funções de manipulação padrão sobre as imagens.
Um dos plugins disponibilizados no ODIN implementa o algoritmo de identificação de imagens similares definido por Bueno que foi utilizado no cbPACS.
A união de uma aplicação indexação (cbPACS) e uma de identificação de contextos (ODIN), ambas para apoio ao diagnóstico, abre espaço para a criação de estruturas de softwares que agreguem valor aos sistemas de CAD existentes.
Entre os trabalhos relacionados, pode- se destacar dois que foram utilizados como referência para a definição da arquitetura definida neste trabalho.
O primeiro trabalho relacionado, descrita na seção 5.1, é a arquitetura MIII (Medical Imaging Informatics Infrastructure) definida por Huag.
Em este trabalho são definidas as estruturas tecnológicas para fornecer suporte a CAD aos servidores PACS.
O segundo trabalho destacado, na seção 5.2, foi desenvolvido por Pietka e estabelece a divisão dos sistemas de CAD em camadas (dados, aplicação e apresentação).
A idéia é permitir a abstração da respectiva infra-estrutura através do suporte as camadas de dados e apresentação com a utilização da arquitetura proposta que será integrada ao servidor de imagens médicas INPACS.
Um sistema de armazenamento de imagens PACS requer dados de outros sistemas de informação para seu efetivo funcionamento.
Estes dados complementares estão no sistema hospitalar (HIS) e no sistema de radiologia (Ris).
Assim, muitas funções de controle do PACS têm como base as informações passadas por estes sistemas, tais como, roteamento, busca de imagens (prefetching), agendamento, localização, agrupamento automático, etc..
Observa- se ainda que os registros eletrônicos dos pacientes contidos no sistema hospitalar são informações complementares durante o processo de diagnóstico radiológico e estão diretamente relacionadas às funções básicas de um PACS.
Em este contexto, surge a necessidade de suprir as limitações de um armazenamento simples e buscar formas de fornecer subsídios aos radiologistas.
Quando uma solução PACS consegue suprir estas necessidades, Huang define que o conceito de MIII (Medical Imaging Informatics Infraestruture) está sendo aplicado.
A necessidade de um ambiente MIII é sobretudo evidenciada em ambientes educacionais, no treinamento de radiologistas residentes e de pesquisa diagnóstica devido a a alta complexidade atribuída à sua construção.
Mas, acredita- se que estas funcionalidades podem ser aplicadas de forma simplificada aos demais centros de diagnóstico radiológico.
Conforme mostrado na Figura 20, os componentes de uma arquitetura MIII são basicamente:
Uma base de imagens associadas às informações clínicas e diagnósticas (PACS Server, HIS e Ris);
Ferramentas de processamento de imagens e reconhecimento de padrões (CAD);
Consoles de visualização;
Renderização 3 D;
As linhas pontilhadas relacionadas à estação de visualização mostram a independência de funcionamento do PACS em relação a o MIII.
Entretanto, pode- se verificar o valor agregado que esta solução fornece ao PACS.
A comunicação entre o MIII e o PACS é realizada via protocolo DICOM, já com os sistemas HIS e Ris é realizada a comunicação via HL7 (Health Level Seven).
Esta estrutura adicional ao PACS tem na realidade a função de fornecer informações complementares à visualização das imagens adquiridas para realização do laudo, que é a função principal de um servidor de imagens.
Desta forma, como subsídio para visualização ao radiologista, são apresentadas informações sobre patologias de forma categorizada, exibidas imagens similares adicionais para referência e localizados artefatos internos nas imagens adquiridas.
Com estes objetivos, o processamento de imagens associado ao CAD permite a criação de um repositório de imagens relevantes para cada tipo de diagnóstico e está interligado com a indexação destas imagens (informações clínicas).
Cada tipo de diagnóstico é associado a um contexto, sendo as imagens armazenadas no servidor PACS através de uma nova indexação relacionada à extração de características internas destas imagens.
Assim, é possível buscar as imagens para visualização baseadas na similaridade, com suporte a categorização, ou mesmo, identificar imagens relevantes armazenadas no para reconhecimento de padrões nas imagens adquiridas que estão em processo de diagnóstico.
Esta arquitetura também permite o desenvolvimento de ferramentas de mineração de dados (Data Mining) para orientar os radiologistas com informações relevantes para cada tipo de patologia analisada.
Assim, com aumento do volume de imagens armazenadas digitalmente, e com o crescimento das funcionalidades de um servidor de imagens PACS, deve- se buscar novas formas para fornecer subsídios ao diagnóstico radiológico baseadas no conceito MIII.
Entretanto, o conceito de MIII está muito associado às estruturas de hardware e ao desenvolvimento de softwares específicos para cada tipo de aplicação de apoio ao diagnóstico.
Pietka apresenta uma aplicação para identificação de idade óssea como estudo de caso para o desenvolvimento de um sistema de CAD em três camadas.
A identificação da idade óssea é um procedimento muito utilizado em radiologia pediátrica.
O diagnóstico médico utiliza radiografias da mão esquerda dos pacientes que são comparadas aos padrões (atlas) definidos por a literatura.
A comparação está baseada na imagem da mão inteira ou regiões de interesse.
A escolha de um padrão correspondente identifica a idade de osso.
A análise da radiografia da mão está focada nas áreas situadas nas articulações.
As epífises se modificam ao longo de o tempo em relação a o seu tamanho e sua forma.
As características da sua forma na fase de desenvolvimento das crianças anterior a puberdade é apresentada na Figura 21 (a), (b) e (c).
A fase de fusão entre a epífise e a metáfise que indica a informação diagnóstica é apresentada na Figura 22 (d) e (e).
A seguir, na Figura 22, é apresentada a interface da aplicação desenvolvida Pietka e colaboradores.
Em a Figura 23, é apresentado o fluxo de operações aplicadas às imagens analisadas.
O processo é composto por a eliminação de ruídos, identificação de regiões de interesse, segmentação para separação das estruturas ósseas das cartilaginosas e extração dos atributos para classificação da idade óssea.
Pietka apresenta uma proposta de arquitetura de desenvolvimento deste sistema em três camadas na Figura 24.
Estas são respectivamente divididas em camada de dados (data layer), camada de aplicação (application layer) e camada de apresentação (presentation layer).
A primeira camada (data layer) fornece acesso aos dados utilizados por a camada de aplicação (aplication layer) que é propriamente a implementação da metodologia de processamento auxílio ao diagnóstico.
A terceira camada (presentation layer) é responsável por a apresentação dos resultados e interação com os usuários.
A Figura 25 apresenta a forma de comunicação entre as diferentes camadas definidas por Pietika.
Dentro de os círculos, os comandos representam a Rtrv) e recebimento (Recv) de imagens.
A comunicação com o banco de dados é realizada através do padrão SQL para consultas e atualização da base de dados.
Em a Figura 27 é apresentado um diagrama da arquitetura física da solução proposta por Pietka.
Observa- se nesta arquitetura que existe um isolamento da aplicação em relação a o PACS.
A base de dados da aplicação é independente e recebe os dados dos sistemas de informação do hospital através do Worklist e mantêm um banco de dados interno para classificação das imagens.
Pietka define um sistema de CAD como um conjunto de diversos componentes independentes que interagem de forma substancial para a geração de um resultado.
A metodologia de processamento e análise envolve a criação de estruturas de bancos de dados, acesso as informações clínicas do paciente e dados das imagens.
Em este conceito um sistema de CAD possui três camadas (dados, aplicação e apresentação) que podem ser instaladas em várias plataformas.
A autora ainda considera que por o fato das aplicações serem projetadas em módulos independentes, a sua integração se constitui num problema a ser abordado.
Em caráter complementar, a autora considera que a implementação de um sistema de CAD busca melhorar e agilizar a análise, fornecendo resultados de referência e propondo a padronização do processo decisório buscando a aplicabilidade em novos casos.
Este processo possibilita a identificação de padrões que podem ser utilizados em ambientes educacionais e de pesquisa.
Freqüentemente as implementações de CAD não incluem componentes que poderiam ser úteis em aplicações clínicas ou de ensino.
Como exemplo, podese citar a comparação com imagens de referência e o acesso a dados remotos.
Outras duas questões são o pré-processamento das imagens nos servidores e a padronização para compartilhamento de casos de referência entre diferentes instituições.
Em este sentido, um sistema de CAD deixou de ser considerado uma ferramenta básica de auxílio ao radiologista.
Estes sistemas hoje utilizam sofisticadas arquiteturas e são executados em ambientes computacionais complexos.
Outra questão é a interação executada por médicos durante o processo diagnóstico, trazendo a exigência da disponibilização de interfaces gráficas com aspectos de usabilidade otimizados.
A proposta de desenvolvimento das camadas de forma independente apresentada por traz o benefício da customização ideal para o seu desenvolvimento e validação da aplicação.
Entretanto, estes sistemas tendem a ser utilizados de forma isolada por a complexidade do desenvolvimento de um sistema multi camada com desempenho eficiente e por a própria dificuldade de integração aos ambientes de produção.
Uma alternativa para este problema seria a abstração das camadas de dados e de apresentação.
Estas camadas poderiam ser parcialmente implementadas no próprio servidor PACS que forneceria uma biblioteca de métodos de acesso às imagens e funcionalidades de interação com os usuários.
A arquitetura proposta possibilita a criação de um ambiente para execução dos CAD's.
Este ambiente deve definir os padrões de acesso aos componentes básicos as imagens (camada de dados) e interação com os usuários (camada de apresentação) com a disponibilização de bibliotecas.
Desta forma, o resultado do desenvolvimento do sistema de CAD estará na camada de aplicação.
A integração das informações clínicas para identificação de contextos mais complexos, adicionais às informações contidas nas imagens DICOM, é estabelecida com a utilização do Worklist, que é uma chave primária para acesso aos dados do pacientes utilizadas por o HIS, Ris e PACS.
A Figura 27 apresenta o mapa conceitual com os principais dados clínicos relacionados a &quot;Imagem».
GrupoM edico Define os Estados do Paciente:
Internado, Am bulatorio, Agendado, etc T ipoProcedi m ento+ tem um a+ contém Especialidade+ contem Define os Estados do Estudo:
Disponivel, em aqui sição, Aguardando Laudo, Laudo Disponível, etc..
De a mesma forma, na Figura 28, é apresentado o mapa conceitual com os principais conceitos de sistemas de CAD relacionados ao conceito &quot;Imagem».
Define os estudos habilitados a execução do processam ento de CAD.
Esta execução leva em consideração a rel ação custo benefíci o de im plem entação das técni cas de reconhecim entode padrão a serem desenvolvi das.
Assim, evita- se desenvolver um a técni ca com putacionalm ente com plexa em casos em que o radioli gia não tem dúvida.
T ipoIm agem Im agem+ é um+ tem um*+ esta relacionado Indi ceExterno Processam ento Viabil idadeCAD+ esta rel aci onado+ esta Rel acionada Nível de abstração com inform ações para o radi ologista.
Indi ceInterno Frequência+ esta rel aci onado+ contém+ é um Histogram a+ esta rel aci onado Pixel segm entacão Padrão+ faz parte+ esta relacionado+ contém atributos m etri cas+ Contém T ipoPadrão objetos Este indice im plem enta três níveis de abstração:
Em o prim eiro nível, o pixel da i m agem define a inform ação referente a a densidade (cor e bri- lhe&amp;lhes o) associada a cada elem ento, o segundo nível é reali zada a análise sobre atributos (bordas, canto, linhas curvas e regiões de m esm a densidade), o terceiro nível associa os atributos em conj unto buscando relacionar- los no quarto nível por o radi ologista no laudo m édico (índice externo).
Os relacionamentos neste mapa conceitual caracterizam a semântica necessária aos conceitos.
Em este caso, o estudo pode ser definido como um subsídio para definição de um resultado num laudo de um paciente.
O MPPS (Modality Procedure Perform Step) é uma variação do Worklist categorizando as imagens por estado em que o laudo se encontra (aguardando, em execução ou disponível, entre outros).
O Worklist e o MPPS são suficientes para o modelo de uso tradicional, mas não são adequados para indexação numa arquitetura MIII, que é baseada no conteúdo das informações clínicas e diagnósticas.
A indexação por paciente se baseia em chaves definidas e padronizadas.
A indexação com suporte ao processamento para apoio ao diagnóstico fornece suporte as consultas relacionadas às informações clínicas e das imagens.
Esta indexação não faz referência apenas às informações, mas também em termos abstratos das imagens (objetos de interesse), dados quantitativos derivados (área, volume, dos objetos) e informações sobre a textura.
Uma alternativa para acesso as informações clínicas é a utilização do DICOM Structure Reporting que associa informações diagnósticas as imagens armazenadas no PACS.
Um estudo estabelece uma data de aquisição, não existindo alteração em seus dados ou imagens ao longo de o tempo, permitindo a criação de estruturas de índices com atualização apenas na inserção do estudo (Store), possibilitando definir políticas de cachê de acesso às imagens que não sobrecarregam o processamento com atualizações constantes nos índices.
A arquitetura de indexação de imagens proposta foi baseada numa ontologia que prioriza a formalização do conhecimento aplicado ao diagnóstico através da inclusão de conceitos baseado no método de categorização.
Em a Figura 29, é apresentada a arquitetura de funcionamento do modelo proposto.
A camada de dados de um sistema de CAD utiliza, além de as tabelas internas, basicamente as informações contidas nos sistemas de informação HIS/ RIS (hospital e de radiologia) e referências às imagens.
O acesso as informações dos sistemas do hospital e de radiologia poderia ser fornecido por o PACS através do worklist com a criação de interfaces de dados para as informações clínicas utilizadas por os sistemas de CAD, sendo o acesso às imagens a principal função de um PACS.
A camada de aplicação poderia ser executada no PACS através da idéia de agentes sensíveis ao contexto com a utilização do conceito de ontologias que formalizam o conhecimento aplicado a cada tipo, identificando a relevância de execução para as imagens acessadas e ou armazenadas.
A terceira camada (presentation layer) fornece a interface gráfica com o usuário (GUI).
São utilizados elementos comuns entre os sistemas de CAD, como por exemplo, respostas gráficas, textuais e solicitações de ações interativas.
A referência lógica para as imagens fornecida por o PACS poderia ser estendida para trabalhar no conceito de referências em camadas como os softwares de manipulação gráfica modernos.
Desta forma, a aplicação desenvolvida poderia disponibilizar os resultados do processamento numa ou mais camadas que poderiam posteriormente ser ativadas por a workstation de visualização com suporte a este recurso.
Em esta arquitetura foi proposto um foco alternativo, com a aplicação da teoria da engenharia do conhecimento para transformar repositórios de armazenamento de imagens médicas em repositórios de armazenamento de conhecimento relevante ao diagnóstico.
Portanto, a complexidade da tarefa em si é abstraída.
A função do índice é relacionar cada tipo de processamento a ser aplicado a cada diagnóstico a ser realizado.
A partir de a identificação do tipo de apoio ao diagnóstico são identificados os processamentos a serem aplicados.
Uma das principais características desta arquitetura é a indexação com a associação de uma semântica no relacionamento entre os conceitos, permitindo um relacionamento específico entre os conceitos relativos à definição de contextos.
O radiologista pode simplesmente solicitar imagens com suporte a categorização baseadas em conceitos para utilizar como referência no laudo.
Esta categorização é muito útil em ambientes de ensino para treinamentos de residentes em radiologia e clínicos que necessitam identificar os casos reais das patologias existentes nos servidores PACS que foram estudadas em sala de aula.
Quando as imagens são retornadas, o índice as classifica em relação a o laudo realizado interativamente, com a escolha dos conceitos relevantes para realização do laudo.
Existe uma abstração da complexidade de categorização fornecida por a ontologia que pode ser definida por um grafo de conceitos.
Outra abstração relevante está na múltipla localização das imagens armazenadas.
O grafo na realidade é uma tabela de conceitos auto-relacionados que estabelecem o filtro ou a união de imagens em relação a os referidos conceitos.
Os conceitos por sua vez têm referência a uma tabela de imagens que pode ser acessada de forma otimizada por o sistema de gerenciamento do banco de dados para fornecer a abstração de localização.
A seguir é apresentada a Figura 30 com a estrutura lógica do modelo proposto.
A identificação de conceitos associados definidos por a ontologia podem diminuir o universo de pesquisa e melhorar tanto a precisão quanto diminuir o índice de recall das consultas realizadas.
Foi identificado como fator crítico de sucesso da arquitetura, a capacidade de formalizar o contexto necessário à execução de cada tipo de processamento disponível no PACS para apoio ao diagnóstico, associando- o à respectiva ontologia de conceitos ao processo indexação.
Os principais objetivos da arquitetura de indexação proposta são:
Identificar as informações dos estudos dos pacientes;
Definir o contexto de cada tipo de processamento (cenário:
Quando é acionado);
Disponibilizar diretamente nos servidores PACS as várias técnicas de processamento de imagens desenvolvidas para cada tipo patologia;
Visualização das imagens com suporte a categorização e a similaridade (patologias e outras informações);
Interação do processamento executado com a interface de visualização utilizada por o radiologista através da referência única a localização da imagem no servidor PACS;
Abstração da complexidade do desenvolvimento de CAD's para as camadas de dados e apresentação.
A arquitetura proposta foi implementada em JAVA e integrada ao INPACS, conforme mencionado na seção 5.1.
Foi utilizado o framework Hibernate para realizar a persistência dos dados da aplicação no banco.
Em a Figura 31, é apresentado o diagrama Er (Entidade-Relacionamento) da arquitetura proposta.
Este diagrama representa uma implementação de uma ontologia.
O diagrama de classes define um grafo através da classe conceito relacionada à classe conceito_ has_ conceito.
Os conceitos podem ter atributos com respectivos valores.
Cada conceito possui um tipo de relacionamento entre seus atributos (ou conceitos) que é uma idéia importante na definição de ontologia.
Como forma de facilitar a implantação foi definido que os conceitos relacionados estarão vinculados a um tipo de CAD a ser disponibilizado no servidor INPACS.
A seguir na Figura 32, é apresentado o diagrama de classes da aplicação desenvolvida.
Este diagrama demonstra a interface gráfica para o cadastro de novos CAD' S. A classe CadastroCadModel tem a função de criar os objetos Cad e Valore realizando, entre outras funções, a sua persistência no banco de dados.
A classe AtributoNode e ConceitoNode representam, na interface gráfica, os objetos atributo e conceito, respectivamente.
O método montaArvore reproduz os conceitos e atributos da ontologia na interface gráfica.
Este algoritmo busca todos os conceitos relacionados e respectivos atributos através de uma implementação recursiva baseado no diagrama de classes definido.
Em a Figura 33 é apresentada a interface gráfica de cadastro de CAD da aplicação que é utilizada para definição dos contextos de execução dos processamentos cadastrados em relação a as informações identificadas das imagens recebidas.
Esta tela permite a seleção do plug-in a ser disponibilizado no INPACS (classe ou arquivo.
Jar) e definido o contexto de execução através da seleção dos conceitos e atributos da ontologia com respectivos valores.
Os conceitos podem ser adicionados ou retirados para definir a ontologia do CAD que está sendo disponibilizado.
A seguir, Figura 34, é apresentado o diagrama de classe da arquitetura integrada ao INPACS.
O servidor INPACS recebe o estudo (imagens) a ser armazenado através do comando storage do protocolo DICOM.
O identificador do estudo (studyInstanceUID) é passado para classe ConsultaCad que tem a função de percorrer todos os CAD's cadastrados e cruzar os dados das imagens recebidas com os dados da classe Valore afim de identificar os possíveis CAD's a serem executados.
O algoritmo de consulta de CAD's implementado é semelhante ao utilizado para apresentar a ontologia na interface gráfica, seguindo a mesma lógica recursiva para percorrer todos os CAD's e seus respectivos conceitos e atributos.
Quando é estabelecida a associação dos conceitos e atributos entre a imagem e o CAD, é realizada a validação dos valores contidos na tabela Valore.
Caso a imagem satisfaça todos os valores (ou intervalos) dos atributos então o CAD é sugerido para execução.
Em esta seção é apresentado um exemplo de funcionalidade para processamento das imagens como fragmento de um sistema de CAD.
A funcionalidade utilizada é a segmentação de imagens para posterior processamento com o objetivo de identificar lesões pulmonares através de padrões de textura.
Observa- se que existem muitas variações de contextos para diversos tipos de diagnósticos.
Assim, estes resultados são apresentados apenas como referência para fornecer uma idéia de aplicabilidade de execução dos sistemas de CAD num ambiente hospitalar.
Pode- se apresentar vários exemplos de doenças investigadas através de segmentação, como por exemplo, nódulos pulmonares, doenças intersticiais, pneumotórax e opacidades pulmonares, entre outros.
Os procedimentos de segmentação implementados podem utilizar técnicas de reconhecimento de padrão ou histograma de níveis de cinza para caracterizar regiões anatômicas.
A segmentação também pode ser utilizada para identificação de bordas de uma região anatômica, como as extremidades do coração, pulmões ou costelas.
Métodos de segmentação desenvolvidos para outras anatomias incluem imagens de mãos e de pulsos ou de mamografias.
A segmentação manual ou automática aplicada a imagens tem o objetivo de encontrar estruturas de interesse e anormalidades.
Este processamento é freqüentemente seguido da fase de extração de característica e pode incluir medidas que refletem o tamanho e forma de certas estruturas anatômicas, resultados esperados (freqüentes no domínio), parâmetros estatísticos, etc..
A classificação por o tamanho inclui medidas do coração em imagens de tórax, forma de nódulos, falanges, ossos do carpo, tamanho e forma de epífises.
Como exemplo, pode- se citar a identificação da espessura das extremidades em regiões da mão após a aplicação das transformadas de wavelet ou de Fourier.
O algoritmo de segmentação de pulmão utilizado na validação foi desenvolvido para o projeto &quot;Reconhecimento de padrões aplicado a sistemas embarcados -- RPSOC».
Em a Figura 35 é apresentado o resultado da execução do algoritmo numa imagem de tomografia computadorizada por raios X para segmentação dos pulmões.
A validação se da através da identificação de um contexto cadastrado na ontologia.
Quando o contexto estabelecido é identificado como relevante, o processamento é executado.
O resultado da execução do algoritmo de segmentação gera uma série de imagens adicionais ao estudo com as regiões dos pulmões identificadas.
A seguir é apresentado o algoritmo de segmentação desenvolvido para o projeto RPSOC utilizado como estudo de caso:
Primeiro passo:
Aplica- se um limiar de 166 (nível de cinza) sobre a imagem original.
Estudos preliminares mostram que este limiar separa o tórax do pulmão (tecido esponjoso, etc.).
O objetivo é definir um limiar que elimine a parte da mesa que fica junto ao tórax.
Os métodos de limiarização tradicionais não provêm isso;
Segundo passo:
Acha- se a maior região dentro de a imagem limiarizada, através de um floodfill (crescimento de região).
Esta região corresponde ao tórax;
Terceiro passo:
Preenche- se o tórax (inclui- se os pulmões), fazendo um negativo a partir de os 4 cantos da imagem (floodfill) e ficando só com o tórax e seu interior;
Quarto passo:
Limiariza- se essa imagem, também com um limiar de 166.
Este passo se faz necessário porque métodos tradicionais não separam bem objetos de interesse que tem um número reduzido de pixels, como no caso de um corte que apenas a traquéia é visível;
Quinto passo:
Acha- se a maior região dentro de a imagem limiarizada, através de um floodfill.
Após isso, faz- se um floodfill de fora, para eliminar os buracos e pequenas regiões dentro deste pulmão;
Sexto passo:
Detecta- se a traquéia, através da circularidade da região e da posição na imagem;
Sétimo passo:
Inclui- se os vasos no pulmão, unindo- se os pontos que estão perto o suficiente através de uma reta e incluindo as regiões pequenas (no caso, os vasos) na região do pulmão;
Oitavo passo:
Detectam- se os contornos da região resultante;
Oitavo passo:
Faz- se o mesmo procedimento para o segundo pulmão.
Em a figura 36, é apresentada a ontologia para identificação do contexto de execução do algoritmo de segmentação.
O índice foi projetado para identificar o contexto das imagens dos estudos no momento do seu recebimento através do comando Storage do protocolo DICOM sempre que o contexto das imagens for estabelecido.
Mas, para validar a arquitetura foi realizada a identificação do contexto em background.
A identificação da necessidade de execução do algoritmo de segmentação das imagens de tomográficas de tórax foi realizada num banco de dados de mais de 3,5 milhões de imagens (mais de 62 mil pacientes) armazenadas no período de setembro de 2005 a maio de 2007.
Este banco foi criado para não afetar o desempenho do servidor INPACS de produção do Hospital, sendo realizada uma cópia do banco de dados do INPACS de produção para uma máquina de testes.
O contexto especificado estabelecia a segmentação para imagens de tomografia dos pacientes com idade entre 55 e 60 anos.
Como exemplo de execução do estudo de caso da arquitetura proposta para identificação de contexto ao banco de imagens armazenadas no servidor PACS do Hospital São Lucas da PUCRS, foram selecionadas 186.058 imagens de 1.548 pacientes.
Estas imagens poderiam ser segmentadas e posteriormente processadas para identificação de padrões de opacidades.
Observando- se o universo da amostra, e os resultados obtidos, considera- se relevante a criação de um ambiente para facilitar a integração de sistemas de CAD.
Em este trabalho, o uso de ontologias permite integrar os métodos de indexação definidos por com dois índices (interno e externo) num único ambiente.
O índice externo tem a função de contextualizar (baseado em conceitos) e categorizar as imagens retornadas do PACS, assim como definir que tipo de CAD deve ser aplicado.
O índice interno estaria focado na construção dos CAD's através da utilização (definição) dos métodos baseados em conteúdo e em análises matemáticas das imagens fornecendo uma abstração para os físicos médicos definirem diferentes formas de processamento e apoio ao diagnóstico sem a necessidade de codificação (programação).
Assim, a arquitetura proposta poderia definir a integração dos padrões de reconhecimento de cada diagnóstico com a definição da ontologia de cada diagnóstico e com a identificação das características matemáticas das imagens a serem processadas ou mesmo de referência.
Estas características representariam os fragmentos de padrões analisados por os físicos médicos que definiriam a existência ou não da lesão sob o ponto de vista do processamento da imagem.
Estes padrões exigem uma otimização na sua recuperação para comparação de imagens adquiridas com imagens ou padrões de referência relevantes retirados do PACS.
Em este caso, imagens que possuem as mesmas características da referência ou que tenham um determinado grau de semelhança, em relação a aspectos específicos, podem ser solicitadas.
Uma possibilidade desta arquitetura é a utilização de chaves textuais baseadas em ontologias como filtros adicionais às consultas.
Estas consultas são freqüentemente implementadas em aplicativos de suporte ao diagnóstico, permitindo que os médicos analisem a evolução por comparação com estudos anteriores.
Outro estudo está relacionado à integração da arquitetura num único índice com os métodos de análise baseados em conteúdo e conceito para criação de um ambiente virtual integrado ao PACS, que permita a definição e execução de diferentes tipos de técnicas de apoio ao diagnóstico.
A definição de um modelo para armazenamento e recuperação de imagens médicas digitais, tendo como referencial teórico os conceitos de formalização de ontologia através de uma semântica persistente associada aos relacionamentos, estabelecem como possibilidades as seguintes considerações para o conceito de virtualização dos ambientes MIII:
Facilitar a integração dos sistemas de apoio ao diagnóstico aos servidores PACS através da disponibilização de uma infraestrutura de software (camadas de dados e apresentação) para publicação de classes de processamento de imagens;
Abstração das técnicas de processamento de imagens e reconhecimento de padrões aplicados no apoio ao diagnóstico num conjunto de ferramentas reutilizáveis disponíveis em servidores PACS que podem ser utilizadas para construção de novos CAD's.
Um ambiente único que seja primordialmente ergonômico e permita a exploração de todos os dados relacionados, dentro de um grande universo híbrido com imagens de diferentes tipos e informações textuais, ou mesmo, estruturadas permitiria a pesquisa nos diferentes tipos de informações, o suporte a diagnóstico e/ ou ensino.
Um aspecto importante para sua criação é a superação de problemas éticos, de segurança e usabilidade.
A criação de um ambiente com estas características poderia ser estabelecida por a integração de dois métodos de indexação:
Baseado em conceitos e baseados em conteúdo.
O método baseado em conceitos está ligado à idéia de metadados associados às imagens, que incluem as modalidades de imagens, regiões e estruturas anatômicas e suas respectivas funções.
Os métodos baseados em conteúdo referem- se diretamente ao processamento e técnicas para análise das imagens.
A arquitetura de indexação desenvolvida neste trabalho agrega o método de identificação de conteúdo com o método de categorização baseado em conceito.
Definido, por Bueno, o CbPACS estabelece a viabilidade para o desenvolvimento de novas técnicas para o armazenamento e recuperação de informações.
O cbPACS apresenta recursos para recuperação de imagens baseado em conteúdo utilizando um método de extração de características as imagens.
Em este caso, as ontologias não seriam definidas apenas para identificar contextos de execução de diferentes tipos de técnicas de processamento de imagens, mas também para a definição da própria técnica de processamento para apoio ao diagnóstico.
Desta forma, a definição dos métodos de reconhecimento de padrões e identificação de dados quantitativos das imagens estabelece a ontologia do próprio processamento associado aos respectivos diagnósticos.
A virtualização de um ambiente MIII através da criação de uma arquitetura para identificação de tipos de processamento a serem executados em servidores PACS tem o objetivo estimular a disponibilização dos diferentes tipos de sistemas de apoio ao diagnóstico desenvolvidos nos ambientes de produção dos hospitais.
Existem vários tipos de técnicas de processamento que não são aplicadas nas imagens armazenadas nos servidores PACS por a dificuldade de extensão para ambientes de produção, sendo seu uso de extrema importância para qualificar os laudos produzidos nos hospitais.
As aplicações desenvolvidas em ambientes acadêmicos estão geralmente vinculadas a uma workstation com funcionalidades limitadas ao respectivo CAD, baseando- se na execução de um software independente que recebe um conjunto de imagens exportadas dos servidores PACS.
Assim, a arquitetura desenvolvida, neste trabalho busca estimular a integração destas técnicas de apoio a diagnóstico ao PACS, que muitas vezes são executadas posteriormente a publicação dos laudos radiológicos, evitando que seus resultados sejam utilizados apenas para publicação de artigos científicos, sem chegar a serem disponibilizados nos ambientes de produção dos hospitais.
Para estudos futuros, pretende-se disponibilizar um ambiente de diferentes aplicações de CAD desenvolvidas no método tradicional utilizando o modelo proposto, buscando validar e mostrar os benefícios de sua utilização num ambiente integrado de reconhecimento de padrões de imagens médicas.
Um dos benefícios dessa integração será a possibilidade de auxiliar na detecção precoce de doenças como câncer de mama, de difícil identificação em tumores muito pequenos.
