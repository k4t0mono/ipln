A maioria das técnicas propostas na literatura para prover um serviço de vídeo sob demanda (VoD) escalável foi concebida considerando que o acesso dos usuários é seqüencial.

No entanto, para algumas aplicações como ensino a distância, as operações de retorno e avanço são comuns.

O uso de modelos que representem o comportamento interativo dos usuários é importante para dimensionar e avaliar novas arquiteturas que vem sendo propostas para prover serviços de VoD com interatividade.

O objetivo deste trabalho é caracterizar o comportamento dos usuários que acessam um servidor de ensino a distância, através de um conjunto de medidas, e elaborar um modelo para geração de carga sintética.

Dentre os principais resultados obtidos nas análises efetuadas temos que existe uma forte correlação entre diversas variáveis do sistema, tais como a duração do tempo em ON e a posição do usuário no vídeo, distribuições para caracterizar variáveis do sistema foram obtidas como, por exemplo, tempo que o usuário fica pausado e intervalo de execução de um play e foi definido um modelo Markoviano e uma Hidden Markov Model para geração de carga sintética.

A análise de desempenho de sistemas está fortemente atrelada à carga de trabalho (workload) a que estes sistemas estão submetidos.

Por exemplo, o tempo de resposta de uma requisição WEB depende da quantidade de trabalho que o total de requisições feitas traz ao sistema a cada instante.

Portanto é importante caracterizar e criar modelos que representem a carga de trabalho de um sistema.

Uma das aplicações que tem sido estudada nos últimos anos é a de ensino a distância que fazem uso de servidores de vídeo, para armazenar, por exemplo, aulas e material didático a serem acessados por alunos.

Muitos trabalhos na literatura versam sobre a caracterização do tráfego total a que um sistema é submetido, sem se preocupar com a maneira pela qual essa carga foi gerada.

Entretanto, é claro que a carga de trabalho é função do comportamento dos usuários do sistema.

Por exemplo, no caso de servidores de vídeo, mecanismos tradicionais de compartilhamento de banda e caching de segmentos populares da mídia em proxies assumem que, a cada requisição de um usuário, um vídeo é acessado continuamente até o seu término.

Embora essa suposição seja razoável para aplicações de entretenimento, onde são relativamente raras operações de movimento e parada(fastforward, rewind, pause) durante a mostra do vídeo, essa suposição pode ser totalmente irreal no caso de aplicações de ensino, onde usuários assistem aulas de um curso.

Um comportamento muito diferente da suposição seqüencial, pode alterar significativamente a carga de trabalho do sistema e comprometer a eficiência de mecanismos de compartilhamento de recursos, alterando negativamente o tempo de acesso ao material armazenado e em conseqüência baixando drasticamente a qualidade do serviço fornecida ao usuário.

É intuitivo que o acesso a vídeos de ensino apresentem um grau de interatividade sensivelmente maior do que o de filmes para entretenimento.

Este aumento de interatividade é caracterizado por pausas, avanços e retrocessos na execução da mídia, enquanto o usuário procura pelo trecho da aula que satisfaça o seu interesse.

São poucos os trabalhos na literatura que se preocupam em caracterizar o comportamento de usuários notadamente para aplicações de ensino.

Talvez o primeiro trabalho relacionado a esse tema.

Naquele artigo o comportamento de usuários do sistema MANIC é estudado visando caracterizar o comprimento de sessões individuais de usuários, assim como algumas características de interatividade (tempo entre inícios de sessões, distância entre avanços, retrocessos, e tamanho de saltos no fluxo de vídeo).

Analisaram a carga do sistema eTeach, visando obter informações sobre o tempo entre acessos de usuários, e características dos acessos a arquivos.

Nesta pesquisa nosso objetivo também é o de caracterizar o comportamento de usuários acessando vídeos de ensino, em particular do sistema MANIC, mas para diferentes métricas.

São analisados apenas traces de áudio sincronizados com transparências.

No nosso trabalho os vídeos das aulas são considerados.

Dados recentes do sistema MANIC (obtidos da universidade de Massachusetts, Amherst) foram analisados, e métodos estatísticos foram aplicados para determinar a distribui ção que melhor representasse cada métrica.

Esta tese vai além da caracterização e também sugere como modelos deste comportamento poderiam ser definidos para serem usados em trabalhos de simulação de sistemas multimídia.

O restante desta tese está organizada da forma descrita a seguir.

Faremos um survey de trabalhos anteriores na literatura que são pertinentes ao nosso estudo.

Apresentamos os resultados qualitativos e quantitativos da caracterização.

A carga de dados dos vídeos de ensino que utilizamos, bem como os métodos estatísticos relevantes à nossa análise também são brevemente discutidos.

Sugerimos dois modelos de comportamento do usuário baseados nos dados colhidos.

A validação dos modelos está explicitada no capítulo 5, onde também é feito um breve estudo do impacto da carga gerada em um simulador de um servidor multimídia.

Por fim, revemos as contribuições deste trabalho e assinalamos as futuras direções de nossa pesquisa.

Diversos trabalhos foram propostos na literatura para caracterizar e modelar o comportamento de usuários acessando um vídeo sob demanda.

Pode-se classificar os modelos e quanto às diferentes formas de parametrização.

Modelos Empíricos, estes modelos não foram parametrizados a partir de cargas reais.

Eles foram definidos empiricamente de forma a retratar ações similares às VCR.

O que muitas vezes se buscava, era variar os valores dos parâmetros para analisar a reação do sistema multimídia.

É parte do escopo desta tese achar valores representativos para parâmetros destes modelos.

Modelos Parametrizados através de cargas reais, observamos dois caminhos seguidos na elaboração de modelos a partir de cargas reais.

Alguns artigos buscam primordialmente caracterizar o comportamento do usuário através da análise estatística dos traces coletados.

E, a partir das métricas de interesse seguem com a geração de carga sintética.

Outros, utilizam os traces reais para parametrizar um modelo genérico, e através da análise da carga, acham os estados possíveis do modelo, as probabilidades de transição e as durações em cada estado.

Ou seja, partem de um modelo genérico e através dos traces, chegam a um modelo específico para a carga em questão.

Outra classificação refere-se ao tipo de informação que o modelo prevê e ao seu uso posterior.

Especificam a Banda, estes modelos associam uma taxa de transmissão a cada interação do usuário.

Por exemplo, o FF/RW é associado a uma taxa n vezes a taxa de Play.

São necessários ao se avaliar a carga e as perdas em um sistema VoD.

Especificam a Posição, estes modelos permitem ao sistema saber a posição do vídeo que o usuário está assistindo a cada instante do tempo.

São necessários para avaliar a carga e as perdas em um sistema VoD que utilize métodos multicast escaláveis para transmissão.

Note que, para que se possa avaliar quando haverá ou não possibilidade de compartilhamento de fluxos, é necessário saber a exata posição do vídeo requerida no tempo.

Especificam a Próxima Ação, neste caso, o objetivo final é saber o próximo passo que será dado pelo usuário.

Assim como é feito em redes World Wide Web, o caching possibilita uma menor latência ao custo de um maior consumo de banda.

Para se avaliar a real eficiência deste tipo de recurso em sistemas VoD, é necessário um modelo que represente as interações do usuário.

Apresentamos três modelos que prevêem como informação principal os requisitos de banda dos usuários.

Este estudo considera que um usuário alterna entre períodos longos de PB, em que assiste continuamente o vídeo, e períodos curtos de FF ou RW, onde a banda utilizada é de n vezes a banda de PB.

Consiste em um processo de Markov de dois estados onde a cada estado estão associados os requisitos de banda necessáros.

O artigo propõe uma alocação eficiente dos recursos da rede.

O próximo artigo considera também o estado de pausa, que não foi tratado neste.

Pode-se considerar então que a análise acima é conservadora, uma vez que foram considerados apenas os estados onde há requisição de banda.

Neste modelo o comportamento do usuário é representado por uma cadeia de Markov de três estados, pausa, play e FF, os quais utilizam uma banda de 0, 2" e 5Mbps, repectivamente.

Representa a probabilidade de transição do estado j para o estado k.

Ele foi usado para avaliar esquemas de alocação de banda em sistemas VoD.

O modelo de atividade do usuário, consiste em dois estados, normal e interação.

No primeiro o vídeo está sendo tocado em sua velocidade normal, equivale ao Play.

Já o segundo estado não possui uma velocidade fixa.

A velocidade depende da operação que o usuário está efetuando, Pause, Stop, Jump Forward/Backward, Reverse, Speed Up etc.

A probabilidade de se efetuar cada operação pode ser obtida pela proporção do tempo que o usuário passa nesta ação.

Além disso, os tempos de permanência em cada estado, assim como nos modelos anteriores, são exponenciais.

Os outros parâmetros do modelo são a probabilidade de uma requisição poder ser suprida pelos dados do buffer, a taxa de aceleração e a taxa de retardo do vídeo.

A partir do modelo, os autores calculam a taxa média de entrega de dados a um usuário e a duração média de uma sessão.

Este modelo é utilizado em conjunto com um modelo de batching.

Na técnica de batching, a primeira requisição dos clientes é atrasada por um tempo de tal forma que diversos usuários possam ser servidos em um só batch.

Ao fazer uma interação o usuário necessita, então, de novo fluxo.

Os resultado do trabalho mostram que o comportamento do usuário tem grande influência na performance do sistema.

Com diferentes taxas de requisição dos clientes a probabilidade de bloqueio varia significativamente.

Verificou-se também que ao se usar batching há uma melhora na capacidade do sistema ao custo de um atraso inicial.

Com este modelo é possível analisar a técnica de batching.

No entanto, caso se quisesse avaliar métodos mais complexos que buscassem fazer novas junções dos fluxos após uma interação, seria necessário saber a posição exata em que o vídeo se encontra a cada instante.

Os dois modelos descritos a seguir representam a posição do vídeo no tempo.

Neste modelo o comportamento de usuários é representado através da Cadeia de Markov.

Cada estado corresponde a uma funcionalidade VCR e possui duração exponencial com média di, onde i especifica o estado.

O estado d0 representa o Play/Resume e todos os demais estados, exceto o Reverse Search, retornam para o estado d0 com probabilidade 1.

Valores para as probabilidades de transição foram obtidas empiricamente.

Os autores variaram estes valores para analisar o comportamento do sistema.

Estabeleceu-se também uma taxa de aceleração, K, para estados como Rewind e Fast-Forward.

Assim, após t segundos nestes estados o vídeo terá se movido K ¤ t segundos.

Este modelo foi usado para avaliação do protocolo SAM de compartilhamento de banda.

Como principal resultado temos o número de canais de interação e de merge necessários no sistema.

Este modelo não considera movimentações através do Índice, comando freqüente em sistemas de vídeo sob demanda.

Por sua vez, o próximo artigo incorpora esta característica no modelo de interação do usuário.

Propuseram uma técnica de interatividade baseada em broadcast periódico.

Para avaliar esta técnica, foi utilizado o modelo de interações do usuário.

O modelo é composto por seis estados, Play, Pause, FF, RW, Jump Backward e Jump Forward.

O modelo possui como parâmetros as probabilidades de transição entre estados e as durações em cada estado, que para fins de simulação foram consideradas exponenciais.

Nos estados Jump Backward e Jump Forward o tempo de permanência é zero e a variável aleatória é o tamanho do salto.

Achar valores típicos para os parâmetros do modelo de usuários e validá-lo com traces reais estava fora do escopo daquele trabalho.

O mesmo pode ser dito para todas as propostas apresentadas até este ponto.

Seguiremos mostrando uma outra abordagem de artigos, cujo enfoque é a análise de cargas reais.

Esses modelos são baseados na análise de traces reais.

Eles foram elaborados visando Neste sistema o usuário pode realizar tanto ações VCR, Play, Fast, Pause, quanto outras interações que o autor chama de non-streaming.

Foi definido baseado nos traces do sistema McIVER.

Para o tempo de permanência em todas as ações VCR, a distribuição lognormal foi a que melhor se adequou aos dados reais coletados do sistema.

As interações non-streaming por sua vez, foram melhor modeladas por um processo de Poisson.

Cadeia de Markov de comportamento interativo.

Este modelo é muito similar aos já apresentados.

A principal contribuição do artigo é a obtenção de parâmetros realísticos para o modelo proposto.

Cargas de trabalho de um grande provedor de vídeo ao vivo (live streaming media).

Foram analisados o acesso a objetos (live stream) pela análise de três níveis de granularidade (hierarquia), clientes, sessões e transferências.

De acordo com esta hierarquia, eles observaram que a chegada de clientes é determinada por um processo de Poisson não-estacionário.

O perfil de interesse de cada cliente obedece à uma distribuição Zipf.

A duração da sessão é obtida a partir do número de transferências em uma sessão.

E o intervalo entre chegadas de transfer ências e a duração de cada transferência (o que chamaremos de tempo em ON) são caracterizados por distribuições Lognormais.

Com os parâmetros acima, os autores construíram um modelo para geração de cargas de trabalho sintéticas de vídeo ao vivo.

Foi feita a análise de traces coletados do sistema MANIC (Multimedia Asynchronous Networked Indivualized Courseware).

O sistema na época possuía integração apenas entre áudio e slides HTML.

Os autores obtiveram a distribuição das métricas no nível de sessão (duração da sessão) e, no que tange o comportamento do usuário, do tempo no qual o áudio está sendo ouvido (tempo em ON), e do tempo entre o instante que o usuário pausou o fluxo de áudio até retornar a escuta do fluxo (tempo em OFF).

O tamanho dos saltos no fluxo de áudio também foi caracterizado.

Para determinar os parâmetros das distribuições os autores utilizaram o método dos momentos.

Por inspeção das curvas de distribuição de probabilidade, os autores observaram que as distribuições gamma e lognormal se adequaram melhor à duração da sessão e ao tempo em ON/OFF do que a distribuição exponencial.

Os resultados do artigo apontam também para um elevado nível de interatividade dos usuários e pequena localidade espacial dos saltos.

Neste trabalho, faremos uma análise de carga similar, porém utilizando uma versão do sistema MANIC que, além de áudio e slides dispõe ainda dos vídeos das aulas armazenadas.

Como será descrito foram encontradas similaridades e diferenças do comportamento dos usuários.

Apesar de não propor um modelo interativo, os dados obtidos podem ser utilizados na geração de carga sintética.

O trabalho analisa as cargas dos sistemas BIBS e eTeach, e estuda três métricas para a caracterização desta carga de mídia educativa.

São elas o tempo entre chegadas de sessões, a popularidade das aulas e a popularidade de segmentos de 10 segundos do vídeo.

Essas métricas são comumente utilizadas na avaliação de cargas de mídia ao vivo e conteúdo WWW, mas não haviam sido empregadas no estudo de servidores de mídia educacional (no caso eTeach e BIBS).

Para o eTeach, a distribuição exponencial mostrou-se adequada para modelar o tempo entre chegadas de sessões.

Já para o sistema BIBS a distribuição de Pareto foi a que mais precisamente representou esta métrica.

A freqüência de acesso aos diversos arquivos foi modelada pela concatenação de duas distribuições Zipf-like.

O acesso a segmentos de uma mesma aula foi praticamente uniforme para as mais populares, enquanto que nas aulas menos populares os segmentos iniciais foram mais requisitados do que os finais.

É necessário ainda caracterizar as requisições que ocorrem dentro de uma sessão de um mesmo usuário.

Observou-se que o número médio de requisições do tipo interação foi sempre abaixo de 10, obteve-se ainda a freqüência relativa de cada tipo de requisição (pausa, salto para frente, salto para trás) e a distribuição dos tempos em ON (play) e em OFF (tempo entre períodos de ON).

Com as métricas acima é possível a geração de carga sintética.

Os autores fazem uma análise similar a acima para outros tipos de streaming mídia além de vídeo educacional.

Adicionalmente, consideram a distribuição dos saltos, a correlação entre o tipo de interação no instante t e em t+1, e a correla ção entre a posição de início de uma requisição e a posição ao final da requisição.

Os saltos apresentaram forte localidade temporal, com uma distância média de 45 segundos em ambas as direções em contraste com os resultados obtidos, cujos saltos possuem mais de 30 minutos em média.

O modelo proposto, possui estados para representar os slides que estão sendo tocados, as Pausas feitas a partir de um slide e a saída.

Algumas premissas foram adotadas no modelo.

A primeira assume que os slides são tocados integralmente.

A segunda estabelece que as transições possíveis são de um slide para qualquer outro, do N-ésimo slide para a N-ésima Pausa ou da N-ésima Pausa para o N+1-ésimo slide.

Em suma, ao iniciar a exibição de um slide, este é tocado até o final e saltos ocorrem instantâneamente somente entre slides.

Quanto aos tempos de permanência em cada estado, utilizou-se tempos determinísticos.

Para os slides a duração era igual ao tempo de exibição de um slide e para as Pausas tirou-se a média aritmética dos tempos em pausa de todos os alunos que fizeram uma pausa em cada slide.

Para a obtenção das probabilidades de transição, observou-se a frequência relativa das transições de um estado para outro de uma aula do MANIC.

Assim, a cadeia foi "treinada" para representar os traces reais utilizados.

As premissas assumidas neste modelo podem não corresponder exatamente às ações de um usuário real, que geralmente realiza uma ação no meio de um slide, após uma Pausa, retorna à exibição do vídeo a partir de outro ponto do mesmo slide, volta um slide, adianta um slide ou faz um salto para outro slide diretamente, e leva um tempo não desprezível para realizar esta ação.

Entretanto essa suposição é razoável para o sistema usado no CEDERJ, onde tópicos (assuntos) de uma aula são mostrados e sintonizados com o início de um slide do tópico.

Portanto, é esperado que um aluno, na maioria das vezes, pule para um tópico e não no meio deste.

O próximo artigo segue uma metodologia similar a esta.

Utiliza-se de uma granularidade menor para representar os estados em que o vídeo está sendo exibido, segmentos de 10 segundos e, além disso, não impõe restrições de transições.

O objetivo principal deste modelo é avaliar o desempenho de protocolos de compartilhamento de banda.

Foi obtido um modelo para representar cada perfil de comportamento interativo.

Ele é composto por 5 tipos de estados.

Início de Sessão é o estado inicial.

Não possui duração associada e a partir deste estado só é possível fazer transição para um estado de Segmento Comum ou Segmento Comum Representa a exibição de um segmento de 10 segundos do vídeo.

Uma requisição longa percorre uma longa cadeia de estados deste tipo que terminam ou em um estado de Fim de Requisição ou Fim de Sessão.

Fim de requisição representa o final de uma requisição em um segmento.

Possui uma duração exponencial e é sempre seguido por estado de pausa.

Pausa é o estado que representa o intervalo entre requisições.

Fim de sessão é o estado final do diagrama.

O modelo é constituído da seguinte forma, faz-se uma varredura da carga real para determinar os estados possíveis, as transições existentes, a probabilidade de transição entre estados e por fim, a duração média dos estados de Fim de Requisição e Pausa.

Este é um dos únicos artigos que procura validar o modelo de carga proposto.

Isto é feito comparando-se a posição inicial e final das requições além de comparar a distribuição da duração das requisições.

Como conclusão da validação pôde-se constatar que a posição inicial das requisições geradas pelo modelo, é realmente similar à posição inicial da carga real.

Nesta classe de modelos.

O comportamento do usuário é representado através de um Hidden Markov Model (HMM).

Em uma HMM, a cada estado associa-se um conjunto de símbolos que são emitidos com certa probabilidade.

Este tipo de modelo já foi aplicado no reconhecimento de sinais de voz, na análise de sequências biológicas e na modelagem de canais de comunicação.

O estado da rede, congestionado ou não, é estimado a partir de observações das perdas de pacotes.

A HMM é utilizada para prever o estado futuro da rede baseado em medições on-line.

O modelo foi aplicado na previsão da próxima ação do usuário para realização de busca antecipada de trechos da mídia no servidor remoto.

No entanto ele não pode ser usado para prever a posição do vídeo que o usuário vai solicitar após uma interação.

Os registros dos usuários do sistema MANIC foram usados para calibrar um modelo de Markov oculto com símbolos de observação dados por proximo slide, slide anterior, índice e início.

Um modelo com 4 estados.

A predição das ações dos usuários é feita em dois passos, a cadeia é treinada e posteriormente se prevê a próxima ação do usuário.

Em torno de 70% de observações coincidiam com as previsões.

Sendo que, das ações next observadas aproximadamente 60% foram previstas corretamente e das ações diferentes de next aproximadamente 70% foram previstas erroneamente.

Dentre as classificações descritas, o modelo proposto nesta tese se enquadra em um modelo parametrizado através de cargas reais e busca especificar a posição do usuário a cada instante de tempo.

Para isso, aprofundamos a análise estatística feita.

A partir dos traces reais obtivemos parametros reais dos modelos empíricos e parametrizamos os dois modelos propostos neste trabalho.

Um Modelo Markoviano de dois estados e uma HMM.

Diferentemente dos artigos acima descritos, abordamos a correlação entre as métricas estudadas e a posição do vídeo e buscamos validar os modelos propostos através de análises estatísticas das cargas sintéticas geradas e através da observação do impacto que estas cargas geram em um sistema multimídia.

Este capítulo aborda o processo de caracterização do comportamento dos usuários acessando um vídeo educativo através do sistema MANIC (Multimedia Asynchronous Networked Individualized Courseware).

Apresentamos inicialmente o sistema e os métodos estatísticos utilizados e seguimos com a avaliação das métricas.

Para analisar o comportamento de usuários acessando um vídeo educativo, utilizamos registros coletados do sistema MANIC (Multimedia Asynchronous Networked Individualized Courseware).

Duas versões do sistema MANIC foram desenvolvidas.

Na primeira o conteúdo das aulas fica pré-armazenado em um servidor multimídia e é enviado pela rede até os usuários.

Registros foram obtidos deste sistema, quando ele possuía integração apenas entre os slides e o áudio.

Vers ões mais recentes também possuem integração com vídeo.

A outra versão deste sistema é o CD-MANIC.

Neste caso, o conteúdo das aulas, slides, áudio e vídeo, está em um CD entregue ao usuário.

Os registros de acessos dos usuários as aulas são armazenados localmente e depois enviados pela rede para um banco de dados.

Nesta tese utilizamos registros obtidos a partir do CD-MANIC.

Acreditamos que o comportamento do usuário acessando o MANIC ou o CD-MANIC, ambos com integração com vídeo, não deve diferir muito.

Esta hipótese é razoável se assumirmos que o retardo fim-a-fim entre a aplicação e o servidor MANIC é suficientemente pequeno para não influir no comportamento do usuário.

Este é o caso, por exemplo, da infra-estrutura de ensino a distância utilizada no Centro de Ensino Superior a Distância do Estado do Rio de Janeiro (CEDERJ), onde o servidor está na mesma rede local do usuário.

O sistema possui comandos como Pause, Index, FF, RW, que possibilitam um papel ativo dos alunos no aprendizado.

Ao executar um comando de Index a exibição do vídeo é parada, o aluno navega por tópicos da aula e para voltar a assistir continuamente o vídeo um comando de Play deve ser dado.

Um comando similar a este está disponível em DVD Players onde um índice aponta para as partes de um filme.

Registros são gerados a cada interação do usuário, ou quando há um evento de mudança de tópico.

Eles contém informações tais como, a data, o tipo de ação e o slide em que o aluno se encontra.

A máquina de origem é identificada no nome do arquivo gerado.

O término de uma sessão pode ser identificado por uma ação explícita do usuário para finalizar a aplicação.

No entanto, consideramos que o aluno também pode sair da sessão corrente ao solicitar um slide de outra aula, assistir até o final do último slide da aula, ou ultrapassar 30 minutos (um Session Gap Threshold, SGT) sem realizar nenhuma interação.

Em nosso trabalho utilizamos registros de usuários acessando o curso Computer Networking ministrado pelo Professor Jim Kurose da Universidade de Massachusetts.

Apresenta algumas estatísticas dos registros utilizados e mostra a popularidade das aulas, representada pelo número de sessões associadas a cada aula.

Um dos objetivos deste trabalho é obter distribuições de probabilidade que caracterizam as medidas de interesse coletadas do sistema.

Para isso, iremos inicialmente obter os parâmetros para diversas famílias de distribuições, a partir das amostras coletadas para as medidas, e depois usar um método para escolher a distribuição mais adequada.

Os métodos utilizados serão descritos de forma breve a seguir.

Descrições mais detalhadas podem ser encontradas.

Utilizamos o estimação por máxima verossimilhança (maximum likelihood estimatation, MLE) para determinar os parâmetros de uma distribuição a partir das amostras coletadas.

Sejam p o conjunto de parâmetros a serem estimados e L(p), a função de verossimilhança definida como a probabilidade conjunta das amostras para um valor fixo dos parâmetros.

O MLE para p é o valor -p que maximiza L(p).

As distribuições consideradas em nosso estudo e os parâmetros associados a cada uma delas.

Para determinar o tipo de distribuição que melhor aproxima os dados empíricos de uma dada variável fizemos uma análise visual e outra análise quantitativa.

Plotamos os gráficos das distribuições complementares (complementar cumulative distribution function, CCDF, ou 1-F(x)) com o eixo das ordenadas em escala logarítmica para evidenciar a cauda da distribuição e avaliamos visualmente aquela que se assemelhava mais com a distribuição empírica.

Além disso, comparamos o erro médio quadrático (mean squared error, MSE) entre as distribuições empíricas e a estimada.

Para as métricas que possuem correlação com a posição do vídeo, a princípio seria necessário obter uma distribuição para cada intervalo do vídeo, isto é, considerando somente as amostras daquele intervalo.

No entanto, preferimos testar a hipótese de utilizar uma única distribuição, obtida a partir de todas amostras.

Geramos amostras a partir desta distribuição e, caso a amostra sorteada ultrapasse os limites do vídeo, truncamos o seu valor no tamanho do vídeo, ou sorteamos nova amostra, o que chamamos de reestimação.

Usamos dois métodos para verificar qual a aproximação (truncar ou reestimar uma amostra) melhor caracteriza a métrica.

A primeira é uma técnica gráfica chamada quantile-quantile plot (QQ-Plot), que plota as amostras reais ordenadas de um intervalo versus as amostras geradas pela distribuição truncada ou reestimada para aquele mesmo intervalo.

Se os dois conjuntos de amostras tiverem a mesma distribuição, os pontos devem estar localizados próximos a uma linha de referência de 45 graus.

A segunda técnica é o teste de 2 amostras de Kolmogorov-Smirnov, no qual testamos a hipótese nula de dois conjuntos de amostras pertencerem à mesma distribuição.

Utilizamos um grau de significância de 5%, o que corresponde à probabilidade de rejeitarmos a hipótese nula erroneamente.

Caracterizar o comportamento dos usuários consiste na escolha de métricas que descrevam a interatividade dos usuários e na busca das distribuições que melhor representem estas métricas.

A seguir descrevemos as métricas analisadas.

Definimos o tempo em Play, ou tempo em ON, como o período em que o vídeo é exibido continuamente.

Este tempo é equivalente ao tamanho de uma requisição.

A duração do tempo em OFF é a composição de uma ou mais interações de Pause, Index, FF, RW executadas em seqüência.

Durante ambos os tempos de Pause e Index não há transmissão de blocos do vídeo.

No entanto, ao final do período em Index o usuário pode retornar para outra posição do vídeo que não a última acessada.

A posição inicial acessada é a posição do vídeo que o usuário acessa em sua primeira requisição ao começar uma sessão.

Seja o tamanho dos saltos o quanto o vídeo avançou ou retrocedeu após uma interação de FF, RW, ou Index em unidades de tempo.

Esta medida pode ser traduzida em blocos de vídeo, dividindo o valor medido pelo tamanho de um bloco.

O tempo de permanência em um slide corresponde ao tempo em que o aluno permanece assistindo continuamente a um slide.

Independentemente do aluno ter começado a visualização do slide a partir de seu início ou do meio, do aluno ter chegado ou não até o final do slide e do tamanho do slide.

Apesar de já termos definido uma métrica para analisar o acesso sequencial ao vídeo, o tempo em ON, o descritor proposto avalia o comportamento do usuário em uma escala de tempo menor.

As métricas de tempo em ON e tempo em OFF já foram analisadas anteriormente para outras cargas de dados.

Acrescentamos à caracterização do comportamento do usuário questões que não haviam sido estudadas.

Analisamos a correlação entre o tempo em ON e a posição do vídeo.

As interações que compõem o tempo em OFF.

A relação entre a duração do FF e RW e o avanço ou retrocesso do vídeo.

A correlação entre o tamanho dos saltos e a posição do vídeo.

E por fim, analisamos o vídeo na escala de tempo de slides.

Podemos ver que até os 2000 segundos (onde se concentram 94% das amostras) as distribuições Gamma, Lognormal e Weibull se aproximam bem dos dados empíricos.

Os resultados do MSE indicam estas mesmas distribuições para representar o tempo em ON.

O comportamento evidenciado na figura mostra que a maioria dos usuários fazem requisições de curta duração, enquanto outros assistem à aula por completo.

Além disso, como as aulas possuem duração finita com média de 65 minutos, após 4000 segundos de vídeo observamos uma queda na curva da CCDF empírica.

QQ-Plot.

Requisições do vídeo com posição inicial entre 2000 e 2500 segundos x Distribuição Lognormal truncada e reestimada duraram menos do que 3 minutos.

Obtém distribuições semelhantes, ao analisar uma carga de vídeos de 5 a 35 minutos de duração.

Em uma segunda etapa verificamos se existe alguma correlação entre o tempo em ON e a posição corrente do vídeo.

Obtivemos um coeficiente de correlação de 0,1968 para as duas variáveis, o que indica que elas se correlacionam inversamente.

Sendo que, 19% das amostras possuem correlação mais evidente do que as demais amostras.

Ilustra novamente a dependência entre as duas variáveis.

Isto pode ser explicado pois quanto mais avançada a posição corrente do vídeo, menor o tempo residual até que ele chegue ao final do vídeo.

Devido a esta dependência, não fica claro se uma mesma distribuição pode ser utilizada para representar o tempo em ON sem considerar a posição corrente do vídeo sendo exibido pelo usuário.

Procedemos então com a análise, ou seja, dividimos o vídeo em intervalos e aproximamos a distribuição em cada intervalo por uma Lognormal truncada ou reestimada.

É um exemplo dos resultados encontrados ao se comparar as amostras condicionadas com a posição do vídeo com amostras da distribuição reestimada e truncada.

Para este exemplo, verificamos que a distribuição truncada, foi a que melhor se aproximou dos dados reais.

O mesmo resultado foi encontrado para quase todos os intervalos, exceto para os instantes no princípio ou no final da aula.

No início da aula, o número de interações é maior do que durante o restante do vídeo.

Veremos mais adiante que este fenômeno se repete em outra escala.

Ao iniciar um novo slide existe uma maior probabilidade de ocorrer uma transição do que no decorrer do slide.

Podemos interpretar este resultado como uma avaliação por parte do usuário do conteúdo a ser exibido.

Caso seja de seu interesse, ele continua a visualização, caso contrário uma interação é logo feita.

Notamos também que no final da aula a requisição pode assumir poucos valores e o número de truncamentos ou reestimações aumenta muito.

Contudo, isto não afeta significativamente a aproximação proposta.

A segunda técnica utilizada, foi o teste de 2 amostras de Kolmogorov-Smirnov, na qual testamos a hipótese das distribuições truncadas ou reestimadas pertencerem à mesma distribuição das amostras condicionadas.

Os resultados que obtivemos mostram que para a maioria dos intervalos, truncar a distribuição Lognormal foi uma melhor solução do que reestimar os valores.

A métrica do tempo em OFF possui grande variabilidade.

Isto ocorre pois os tempos de FF e RW são muito menores do que as durações de Pause e Index, conforme veremos adiante.

Observamos que a distribuição Lognormal é a mais adequada para representar o tempo em OFF.

As distribuições encontradas são as mesmas obtidas, com parâmetros distintos.

A duração média igual a 1,6 minutos é menor do que aquela encontrada em de 3 minutos.

Em 90% dos tempos em OFF duram menos do que 4 minutos.

Diferentemente do resultado obtido para o tempo em ON, mostra claramente que não há relação entre o instante do vídeo em que ocorre uma pausa e a duração da pausa.

A seguir apresentamos uma análise separada das métricas relacionadas com as interações que podem ser executadas durante o tempo em OFF, que são tempo em Pause, tempo em FF, tempo em RW e tempo em Index.

A distribuição Lognormal, e de acordo com o MSE, é a mais adequada para caracterizar os tempos em Pause de até 1100 segundos, que representam mais do que 96% das amostras.

A queda ao final da CCDF empírica em 30 minutos ocorre pois, após um comando de Pause, caso o usuário permaneça por um intervalo igual a 30 minutos sem fazer interação alguma, a sessão será considerada terminada.

Este intervalo consiste em um Session Gap Threshold, SGT, definido anteriormente.

O tempo que o usuário permanece em Index corresponde a um período de busca.

O aluno navega através dos slides e do índice até a posição desejada.

Este tempo pode variar muito dependendo da intenção do aluno de avançar ou retroceder um slide ou fazer uma busca mais demorada no índice.

Podemos observar isto através do coeficiente de variação.

A distribuição que mais se aproximou de 95% das amostras foi a Lognormal.

O mesmo resultado está explicito no MSE.

Só foi possível observar estas ações detalhadas dos usuários, pois os logs foram coletados no cliente.

Para o servidor, o estado de Index corresponderia a uma pausa.

A distribuição Lognormal foi a que melhor se adequou à duração do tempo em FF.

Para o tempo em RW, a distribuição Lognormal, é a mais adequada para durações de até 25 segundos, que correspondem a 95% dos dados.

Porém, para valores maiores que 25 segundos, nenhuma distribuição apresentou um caimento tão lento quanto o obtido pelos dados experimentais.

Alguns trabalhos na literatura consideram os saltos como instantâneos.

De fato, constatamos que 44% dos FFs e 55% dos RWs são instantâneos ou duram menos do que 1 segundo.

Outros artigos relacionam o tempo em FF/RW com o tamanho do salto do vídeo.

Nos logs medidos há uma relação lógica entre o tempo em FF/RW e o número de slides avançados.

No entanto, como cada slide pode ter um tamanho diferente, não há necessariamente uma relação entre o tempo em FF/RW e o número de blocos avançados no vídeo.

Existem pontos onde o usuário permanece muito tempo em FF e há pouco avanço no vídeo, enquanto pontos com curta duração de FF apresentam avanços de tamanhos variados.

O coeficiente de correlação obtido de 0 confirma os resultados acima.

A ausência de correlação descrita acima também é observada no coeficiente de correlação de 0" para a duração do tempo em RW.

Mais do que 58% dos acessos iniciam a visualização de uma aula pelo primeiro slide e as demais inicializações parecem uniformemente distribuídas.

Para verificar se a distribuição é realmente uniforme, condicionamos na posição inicial do vídeo e obtivemos a distribuição da posição inicial dado que o usuário não acessou o primeiro slide.

Verificamos que as distribuições que melhor se aproximam são a Normal, a Weibull e a Uniforme, sendo esta última a única que acompanha a cauda da curva dos dados empíricos.

Além disso, o uso da distribuição Uniforme apresenta vantagens matemáticas que podem simplificar a modelagem.

Assim verificamos que o melhor casamento se dá quando usamos uma distribuição mista com 0" de probabilidade de acesso ao primeiro slide e uma distribuição uniforme de acesso às demais partes do vídeo.

Medimos o tamanho dos saltos de acordo com a posição do vídeo (em milisegundos).

Esta métrica pode ser facilmente transformada em número de blocos saltados caso se possua a taxa de transmissão do vídeo e o tamanho dos blocos.

Os saltos para trás possuem tamanho médio maior do que os saltos para frente.

Este resultado pode parecer contraditório com o fato da média do tempo em FF ser maior do que a média do tempo em RW.

No entanto, os tempos em FF e RW não possuem relação direta com o tamanho dos saltos.

Além disso, o salto pode ocorrer também devido a um comando de Index, que leva o aluno a qualquer posição no vídeo.

Os nossos logs apresentam localidade espacial muito maior do que os logs analisados, ou seja, os saltos ocorrem para posições próximas no vídeo.

A média do salto para frente e para trás que obtivemos foi de 82 e 143 segundos versus 2138 e 3395 segundos.

O percentual de saltos menores do que 180 segundos nas nossas análises foi igual a 87% e foi igual a 34%.

Isto indica que pode ser possível aproveitar conteúdo previamente armazenado (e exibido), no caso de um salto curto para trás, ou fazer uso do conteúdo prefetched no caso de saltos curtos para frente.

Este é um bom exemplo de como os resultados aqui mostrados podem beneficiar a calibração de um servidor com cache.

De acordo com o gráfico da distribuição complementar do tamanho do salto para trás e dos valores do MSE, podemos observar que a distribui ção que melhor aproxima esses saltos é a Lognormal.

Mostra que a grande maioria dos saltos para trás (95%) é menor do que 500 segundos.

Já os saltos para frente de até 500 segundos, 96% das amostras, podem ser caracterizados pelas distribuições Gamma, Lognormal e Weibull.

O percentual de saltos para frente é igual a 28%, o de saltos para trás é de 30% e o de saltos nulos (pausas) é de 42%.

Primeiramente analisamos o tempo de permanência em um slide, independentemente da duração do slide, do aluno ter começado a visualização do slide a partir de seu início ou do meio e do aluno ter chegado ou não até o final do slide.

Podemos ver que a distribuição exponencial, com parâmetro, igual a 1/138, casa bem com as amostras, o que é ratificado pelo coeficiente de variação de 0".

As distribuições Gamma e Weibull também se aproximam bem da distribuição empírica.

Após esta análise, obtivemos a distribuição do tempo de permanência em um slide condicionado à duração do slide.

Ilustra que pouco mais que 10% dos usuários assiste aproximadamente aos 5% iniciais do slide e depois faz uma interação, e quase 60% dos usuários assiste o slide até o final.

Isto mostra que há uma maior probabilidade de ocorrência de uma interação no início do slide do que no restante do slide e caso esta não ocorra, provavelmente o aluno assistirá ao slide até o final.

O autor considera que as transições não ocorrem no meio de um slide, o que de acordo com a conclusão acima, nos parece uma aproximação razoável.

Aperformance de um sistema multimídia está fortemente atrelada à carga de trabalho a que estes sistemas estão submetidos.

Por isso, é importante criar modelos que representem o comportamento dos usuários de um sistema.

Neste cap ítulo descrevemos dois modelos propostos.

O primeiro consiste em um modelo ON-OFF simples com alguns incrementos, de fácil implementação e o segundo modelo consiste em uma Cadeia de Markov Oculta (Hidden Markov Model, HMM).

Ambos indicam o instante de ocorrência de uma interação e a posição do vídeo acessada.

Os modelos podem ser utilizados na geração de carga sintética para um sistema multimídia ou em simulações.

Apresentaremos primeiramente uma descrição do modelo, com suas variáveis, parâmetros, estados e transições.

Nesta etapa indicaremos como cada parâmetro foi obtido a partir da caracterização descrita no Capítulo 3.

Em seguida abordaremos aspectos referentes à implementação do modelo na Ferramenta Tangram-II.

Para criar este modelo escolhemos um subconjunto das variáveis apresentadas na caracterização feita no Capítulo 3.

Seja a variável aleatória tempo_on definida como o tempo em segundos em que o vídeo é tocado continuamente após um comando de Play.

Considere tempo_off a duração do tempo em um estado interativo.

A primeira posição do vídeo acessada é representada pela variável prim_pos com distribuição mista.

O salto também possui uma distribuição mista composta pelas probabilidades de cada movimentação.

Definimos salto_nulo como um período de pausa, salto_para_frente como o tamanho do salto após efetuar um comando de Index ou FF e salto_para_tras o tamanho do salto após um comando de Index ou RW.

Além destas variáveis, cujas distribuições e parâmetros estão explicitados, encontramos as probabilidades de transição entre os estados e a probabilidade de ocorrência de cada um dos saltos.

O modelo possui dois estados transientes, ON e OFF, e um estado absorvente, Saida.

O usuário começa uma sessão de acordo com a distribuição da posição inicial acessada definida pela variável prim_pos.

Em seguida inicia-se uma sequência alternada de períodos de ON e de OFF.

Por definição o primeiro período é de ON.

No estado de OFF uma ou mais interações podem ocorrer alterando a última posição do vídeo acessada.

Ao sair do estado OFF, a posição de retorno do vídeo fica então determinada pela probabilidade de ocorrer um salto para frente, para trás ou nulo e pelo tamanho dos saltos.

A sessão termina quando o final do vídeo é atingido, ou, caso o aluno não assista a toda a aula, devido à probabilidade de transição do estado ON e OFF para a saída.

Implementamos este modelo na ferramenta Tangram-II.

O Tangram-II é um ambiente de modelagem desenvolvido para ensino e pesquisa que permite a construção e resolução de modelos.

Dos quatro módulos que possui, é no Modeling Enviroment onde são construídos e resolvidos os modelos.

A especificação do sistema é feita na interface gráfica TGIF.

Para implementarmos o modelo ON-OFF desenvolvemos um objeto Este objeto é responsável pela geração de carga sintética e conta com quatro eventos possíveis, entrada, saída, On_Off e Off_On.

Definimos duas recompensas de taxa, uma para representar a posição do cliente ao longo do tempo chamada posicao e outra associada com o tempo decorrido desde o início da sessão chamada elapsed_time.

As constantes usadas no código dos eventos correspondem diretamente àquelas explicitadas anteriormente para o modelo.

As constantes TAM_AULA e Session Gap Threshold, SGT, são também especificadas.

Descreveremos a seguir as ações executadas na ocorrência dos eventos.

Entrada Inicialmente, o único evento habilitado é o evento de Entrada, onde a posição inicial prim_pos é sorteada.

Neste instante, o valor da recompensa posicao é atualizada para prim_pos.

Em seguida, sorteamos o tempo em que o vídeo continuará a ser transmitido continuamente, tempo_on.

Caso posicao + tempo_on ultrapasse o TAM_AULA, então a variável tempo_on é truncada para TAM_AULA, prim_pos, On_Off.

Enquanto o evento transição On_Off não é disparado, a recompensa posicao é incrementada continuamente.

No disparo deste evento, tempo_off é sorteado.

Caso o valor ultrapasse um SGT truncamos a variável para 1800 segundos, caso o usuário permaneça 1800 sem fazer interação alguma, é provável que ele permaneça inativo por muito mais tempo.

Off_On Até que o evento Off_On ocorra, o valor da recompensa posicao não é alterado.

No disparo deste evento, sorteamos um valor para salto e atribuímos a posiçao de retorno do usuário à recompensa posicao.

Nova variável tempo_on é também sorteada.

As variáveis salto e tempo_on podem ser truncadas caso o limite da aula seja ultrapassado.

Saida O processo continua até que a aula termine, ou até que ocorra uma transição para o estado absorvente, que desabilita todos os outros eventos.

O primeiro modelo consiste em uma On-Off de simples compreensão e implementa ção A partir deste modelo geramos carga sintética para representar a posição do usuário no vídeo a cada instante.

O modelo também pode ser utilizado para gerar o tráfego requerido pelo usuário.

Para isso, deve-se estimar uma taxa de transmissão para o estado de interação e a forma com que o FF e RW estão implementados.

Esta estimativa deve ser baseada no número de interações que o aluno faz e na taxa de cada uma delas.

No caso deste trabalho, considerou-se que enquanto o aluno realiza um FF ou RW, a rede não é onerada e somente ao liberar estes botões o cliente solicita o bloco desejado, ou seja, o sistema responde da mesma forma que faria com um Index.

Nesta seção apresentamos o segundo modelo proposto, uma HMM.

Modelos de Markov ocultos (hidden Markov models, HMMs) são comumente aplicados na representação de procesos não estacionários.

Já mencionado, propõe o uso de uma HMM para prever as ações imediatas de usuários do sistema MANIC, e realizar a busca antecipada de trechos da mídia que devem ser assistidos.

Neste trabalho, utilizamos uma HMM para capturar as estatísticas de comportamento do usuário, e gerar carga sintética para a análise do desempenho de um sistema multimídia.

Inicialmente, justificamos o modelo através de estudos realizados e em seguida explicamos o modelo inicial utilizado e o modelo resultante do treinamento da cadeia com os logs reais.

A notação e os conceitos utilizados neste capítulo estão descritos no Apêndice A.

Ao analisarmos o comportamento dos usuários acessando às aulas, slide por slide, observamos que um valor típico para a probabilidade de transição do slide n para o n+1 é de 75%.

Sendo que este valor cai para cerca de 40% para o primeiro slide, devido à grande probabilidade de ocorrer uma interação inicial.

Isto está de acordo com o que havíamos observado no capítulo de caracterização, onde mostramos que há maior probabilidade de ocorrer uma interação no início de sessão.

A probabilidade de se sair de uma sessão a partir de um slide varia em torno de 4%, sendo que para o último slide da aula, este valor cresce para cerca de 80%.

Após uma interação há uma probabilidade em torno de 70% do aluno retornar ao slide de origem.

Isto mostra um alto grau de localidade nos saltos.

Então mesmo que ocorra um salto, este se encontra geralmente dentro dos limites de um slide.

Como o acesso aos slides dentro de uma mesma aula apresentavam características similares, buscamos uma HMM que captasse apenas a distância entre os slides de cada interação.

O modelo inicial proposto consiste em uma Cadeia de Markov Oculta, onde as observações da HMM são embutidas nos instantes em que o usuário realiza interações ou transiciona entre slides.

As observações de nosso modelo são símbolos em um alfabeto com 7 elementos.

É importante ressaltar que o símbolo próximo representa a transição natural entre um slide e o seguinte, devido ao fim do primeiro.

Além disso, cada um dos símbolos de interação, isto é, o símbolo pausa e os saltos, está associado a um tempo em OFF, conforme discutido na seção 3.

O símbolo saída é usado para representar o fim de uma sessão, seja este por qualquer motivo.

Dadas estas informações, mapeamos cada ação dos usuários em símbolos, e traduzimos os registros originais das sessões em sequências que podem ser utilizadas na calibragem dos parâmetros do modelo através das fórmulas do algoritmo Baum-Welch.

Apesar de os estados da cadeia de Markov oculta não serem diretamente observáveis, em muitas aplicações, estes possuem algum tipo de sentido físico.

Os estados representam diferentes níveis de congestionamento na rede.

Em nosso modelo, os estados representam os graus de interatividade do usuário.

Observamos um modelo ergódico, onde todos os estados da cadeia podem se comunicar após um número finito de passos.

Nesta cadeia, mesmo após a emissão do símbolo 0 (saida) outros símbolos podem continuar sendo emitidos.

Uma possível sequência de observações é 1,1,1,2,1,1,0,1,3,1,1,3,0,1,1,5,1,0,1,1,1,1,6,1,0.

Esta sequência de observações representa, quatro sessões de usuários concatenadas.

Outra forma de implementação seria através do modelo que possui estados de natureza transiente e um estado absorvente.

Um exemplo de sequência de observações é 1,1,6,1,3,2,0, que representa uma única sessão de usuário.

Para treinar esta cadeia, podem ser necessárias múltiplas sequências de observações, uma vez que o número de emissões de símbolos até que se chegue ao estado absorvente pode não ser suficiente para obter estimativas confiáveis dos parâmetros.

Ao compararmos os parâmetros obtidos com ambas as implementações, observamos que os dois modelos apresentam resultados muito similares.

Seguiremos, então, com a descrição do processo para treinar o modelo ergódico com uma única sequência de observações.

Definimos os parâmetros iniciais do modelo, descritos no Apêndice A.

Uma má escolha dos parâmetros iniciais pode levar a um máximo local bem distante do máximo global.

Utilizamos valores aleatórios para A, pois indica que uma escolha aleatória é adequada para a maioria dos casos.

Por sua vez, a escolha de B pode ter uma influência decisiva para modelos com alfabeto discreto.

No modelo proposto, restringimos a emissão do símbolo saida a apenas um dos estados ocultos.

O início de uma sessão fica, então, determinado pelas probabilidades de transição a partir do estado de saida.

Para determinar o número de estados da cadeia oculta, treinamos modelos que possuem de 2 a 10 estados.

Em seguida, observamos para cada quantidade de estados o logaritmo da medida de verossimilhança.

De acordo com a curva, vemos que após 6 estados o ganho é muito baixo para justificar o aumento em complexidade.

Por isso utilizamos um modelo com 6 estados ocultos, onde um destes é dedicado ao símbolo saída, e os demais aos acessos e interações do usuário.

Em suma, mapeamos os logs de 1782 sessões em uma única sequência de observações, escolhemos um modelo egódico com 6 estados e 7 símbolos com apenas um estado emitindo o símbolo que indica saida, atribuimos valores aleatórios para os demais parâmetros de A e B.

Por fim, treinamos a cadeia para obter valores de A e B que "melhor" representam a sequência de observações.

Os valores obtidos para a cadeia resultante do treinamento.

Nestes resultados, ordenamos os estados ocultos pela probabilidade de observação do símbolo próximo, que representa o comportamento seqüencial dos acessos do usuário.

A distribuição do estado inicial para uma sessão pode ser vista na primeira linha da matriz de probabilidades de transição.

As demais linhas mostram que há valores altos para a probabilidade de transição de um estado para ele próprio, ou de um estado para outro, que possua maior probabilidade de acesso sequencial dos slides.

A primeira linha da matriz caracteriza o estado escolhido para emitir o símbolo saída.

O segundo estado caracteriza a interação de pausa, visto que este símbolo é emitido com probabilidade 0".

O terceiro estado é o mais interativo e o único onde ocorrem saltos de dois ou mais slides.

O quarto estado também é interativo, por ém existe grande probabilidade de um acesso sequencial.

O quinto e o sexto estados possuem grande probabilidade de emitir o símbolo próximo e alguma probabilidade de ocorrer uma pausa.

Assim, a partir desta cadeia treinada geramos carga sintética, que por sua vez, pode ser utilizada para emular o padrão de acessos a um servidor multimídia.

O próximo capítulo apresenta os resultados obtidos.

No capítulo anterior, utilizamos traces reais para parametrizar os dois modelos propostos, ON-OFF e HMM.

Neste capítulo verificamos se a carga sintética gerada por estes modelos é estatisticamente similar à carga real.

Além disso, comparamos o impacto gerado por ambas as cargas usando um simulador de um servidor multimídia desenvolvido.

Desta forma, validamos os modelos propostos.

Traduzimos os traces reais e as cargas sintéticas geradas a partir dos modelos ONOFF e HMM no formato dos arquivos, pois usamos esses traces e cargas como entrada do modelo.

Estes arquivos contém os tempos entre saltos e as posições de destino, além dos tempos entre pausas e a duração das pausas.

Com isto é possível simular o comportamento detalhado do cliente.

Um caminho amostral da simulação da HMM consiste em uma sequência de símbolos.

Esta informação não é suficiente para gerar as solicitações dos usuários que chegam a um sistema multimídia devido a uma interação realizada.

Estes símbolos indicam a ocorrência de um evento, porém o instante e a posição no vídeo não estão especificados.

Para a geração da carga sintética, inserimos a informação de tempo a cada observação a partir das distribuições obtidas.

Utilizamos a distribuição exponencial para representar a duração de um slide, a distribuição lognormal para o tempo em OFF e uma distribuição mista para a posição do vídeo acessada no início da sessão.

Ao observarmos uma sequência de n símbolos de próximo, sorteamos n valores exponenciais correspondentes a duração dos slides.

Toda vez que um dos símbolos é encontrado, sorteamos uma variável aleatória Lognormal para representar o tempo em OFF e variáveis exponenciais para representar a duração dos slides.

Assumimos o tamanho máximo da aula de 4225,8 segundos e um SGT de 30 minutos, para descartar caminhos amostrais cujas estatísticas sejam inválidas do ponto de vista de nossa carga empírica.

Na comparação estatística dos traces reais e sintéticos avaliamos um subconjunto de métricas estudadas na seção 3, o tempo em ON, o tempo em OFF, a duração da sessão e os instantes de início e fim de uma requisição.

Para o modelo HMM analisamos também a frequência de emissão dos símbolos e a distribuição do número de slides assistidos sequencialmente.

Seguem os resultados que obtivemos ao comparar o desempenho segundo estas métricas.

A média do tempo em ON obtido para os registros reais foi de 442 segundos.

Já para os registros do modelo ON-OFF a média foi de 391 segundos e para a HMM foi de 422 segundos.

A discrepância entre os valores obtidos para os registros reais e para os registros do modelo ON-OFF se deve ao fato de estarmos utilizando a distribuição de tempo em ON truncada o que traz o valor da média para baixo.

No entanto, podemos observar que os histogramas do tempo em ON para as cargas geradas pelos modelos ON-OFF e HMM se assemelham muito aquele gerado pela carga real.

Para o tempo em OFF observamos o mesmo fenômeno descrito acima.

A média para os registros reais foi de 92 segundos, 79 segundos para os registros do modelo ON-OFF e 93 segundos para os logs da HMM.

Apresenta o histograma do tempo em OFF para as cargas geradas pelos modelos e para a carga real.

Obtivemos a mesma duração média da sessão tanto para os registros reais quanto para os registros gerados pelo HMM de 2112 segundos.

A sessão dos logs ON-OFFHistogramas para o tempo em ON dos logs reais e dos logs sintéticos gerados a partir dos modelos ON-OFF HMM durou em média 1506 segundos.

Como a média do tempo em ON é de 441 segundos, a sessão dos logs ON-OFF apresenta uma requisição a menos do que os logs reais.

Acreditamos que esta diferença se deve à condição de término de uma sessão na implementação do modelo ON-OFF.

As probabilidades de transição de ON para Saída e de OFF para Saída aumentam devido à probabilidade de truncamento da aula ao chegar ao fim do vídeo.

Compara as distribuições dos três logs.

Os instantes de início e término de uma requição.

Os valores estão de acordo com os histogramas do tempo em ON apresentados anteriormente.

Para o modelo HMM analisamos também a frequência de emissão de cada símbolo.

Comparamos a sequência de símbolos gerada a partir dos logs reais e usada para treinar a cadeia com um trace sintético gerado a partir da HMM já treinada.

Pode-se observar que a HMM consegue reproduzir fielmente a frequência das observações.

Analisamos também a distribuição do número de slides assistidos sequencialmente.

A HMM também capta a correlação entre os símbolos de prox.

Outra forma de validar os modelos, além de observar as métricas dos traces reais e sintéticos, é comparar o impacto gerado pelos dois traces sintéticos com aquele gerado pelos logs reais ao alimentarmos um modelo de um servidor multimídia.

Um sistema multimídia, possui dois componentes básicos, o objeto servidor e o objeto cliente.

Os objetos clientes são responsáveis pela movimentação de cada cliente, tocar, parar, avançar e retroceder.

E o objeto servidor é responsável pelo envio dos dados solicitados pelos clientes.

Objeto Cliente Para gerarmos o comportamento dos clientes que acessam o objeto de mídia educativa, especificamos suas sessões e as transferências entre o servidor e o cliente dentro de uma sessão.

As transferências são regidas pelos logs reais e sintéticos traduzidos nos arquivos que contém os instantes e posições das interações.

Objeto Servidor O objeto servidor utilizado foi desenvolvido no ambiente de modelagem Tangram-II.

Este objeto é responsável pelo gerenciamento dos clientes em grupos e por receber e tratar as mensagens que são enviadas pelos clientes para informar sua interatividade.

O modelo implementa uma técnica eficiente para compartilhar o canal de transmissão do servidor.

A técnica visa compartilhar o fluxo de vídeo dos clientes.

Na simulação 500 clientes acessam um vídeo de 4225" segundos de duração.

As sessões tem chegada determinada por um processo de Poisson com taxa de 1 sessão por minuto.

A cada requisição de um cliente, o servidor analisa a necessidade de se criar um novo fluxo, ou a possibilidade de compartilhamento de fluxos via patching.

Através deste sistema obtemos duas medidas principais, o número de usuários ativos e o número de fluxos sendo transmitidos para os clientes (fluxo principal e patches).

A curva do número de usuários ativos dos registros reais é mais similar àquela do número de usuários da HMM do que a curva obtida a partir dos logs ON-OFF.

O pico de usuários ativos simultaneamente se encontra em torno de 30 para ambos os logs reais e os gerados pela HMM.

O resultado mais interessante consiste no casamento entre as curvas do número de fluxos, o que indica que a HMM consegue prever com mais precisão a posição do vídeo acessada pelo usuário a cada instante de tempo.

Neste trabalho apresentamos os resultados da caracterização dos usuários e identificamos diversas propriedades interessantes.

Como principais resultados podemos destacar que há uma forte correlação entre a posição do aluno e a duração de uma requisição e entre a posição do aluno e o tamanho do salto, existe uma maior probabilidade de ocorrer uma interação do aluno quando ocorre uma mudança de conteúdo da aula.

Isto ocorre tanto no início de uma aula, quanto no início de um novo slide.

Interpretamos este fenômeno como uma avaliação por parte do usuário do conteúdo a ser exibido.

Caso seja de seu interesse, ele continua a visualização, caso contrário uma interação é logo feita.

A distribuição Lognormal foi a que melhor modelou o tempo em OFF, Pause, Index, FF e RW e o tamanho do salto para trás.

A distribuição do tempo em ON e o tamanho do salto para frente podem ser aproximados pelas distribuições Gamma, Weibull e Lognormal.

Mais do que 58% dos acessos iniciam a visualização de uma aula pelo primeiro slide e as demais inicializações parecem uniformemente distribuídas.

O tempo de permanência em um slide pode ser modelado por uma variável exponencial com média 138 segundos.

Definimos também dois modelos que representam os dados observados, um modelo ON-OFF e uma HMM.

Os modelos de geração de carga sintética permitirão o estudo de mecanismos e arquiteturas de servidores multimídia projetados para atender a demanda de usuários interativos.

Experimentos realizados com as cargas real e sintéticas para validar os modelos mostram que a HMM proposta representa mais fielmente o comportamento dos clientes do que o modelo ON-OFF.

Como sugestões para trabalhos futuros deixamos.

Estudar outras cargas de trabalho para comparar os resultados da caracterização.

Analisar as cargas com níveis de agregação diferentes.

Cada aula pode ter distribuições diferentes, ou a mesma distribuição com outros parâmetros.

Propor modelos diferentes dependendo do tipo da aula ou do ritmo dos alunos.

Estudar métodos de se estimar os parâmetros de uma distribuição Lognormal truncada e utilizar esta distribuição na modelagem dos tempos em ON e OFF.

Testar um modelo com n estados para representar os slides e n estados para representar as interações destes estados.

Para o tempo de permanência em um slide, utilizar a distribuição mista mencionada.

E treinar este modelo para diferentes aulas.

Estudar a correlação entre a proporção do slide assistido e a próxima interação do usuário.

Testar modelar blocos do vídeo ao invés de slides.

No modelo HMM ao traduzir as observações nos arquivos de entrada do sistema multimídia, mudar a distribuição da duração de um slide de exponencial pela distribuição mista.

Testar um modelo HMM com os tempos e posições já embutidos, ou seja, onde não é necessário utilizar a duração do slide e nem a duração de uma interação para a geração de carga sintética.

Validar o modelo proposto utilizando um emulador do cliente e um servidor real.

Quantificar a validação e a comparação dos modelos.

Estudar a possibilidade de prever a próxima ação do usuário através da HMM.

