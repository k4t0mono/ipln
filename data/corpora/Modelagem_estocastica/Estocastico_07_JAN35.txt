A técnica proposta neste trabalho tem como objetivo inferir a taxa de transmissão do enlace do último salto quando este é uma WLAN.

A proposta leva em consideração o overhead do padrão IEEE 802,11 e a existência de tráfego concorrente.

O funcionamento da técnica também independe do enlace sem fio ser ou não o enlace de contenção com a menor capacidade ao longo de todo o caminho de rede.

A técnica baseia-se na geração das sondas e em equações definidas para auxiliar a estimativa da taxa de transmissão.

As redes locais sem fio (Wireless Local Area Networks, WLANs) baseadas nos padrões IEEE 802,11 têm se tornado uma das formas mais populares de acesso à Internet.

As altas taxas de transmissão alcançadas pelos padrões atuais (802,11a/b/g [IEEE standard 802,11a/b/g ]) e a significativa redução nos custos dos equipamentos são alguns dos fatores que justificam o crescimento da utilização desta tecnologia.

Locais públicos como aeroportos, bibliotecas, campus universitários, cafés, shoppings, além de residências e escritórios particulares, são alguns ambientes promissores para a implantação das WLAN-s como serviço de acesso à Internet.

Uma rede de acesso consiste na conexão entre os sistemas finais e os roteadores de borda da Internet.

Os tipos de conexão utilizados pelas redes de acesso na Internet atualmente podem ser classificados como de baixa velocidade (Dial-up) e alta velocidade (banda larga).

As conexões dial-up são feitas através das linhas telefônicas e estão limitadas a taxas inferiores a 56 kbps.

As conexões de banda larga alcançam taxas superiores a 64 kbps.

Dentre os serviços de acesso de banda larga mais comuns estão as conexões do tipo ADSL, Cable Modem, Ethernet e WLAN.

Esses vários tipos de acesso diferem radicalmente em algumas de suas características, tais como capacidade de transmissão, vazão máxima e meio físico de propagação.

São apresentadas propostas para identificar o tipo de acesso utilizado por uma máquina remota em sua conexão com a Internet.

Os métodos propostos por estes trabalhos possibilitam que aplicações fim-a-fim executadas em nível de usuário diferenciem o tipo de acesso utilizado no último salto (last hop) de um caminho na Internet.

O conhecimento desta característica pode ser útil para a implementação de alguns serviços na Internet, tais como aplicações multimídia, redes overlay, aplicações peer-to-peer e inferência de topologia.

Alguns trabalhos propõem novas versões do TCP com o objetivo de aumentar o desempenho quando o último salto (last hop) são conexões WLAN ou Cable Modem.

Nessas propostas assume-se o conhecimento prévio do tipo de conexão, mas em nenhuma delas é definida como deve ser feita a inferência da rede de acesso no último salto.

O estudo desenvolvido neste trabalho é complementar aos trabalhos apresentados.

Neste trabalho é proposta uma nova técnica para inferir a taxa de transmissão (capacidade em bits por segundo) do último salto quando este se encontra conectado à Internet através de uma WLAN IEEE 802,11.

Esta proposta é uma extensão do método tradicional de pares de pacotes, de forma que se possa computar a dispersão dos pacotes decorrente da capacidade do enlace do último salto.

Uma equação foi também elaborada para auxiliar na estimativa da capacidade a partir da dispersão computada pelos pacotes com o método de geração de sondas1 utilizado.

Esse é o primeiro trabalho que tem como objetivo o desenvolvimento de um método de medição fim-a-fim que permita a estimativa da taxa de transmissão de uma máquina conectada à Internet através de uma rede sem fio IEEE 802,11.

Em trabalhos anteriores a este já foram estudadas características relacionadas à capacidade de um caminho onde o último salto consiste de uma rede 802,11.

No entanto, nenhum deles se propõe a estimar a taxa de transmissão do último salto.

Estes e outros trabalhos relacionados existentes na literatura serão detalhados na Seção 3 deste artigo.

Tanto a classificação do tipo de conexão do último salto, quanto a estimação da taxa de transmissão de uma máquina remota acessando a Internet através de uma WLAN são muito úteis para as aplicações.

Em serviços de mídia contínua, por exemplo, a estimativa desta taxa pode ser utilizada para auxiliar no melhor ajuste das taxas de transmissão do servidor para o cliente multimídia.

Servidores multimídia como o Windows Streaming Media utilizam o método de pares de pacotes para estimar a capacidade de contenção ao longo do caminho do servidor para o cliente.

No entanto, resultados apresentados demonstram que as estimativas obtidas por estas aplicações são imprecisas quando os clientes encontram-se conectados por uma WLAN.

Para aplicações peer-to-peer, a escolha do -melhor peer- pode levar em consideração também as capacidades de transmissão dos clientes, ao invés de apenas o tipo de acesso.

Para os serviços de inferência da topologia física, o conhecimento da capacidade de transmissão pode ser de grande utilidade para o gerenciamento de recursos.

Os trabalhos com propostas de novas versões do TCP podem explorar o conhecimento da capacidade de transmissão da máquina na WLAN para aumentar o desempenho do TCP.

A continuação deste trabalho está organizada da seguinte forma, na Seção 2 é feita uma breve revisão do padrão IEEE 802,11.

Na Seção 3 é descrito o método tradicional de pares de pacotes, são apresentados alguns trabalhos relacionados e discutidos os problemas gerais do uso do mecanismo de pares de pacotes tradicional em um enlace 802,11.

O método proposto para a estimativa da taxa de transmissão do último salto sendo este um enlace sem fio é apresentado na Seção 4.

Na Seção 5 é dedicada à validação do método proposto através de experimentos realizados na Internet.

Finalmente, na Seção 6 são apresentadas as conclusões e os trabalhos futuros.

O padrão IEEE 802,11, assim como as versões atuais para taxas de transmissão mais altas descrita em [IEEE standard 802,11a/b/g ], define a camada física e o controle de acesso ao meio (Medium Access Network, MAC) para as redes locais sem fio.

Diferentes modelos para a camada física das redes 802,11 foram definidos, incluindo os padrões 802,11a, 802,11b e 802,11g.

Cada um destes padrões opera sobre uma faixa de freqüência e com velocidades específicas.

O padrão 802,11a opera na banda de freqüência de 5 GHz, o que o torna incompatível com os padrões 802,11b e 802,11g.

Atualmente, a maioria dos projetos e equipamentos para redes locais sem fio utiliza a tecnologia 802,11b ou 802,11g.

A motivação para a utilização dos padrões -b- e -g- é a compatibilidade entre os equipamentos destes dois padrões, além da falta de regulamentação que ainda existe em muitos países para a utilização do espaço de freqüência de 5 GHz.

As áreas de cobertura de uma rede local 802,11 são denominadas áreas básicas de serviço (Basic Service Area, BSA).

Um grupo de terminais sem fio 802,11, operando em uma mesma BSA define um conjunto básico de serviço (Basic Service Service, BSS).

A rede formada pelos terminais sem fio em uma BSS pode estar operando no modo Ad Hoc ou infra-estruturada.

No modo Ad Hoc, teoricamente, qualquer terminal está apto a estabelecer uma comunicação direta com qualquer outra estação da mesma BSS.

A operação da rede neste modo não há necessidade de um ponto centralizado de controle.

No entanto, degradações no meio de transmissão devido ao enfraquecimento do sinal ou interferência pode fazer com que o sinal transmitido por algum terminal não seja detectado por algumas estações da mesma BSS causando o problema do terminal oculto.

Na operação em modo infra-estruturado, a BSS é formada por terminais sem fio e um ponto centralizado de controle, chamado de ponto de acesso (Access Point, AP).

Todos os pacotes endereçados a um dos terminais da WLAN deverão ser encaminhados ao AP que se encarregará de transmiti-los ao terminal de destino.

De forma análoga, todo pacote enviado por um terminal sem fio será enviado primeiro ao AP, e este o encaminhará à estação de destino dentro da BSS, ou em algum ponto na Internet.

Independente dos padrões (802,11 a, b ou g) que definem faixa de freqüência e taxa de transmissão distintas, e independente do modo de operação (Ad Hoc ou infraestruturado), a mesma estrutura de acesso ao meio é utilizada.

Na subcamada MAC, o padrão 802,11 prevê dois métodos de acesso ao meio, o método com uma função de coordenação centralizada (Point Coordination Function, PCF), em que um esquema de controle centralizado de acesso ao meio é implementado e esta unidade central coordena a disputa pelo direito de transmissão no meio.

O método com uma função de coordenação distribuída (Distributed Coordination Function, DCF), que é baseado no CSMA/CA (Carrier Sense Multiple Access, Collision Avoidance), onde não existe a figura de um coordenador central do canal e todos os terminais disputam entre si o acesso ao meio para obter o direito de transmissão dos pacotes.

Embora o modo PCF seja apropriado para a transmissão de tráfego de tempo real e possa coexistir com o método DCF, o método PCF raramente é implementado pelos fabricantes dos produtos 802,11 e em geral este método não é utilizado nas WLAN-s atualmente.

Por isso, neste trabalho trataremos apenas do modo DCF.

No método de acesso DCF são ainda definidos o mecanismo básico de acesso e o mecanismo opcional com reserva de acesso ao canal com quadros de controle Request-To-Send/Clear-To-Send (RTS/CTS).

No segundo mecanismo, antes de transmitir efetivamente os dados pelo canal, o terminal sem fio deve enviar um quadro de RTS ao receptor e aguardar que o receptor envie de volta o quadro de CTS.

O uso de quadros RTS/CTS tem como objetivo ajudar a reduzir o problema causado pelas colisões em redes com altas cargas e o problema do terminal oculto.

Porém, este mecanismo adiciona um overhead significativo na rede e raramente é adotado nas WLAN-s com sobrecarga moderada e em transmissões de pacotes pequenos.

Neste artigo assumimos sempre a utilização dométodo de acesso básico.

Ilustra uma transmissão utilizando o método DCF básico.

Antes de iniciar a transmissão, o terminal monitora o meio para verificar se outra estação está transmitindo.

Se o meio ficar ocioso por um período igual a DIFS (Distributed Interframe Space), o terminal efetuará a transmissão.

Porém, se alguma transmissão for detectada no período de DIFS o terminal deverá adiar a sua transmissão.

O terminal continua a monitorar o meio e assim que perceber que o canal está ocioso por um período igual a DIFS será realizado o procedimento de backoff exponencial binário.

Um intervalo aleatório, chamado de intervalo de backoff, é selecionado.

Esse intervalo equivale a um valor uniformemente distribuído entre (0, CW1) 2 vezes um slot de transmissão 3.

Um temporizador é iniciado com o valor do intervalo de backoff.

O temporizador é decrementado sempre que o meio estiver ocioso, não muda de valor enquanto uma transmissão for detectada pela estação e volta a ser decrementado quando o meio voltar a ficar ocioso por um período igual a DIFS.

Assim que o temporizador expirar, o pacote será transmitido pelo terminal.

Se o pacote for recebido corretamente a estação receptora se encarregará de enviar um ACK após um período igual a SIFS (Short Interframe Space).

Caso o ACK não seja recebido pela estação transmissora, o pacote original será escalonado para retransmissão.

Transmissão em uma WLAN utilizando o método DCF básico.

O padrão IEEE 802,11 prevê ainda um ajuste automático da taxa de transmissão a depender das condições encontradas no meio.

Em condições significativas de interfer ência ou colisão no canal, a estação pode ajustar automaticamente sua taxa de transmissão para obter um melhor desempenho na rede.

No entanto, o 802,11 não define um algoritmo padrão para o ajuste da taxa e, então, fica a cargo do fabricante implementar o algoritmo que mais lhe interesse.

Os algoritmos de seleção de taxa atualmente implementados são classificados de acordo com a informação utilizada para a tomada de decisão.

Normalmente os algoritmos tomam as decisões baseadas em estatísticas obtidas do histórico de envios de pacotes ou baseadas na relação sinal ruído.

As taxas de transmissão suportadas por cada um dos padrões estão descritas.

Note que, para manter o legado do padrão 802,11b, o 802,11g suporta ainda as taxas do padrão anterior.

O método de pares de pacotes consiste na emissão de dois pacotes de mesmo tamanho e de uma mesma origem, separados por um intervalo de tempo bem próximo de zero.

Os pacotes atravessam o mesmo caminho na rede até chegarem a um único destino, onde são coletados.

A partir da coleta destes pacotes é possível identificar algumas características do caminho de rede atravessado pelo par, como a -capacidade de contenção-.

Também denominada capacidade de transmissão (ou largura de banda) no gargalo, esta métrica representa a menor capacidade de transmissão dentre todos os enlaces ao longo de um caminho de rede.

A suposição principal da técnica é que a dispersão entre os pacotes do par, identificada na coletada, é causada pela menor capacidade de transmissão ao longo do caminho.

Os pacotes, que são gerados de uma mesma origem e separados por intervalos de tempo bem próximos de zero, possuem o espaçamento entre eles mantido até que passem por um enlace com capacidade de transmissão inferior à do emissor.

Essa dispersão, causada pelo tempo de transmissão deste enlace (superior aos tempos experimentados nos enlaces anteriores) é mantida até o destino dos pacotes a menos que seja encontrado ao longo do restante do caminho um outro enlace com uma capacidade ainda menor.

Ilustra a causa da dispersão entre os pacotes em sua recepção.

Ilustração do funcionamento do método Pares de Pacotes com a dispersão imposta pelo enlace de menor capacidade.

Com o valor do intervalo de tempo entre as chegadas e o tamanho dos pacotes é possível estimar a capacidade de contenção.

Seja T o intervalo de tempo entre as chegadas dos dois pacotes dado em segundos, e seja B o tamanho dos pacotes dado em bits.

A capacidade de contenção, representada em bits por segundo, pode ser obtida a partir da divisão do tamanho do pacote pelo intervalo de tempo entre as chegadas C = B bits T segundos.

Estimar a capacidade do enlace de contenção, com base na dispersão entre as chegadas dos pares de pacotes foi originalmente ilustrado, mas no trabalho apresentado por Jacobson não foi considerada a existência de tráfego concorrente.

Resultados das avaliações feitas do método de pares de pacotes, demonstram que o estado da rede durante a medição é fator crucial para a precisão da estimativa.

Condições, como de alto tráfego concorrente, podem influenciar negativamente as medições de tal forma que resultados errados sejam estimados.

A influência causada pelo tráfego concorrente pode ser caracterizada de duas formas, a presença de pacotes em frente aos pares na fila dos roteadores, após já terem passado pelo nó de contenção do caminho, pode ocasionar uma redução na dispersão existente entre os pacotes.

Como conseqüência, a capacidade de contenção é superestimada, a inserção de tráfego concorrente entre os dois pacotes do par.

Este evento pode resultar em um acréscimo da dispersão dos pacotes e causar uma estimativa inferior à capacidade real de transmissão do enlace de contenção.

Para melhorar a precisão da estimativa pode ser utilizada uma série de pares e gerado um histograma das capacidades estimadas por todos os pares.

A capacidade de contenção estimada para o experimento equivale àquela que apresenta o maior valor de probabilidade no histograma obtido.

Keshav, foi o primeiro a usar o método para medir a capacidade de contenção levando em consideração a existência de um tráfego concorrente.

Bolot também utilizou os pares de pacotes para medir a capacidade de um canal intercontinental.

Seguiram-se diversas propostas e ferramentas que utilizaram o método, ou variações dele, para estimar a mesma métrica ou outras medidas baseadas no envio de pares de pacotes.

Ferramentas que implementam a técnica ou variações dela são descritas em Pathrate, CapProbe e TANGRAM-II Traffic Generator.

A estimativa da capacidade de contenção utilizando pares de pacotes já foi extensamente utilizada na Internet.

No entanto, a maioria dos trabalhos não considera a existência de saltos sem fio no caminho de rede.

Três aspectos devem ser levados em consideração no uso do método de pares de pacotes tradicional para estimar a taxa de transmissão do enlace em uma rede 802,11.

O primeiro aspecto está relacionado com características próprias do padrão 802,11 e que não existem em outros padrões como no Ethernet.

O overhead do padrão 802,11, tais como DIFS, SIFS e ACK, devem ser considerados para o cálculo da taxa de transmissão.

A técnica tradicional de pares de pacotes não leva em consideração essas caracter ísticas próprias do padrão 802,11 e, com isso, a estimativa da capacidade não pode mais ser feita a partir da simples equação C = B bits T segundos.

Ilustra o envio de um par de pacotes em uma rede 802,11.

São descritas as características do padrão 802,11, como DIFS, SIFS, ACK e backoff.

No exemplo ilustrado assume-se o cenário ideal sem tráfego concorrente entre os pares de pacotes.

Note que a dispersão é igual à soma dos tempos de SIFS, transmissão do ACK, DIFS, backoff, e transmissão do segundo pacote do par.

Transmissão de pares de pacotes em uma WLAN utilizando o método DCF básico, assumindo um cenário ideal.

O segundo aspecto está relacionado com a dificuldade de garantir que o segundo pacote do par será transmitido logo em seguida ao envio do primeiro.

Devido ao esquema de backoff implementado pelo padrão 802,11, especialmente em redes com alta carga, uma estação que acabou de transmitir um quadro terá uma probabilidade pequena de ganhar a disputa pelo meio no próximo slot de transmissão.

Com isso, a dispersão entre os pacotes do par sofrerá um incremento que não é causado pela capacidade de transmissão do enlace sem fio.

O terceiro e último aspecto a ser considerado é que nem sempre o salto sem fio é o de menor capacidade de transmissão no caminho da rede.

Com as altas taxas de transmissão alcançadas atualmente pelos dispositivos 802,11 a/g, não é incomum que em um caminho na rede o salto sem fio possua uma capacidade de transmissão superior à capacidade de alguns enlaces com fio deste caminho.

Esse aspecto não é de grande relevância para a estimativa da capacidade de contenção em um caminho da rede, mas não pode ser descartado quando o objetivo é medir a taxa de transmissão do último salto sem fio, como é o caso deste trabalho.

A partir das considerações mencionadas acima viu-se que a dispersão dos pares de pacotes em uma rede cabeada é causada pela capacidade de transmissão do enlace.

Já em uma WLAN essa dispersão é conseqüência não só da taxa de transmissão da camada física, mas também do overhead do padrão 802,11.

Por isso, mesmo utilizando ferramentas conhecidas de medições fim-a-fim, como Pathrate, CapProbe e TANGRAM-II Traffic Generator, não é possível estimar a taxa de transmissão de um enlace sem fio.

A medida obtida com a aplicação destas ferramentas entre sistemas finais em um caminho de rede cujo último salto é sem fio depende do cenário considerado, se o enlace de menor capacidade em todo o caminho não é o salto sem fio, então a medida obtida é a capacidade de contenção.

No entanto, se o enlace de menor capacidade do caminho está no salto sem fio, então a medida obtida é a taxa (ou capacidade) de transmissão efetiva do enlace 802,11.

Se a medição for executada na ausência de tráfego concorrente, essa taxa de transmissão efetiva equivale à vazão máxima alcançada por um fluxo neste salto.

Caso a medição seja feita com a existência de tráfego concorrente, a medida não necessariamente será igual à vazão máxima.

Em trabalhos anteriores já foram utilizadas técnicas de medições fim-a-fim para estimar algumas métricas relacionadas à capacidade em caminhos onde o último salto é uma rede 802,11.

Por exemplo, medições foram executadas em um caminho que o enlace de menor capacidade estava no último salto e este é uma WLAN.

No trabalho foi utilizada a ferramenta CapProbe e, portanto, foi medida a capacidade efetiva do enlace sem fio.

É proposta uma ferramenta chamada ProbeGap que tem como objetivo estimar a largura de banda disponível na rede de acesso do último salto.

Naquele trabalho, medições são feitas em ambiente de acesso por Cable Modem e WLAN.

O trabalho apresentou ainda resultados obtidos com a ferramenta PathRate, onde foram estimadas as capacidades efetivas de enlaces sem fio em diversos cenários variando a taxa de transmissão e o tráfego concorrente.

Os resultados obtidos com o PathRate serviram para auxiliar na avaliação dos resultados obtidos para a largura de banda disponível com a ferramenta proposta (ProbeGap).

Foi apresentado o resultado de uma avaliação do desempenho de serviços multimídia em uma WLAN.

O trabalho avaliou o funcionamento de servidores multimídia como o Windows Streaming Media que utiliza o método de pares de pacotes tradicional para ajuste da taxa de transmissão da mídia do servidor para o cliente.

Os resultados apresentados demonstram imprecisões na estimativa obtida pelo método de pares de pacotes quando o cliente está conectado a uma WLAN.

A utilização do método de pares de pacotes em redes 802,11 foi também adotada.

A técnica desenvolvida explora o princípio de que os pares de pacotes que passarem por um caminho cujo último salto pertence a uma WLAN apresentará uma dispersão uniformemente distribuída e com uma mediana próxima a 810 microsegundos devido ao overhead e ao esquema de backoff.

Resultados de simulações e experimentos reais demonstraram a eficiência da técnica em identificar se o tipo de acesso de uma máquina remota é uma WLAN.

No entanto, o objetivo da técnica proposta se limita apenas à classificação do tipo de acesso.

O trabalho não se propõe a estimar qualquer outra característica da rede de acesso, como por exemplo, a que taxa os dados estão sendo transmitidos na WLAN.

A técnica proposta neste trabalho tem como objetivo inferir a taxa de transmissão (capacidade em bits por segundo) do último salto quando este se encontra conectado à Internet através de uma WLAN.

A proposta leva em consideração o overhead do padrão IEEE 802,11 e a existência de tráfego concorrente.

O funcionamento da técnica também é independente do enlace sem fio ser ou não o enlace de contenção (ou seja, com a menor capacidade ao longo de todo o caminho da rede).

A técnica consiste de um novo método de geração de sondas e de uma equação definida para auxiliar na estimativa da taxa de transmissão.

O método de geração de sondas desenvolvido neste trabalho é derivado do método tradicional de pares de pacotes, mas adaptado com o propósito de computar a dispersão dos pacotes imposta apenas pela capacidade do último salto.

Ao contrário do método tradicional onde os pacotes de cada par possuem sempre o mesmo tamanho, no método desenvolvido neste trabalho são atribuídos tamanhos diferenciados para o primeiro e o segundo pacote de cada par.

O objetivo do uso de pacotes de diferentes tamanhos é inferir a dispersão entre as chegadas dos pacotes causada apenas pelo último salto do percurso, independente deste ser ou não o enlace de menor capacidade ao longo de todo o caminho percorrido pelos pacotes.

Para pares de pacotes com mesmo tamanho, se o enlace sem fio não representar o enlace de menor capacidade do caminho, os pacotes dos pares chegarão ao destino separados por um intervalo determinado pela capacidade de transmissão do enlace de contenção.

O método consiste na emissão de dois pacotes separados por um intervalo de tempo próximo de zero, o primeiro com o tamanho máximo definido para uma rede IP (1480 bytes) e o segundo com tamanho variando entre quatro valores previamente especificados (600, 800, 1000, 1200 bytes).

Note que todos os tamanhos utilizados para o segundo pacote do par são inferiores ao tamanho definido para o primeiro pacote.

Assim como no método tradicional, assume-se que os pacotes atravessam o mesmo percurso até chegarem ao destino.

Supondo a inexistência de tráfego concorrente esses dois pacotes seguirão juntos ao longo de todo o caminho.

O tempo de transmissão do segundo pacote será sempre inferior ao do primeiro.

Com isso, o segundo pacote será atrasado a cada salto pela transmissão do primeiro pacote de tamanho superior e, portanto, permanecerá logo atrás deste pacote ao chegarem à máquina destino.

A dispersão entre os dois pacotes é causada apenas pelo tempo de transmissão do último salto do caminho.

Assumindo a inexistência de tráfego concorrente ao longo de todo o caminho, apenas um par de pacotes é o suficiente para o cálculo da métrica sendo estimada.

Porém, nem sempre esta suposição é verdadeira.

O tráfego concorrente na rede pode interferir na dispersão entre os pacotes do par, especialmente o tráfego concorrente gerado na WLAN.

Ilustra as dispersões computadas na recepção dos pares de pacotes de um experimento executado entre duas máquinas, em que estas estão a quatro saltos de distância uma da outra e o último salto deste caminho é uma rede local 802,11g.

Neste experimento 40 pares de sondas foram gerados de acordo com o método descrito acima.

Note que a dispersão dos pacotes varia de acordo com o tamanho dos mesmos.

É possível verificar que mesmo para os pares onde o segundo pacote tem o mesmo tamanho que o primeiro existe uma variação considerável entre as dispersões computadas.

Essa diferença é causada pela possível existência de tráfego concorrente entre os pares e pelos valores de backoff sorteados para o envio do segundo pacote.

Para reduzir a influência do tráfego concorrente e do tempo de backoff, o método proposto prevê a escolha dos pares que serão usados para o cálculo da medida.

O parâmetro para esta seleção é a dispersão computada entre os pacotes dos pares na recepção.

Para cada tamanho específico do segundo pacote do par (600, 800, 1000, 1200 bytes) são selecionados aqueles pares que apresentaram a menor dispersão.

Assim, se 4¤N pares de pacotes foram enviados, onde N é o número de pares gerados para cada um dos quatro tamanhos do segundo pacote, então apenas os quatro pares (um de cada classe) que apresentarem a menor dispersão em sua recepção serão considerados pelo método.

Ilustra as dispersões computadas no experimento em função do tamanho do segundo pacote do par.

São ainda indicadas na figura as amostras selecionadas com os menores valores de dispersão computados para cada tamanho de segundo pacote.

O objetivo da seleção é aumentar a probabilidade de que os pacotes dos pares utilizados pelo método sejam de fato enviados um logo após o outro no enlace sem fio.

As diferenças entre o recebimento do primeiro e do segundo pacote destes pares, supostamente, sofreram pouca ou nenhuma influência do tráfego concorrente durante a transmissão do último salto.

Dentre todos os pares que não sofreram influência de tráfego concorrente, o selecionado é o que teve o menor valor de backoff no envio do segundo pacote.

Resultado do experimento com a t écnica proposta para a geração de pares de pacotes.

A partir dos quatro pares selecionados é possível traçar um gráfico da dispersão computada para cada um deles em função do tamanho do segundo pacote.

Assumindo que para todas as quatro amostras de dispersão selecionadas o segundo pacote foi de fato transmitido logo em seguida ao envio do primeiro pacote e que o tempo de backoff de todos os segundos pacotes dos quatro pares é nulo, seria possível identificar um crescimento linear no gráfico formado pelas dispersões em função dos tamanhos dos segundos pacotes.

Isso porque, desconsiderando os valores de backoff e assumindo a inexistência de tráfego concorrente, a dispersão imposta a um par de pacotes é dada pela soma dos tempos de SIFS, transmissão do ACK, DIFS e transmissão do segundo pacote, onde os tempos de SIFS e DIFS são constantes e os tempos de transmissão do ACK e do segundo pacote possuem uma relação linear entre os seus tamanhos em bytes e a taxa de transmissão do enlace.

Considerando a possibilidade de valores nulos de backoff e a inexistência de tráfego concorrente entre os pares, é possível determinar um limite inferior para a dispersão computada na recepção dos pacotes para uma taxa de transmissão do enlace sem fio.

Para a taxa de transmissão X, por exemplo, o limite inferior para a dispersão de um par de pacotes em função do tamanho do segundo pacote representado.

Apresenta os valores das variáveis da equação 1 para cada uma das doze taxas de transmissão definidas para os padrões IEEE 802,11a/b/g.

Note que na tabela os valores referentes aos tempos de transmissão do dados e do ACK estão somados aos tempos de transmissão do cabeçalho da camada física.

Ilustra o gráfico de algumas das doze funções definidas para os limites inferiores da dispersão dos pares de pacotes.

Como as funções são definidas em relação à taxa de transmissão, algumas suposições são feitas para para obtermos uma única função por taxa independente do padrão considerado.

Por exemplo, para as taxas de transmissão dos padrões 802,11 a/g assume-se os valores de DIFS e SIFS como o menor entre os dois padrões.

O mesmo foi feito para o tempo de transmissão do cabeçalho da camada física dos padrões 802,11b/g+legado.

Para determinar a taxa de transmissão do salto sem fio é feita então uma comparação entre as dispersões dos pares selecionados a partir dos experimentos e os valores das funções definidas acima.

O MSE (Mean Square Error) é a medida utilizada para determinar a função que mais se aproxima das amostras de dispersão selecionadas de um experimento.

Assume-se que a taxa de transmissão do último salto sem fio do caminho de rede medido é igual à taxa de transmissão que tiver a função com o menor MSE.

Como foi descrito na Seção 2, o padrão IEEE 802,11 prevê um ajuste automático da taxa de transmissão a depender das condições encontradas no meio.

Embora não seja adotada em todas a WLAN-s e nem mesmo implementado por alguns fabricantes, é desejável que o método proposto seja capaz de detectar alguma alteração na taxa de transmissão.

Para isso, o método é adaptado para continuar enviando as sondas por todo o intervalo de tempo que se deseje estimar esta métrica.

As amostras selecionadas para o cálculo da dispersão são feitas sempre a partir do histórico dos N últimos pares de pacotes computados mais recentemente.

Dessa forma, espera-se que o método estime a nova taxa de transmissão tão logo receba alguns pares de pacotes enviados a esta taxa.

Funções dos limites inferiores para a dispersão dos pares de pacotes.

A fim de validar a técnica proposta e avaliar a sua eficiência, experimentos reais foram realizados.

Nesta seção serão apresentados os resultados obtidos com uma ferramenta desenvolvida para a geração de pares de pacotes onde o segundo pacote tem tamanho diferenciado.

Experimentos foram executados na Internet e em ambientes controlados de rede.

Diversos experimentos foram executados para diferentes cenários.

No primeiro foi utilizada a rede local do nosso laboratório na UFRJ.

Ilustra a topologia do experimento.

Neste experimento, sondas foram geradas utilizando a técnica proposta na seção anterior da máquina A2 para a máquina B2 com o objetivo de inferir a taxa de transmissão do último salto no caminho.

Em cada um dos experimentos, foram enviados 40 pares de pacotes por segundo durante 10 segundos.

Assim, para cada sessão de medição temos 400 pares de pacotes.

Em paralelo às medições, três fluxos de FTP foram estabelecidos entre as máquinas A1 e B1, com o objetivo de gerar tráfego concorrente.

Os fluxos de FTP permaneceram em atividade ao longo de todo experimento.

Durante a medição a rede se manteve operacional servindo a usuários deste ambiente.

Exceto o salto sem fio, a capacidade de todos os saltos do caminho de rede é de 100 Mbps.

A WLAN foi configurada para operar a diferentes taxas, o objetivo foi avaliar o comportamento da técnica para diversas taxas de transmissão.

Cenário utilizado no primeiro experimento.

Inicialmente, o ponto de acesso da WLAN foi configurado para operar a uma taxa de 11Mbps.

Algumas das funções de dispersão definidas para diversas taxas de transmissão são também ilustradas no gráfico.

O gráfico demonstra a proximidade dos valores obtidos pelo experimento para a função de dispersão definida para a taxa de 11Mbps.

É mostrado ainda o resultado do MSE para todas as funções de dispersão definidas.

Note que a taxa de transmissão estimada para este experimento pela técnica proposta neste trabalho foi realmente de 11 Mbps.

Resultado do experimento com o método proposto com a WLAN operando a 11 Mbps.

O ponto de acesso foi configurado diversas vezes para operar com diferentes taxas de transmissão.

Novas medições foram executadas para diferentes configurações.

Os resultados do MSE para as funções mais próximas da taxa configurada são também mostrados na figura.

Resultados de experimentos com o método proposto com a WLAN operando nas taxas de 5,5 e 54 Mbps.

Experimentos foram também executados na Internet.

Sondas foram geradas de uma máquina localizada na UFRJ para a máquina de destino em uma residência com WLAN.

Onze roteadores existem entre as máquinas fonte e destino.

A WLAN ao qual a máquina destino encontra-se conectada está operando a uma taxa de 2 Mbps.

Um ponto relevante para este experimento é que a capacidade de transmissão do penúltimo salto é de 512 kbps, portanto, inferior à taxa de transmissão configurada para a WLAN.

Por não termos permissão para alterar as configurações do ponto de acesso, não foi possível executar este mesmo experimento para outras taxas de transmissão da WLAN.

Apresenta os resultados obtidos para este experimento, assim como o MSE para as diferentes taxas.

Resultados de experimentos com o método proposto com a WLAN operando a 2 Mbps.

O desenvolvimento de técnicas fim-a-fim para inferir o tipo de conexão do último salto de um caminho de rede pode ser útil para diversos serviços e protocolos na Internet.

Na literatura já foram propostas técnicas que permitem uma diferenciação entre os tipos de acesso mais comuns, ADSL, Cable Modem, Ethernet e WLAN.

No entanto, o objetivo destas propostas se limita apenas à classificação do tipo de acesso.

Outras informações importantes como a taxa de transmissão dos dados transmitidos na WLAN não são estimadas por estas técnicas.

No presente trabalho foi proposta uma técnica de medição fim-a-fim para inferir a taxa de transmissão de uma máquina conectada à Internet através de uma rede sem fio IEEE 802,11.

A técnica desenvolvida é baseada em uma variação do método de pares de pacotes e em uma equação para a dispersão dos pares em uma rede IEEE 802,11a/b/g.

Resultados de experimentos comprovaram a eficiência do método proposto.

Embora o estudo desenvolvido seja baseado em resultados de medições ativas, onde sondas foram utilizadas para a obtenção das estimativas, acreditamos que a técnica proposta neste trabalho pode ser adotada em diversas aplicações ou protocolos de redes.

A técnica pode, por exemplo, ser implementada em conjunto com uma técnica para identificação do tipo de acesso em um serviço de mídia contínua com -taxas adaptativas- que sejam função da capacidade de transmissão.

Como trabalhos futuros, pretendemos abordar os seguintes tópicos, o desenvolvimento de uma nova técnica para a identificação do tipo de acesso.

O objetivo do desenvolvimento de um novo método é tornar a identificação mais rápida e mais simples, no entanto, diferenciando apenas se o acesso consiste de uma conexão sem fio 802,11 ou não.

Estender os experimentos para um número maior de cenários, variando a carga do tráfego concorrente.

Analisar através de simulações o comportamento do algoritmo para redes com taxa automática.

