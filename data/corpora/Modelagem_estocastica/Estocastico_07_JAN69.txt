Neste trabalho são apresentados os resultados de um experimento envolvendo usuários que acessam uma rede sem fio para transmissão de voz sobre IP.

Os usuários compartilham um ponto de acesso (AP) e podem escolher livremente a taxa com que transmitem dados na rede.

Cada usuário toma suas decisões individuais com o objetivo exclusivo de maximizar a qualidade da voz por ele recebida.

Estamos interessados no ponto de convergência deste sistema.

À luz da teoria dos jogos, modelamos o processo de adaptação dos usuários às condições da rede.

Em particular, propomos uma metodologia envolvendo medições na rede e um método de avaliação de QoS baseado em uma rede neural, para melhor compreender a dinâmica através da qual usuários egoístas convergem para um ponto de equilíbrio.

Uma melhor compreens ão dessa dinâmica permite o estudo de mecanismos automáticos que levem em consideração as preferências dos usuários no que concerne a aplicações multimídia.

Um dos elementos essenciais de uma rede é a habilidade de lidar adequadamente com o congestionamento.

Na metade da década de 1980, a falta de atenção a esse problema resultou pela primeira vez em uma degradação severa dos serviços da Internet, que foi chamada de Colapso por Congestionamento.

De acordo com, a solução para esse problema foi a criação de um serviço de controle de congestionamento que opera nos hospedeiros finais (as fontes de tráfego).

Esse serviço seria a partir de então obrigatoriamente implementado no protocolo TCP(Protocolo de Controle de Transmissão).

A atual estabilidade da Internet deve-se em grande parte ao emprego do TCP (com o mecanismo de controle de congestionamento) pela maioria dos fluxos.

Entretanto, em um breve futuro, este cenário pode mudar, pois o TCP não é adequado para a transmissão de dados multimídia em tempo real.

De fato, o uso do UDP para a transmissão de mídias como voz e vídeo vem crescendo amplamente.

Uma vez que o UDP não oferece nenhum tipo de controle de congestionamento, é essencial estudar o comportamento da rede no caso desta ser usada massivamente para transmissão dessas novas mídias, empregrando possivelmente o UDP.

Em um cenário similar de congestionamento, Nagle discute 3 soluções possíveis para o problema de congestionamento, abordando o problema através de teoria dos jogos e definindo os jogadores como sistemas computacionais que implementam algum tipo de estratégia.

Os 3 tipos de soluções são autoritária, de mercado e cooperativa.

Uma solução autoritária seria fazer o que alguns autores sugerem que o protocolo de transporte UDP seja adotado em conjunto com algum mecanismo de controle de congestionamento.

O uso destes mecanismos seria importante para prevenir um potencial colapso devido ao congestionamento excessivo.

Entretanto, não é evidente que técnicas de controle passem a ser impostas e o cenário mais provável é que a adoção de mecanismo de controle seja completamente voluntária.

Uma solução de mercado seria tarifação e diferenciação de serviços.

Em Ciências Econômicas, as múltiplas demandas por um recurso escasso são mediadas pelo mercado.

Quem estiver disposto a pagar mais por um recurso escasso terá a oportunidade de usá-lo.

No entanto, a Internet hoje não possui mecanismos de tarifação escaláveis.

Com raras exceções, toda a infraestrutura da Internet é compartilhada sem que exista uma política de diferenciação de serviços em larga escala.

Já uma solução cooperativa, segundo Shenker, possui vários problemas para ser bem sucedida.

Alguns argumentos residem na dificuldade de coordenação e consenso sobre como cooperar.

Além disso, uma solução cooperativa precisa ser robusta a trapaceiros, ou seja, jogadores egocêntricos que deliberadamente não cooperam para obter ganhos individuais.

Uma outra abordagem para lidar com o problema do congestionamento consiste em delegar a responsabilidade do controle para os usuários.

A premissa é que, embora os fluxos UDP sejam não responsivos, os usuários de aplicações multimídia que usam o UDP o são, e podem reagir ao congestionamento.

Por exemplo, no contexto de transmissão de voz e vídeo, algumas aplicações permitem aos usuários escolher a taxa que usarão para codificar os dados.

Além disso, essas aplicações podem também adotar diferentes mecanismos de redundância (FEC, ou forward error correction) para mascarar perdas de pacotes e aumentar a qualidade do serviço prestado aos usuários, às custas de um aumento da taxa de transmissão individual.

Dessa forma, os usuários podem ajustar dinamicamente a taxa, procurando aprimorar a qualidade de serviço (QoS) por eles percebida.

Neste cenário, os usuários possuem uma função de utilidade que depende das características da rede (vazão e retardo) e assume-se que os mesmos são egoc êntricos (self-regarding).

Os usuários competem por recursos compartilhados, e as ações de um afetam o desempenho dos outros.

Neste contexto, a teoria dos jogos emerge como uma ferramenta natural para modelar e avaliar o desempenho destes sistemas.

Neste trabalho apresentamos os resultados de um experimento envolvendo usuários acessando uma rede sem fio para transmissão de voz sobre IP.

Os usuários considerados compartilham um ponto de acesso (AP), e escolhem livremente a taxa com a qual transmitem dados na rede.

Cada usuário toma suas decisões individuais com o objetivo exclusivo de maximizar a qualidade da voz por ele recebida.

Estamos interessados no ponto de convergência deste sistema e no processo dinâmico através do qual os usuários convergem para este ponto.

Uma vez que as redes sem fio em geral possuem problemas de contenção e interfer ência, além de queda da potência do sinal em função da distância, estas diferenciam-se das redes cabeadas, sendo mais difícil garantir a qualidade de serviço neste cenário.

Assim sendo, os conflitos de interesses entre os usuários nestas redes podem ser mais proeminentes, o que nos motivou a adotar uma rede sem fio IEEE 80211b em nossos experimentos.

Além disso, com o surgimento das redes comunit árias e redes MESH, cenários onde usuários usando aplicativos VoIP acessarão a Internet via 80211(b,g ou a) deverão ser comuns.

A principal contribuição deste trabalho é a metodologia proposta para melhor compreender o comportamento de usuários que compartilham recursos numa rede de computadores sem fio.

Em particular a metodologia combina um modelo envolvendo teoria dos jogos evolucionários, medições na rede, e uma rede neural para estimar, a partir das medições feitas na rede, a qualidade de serviço experimentada pelos usuários.

O restante deste trabalho está dividido da seguinte forma.

Apresentamos uma breve introdução à Teoria dos Jogos e discutimos os trabalhos relacionados.

Descrevemos o modelo adotado para capturar o processo dinâmico de ajuste dos usuários para os pontos de equilíbrio.

Descrevemos um experimento realizado, envolvendo usuários acessando uma rede sem fio e a contribuição deste trabalho que é uma metodologia para analisar os resultados experimentais.

Constam os resultados e análises obtidas através da metodologia proposta.

Ao final são apresentados resultados adicionais, que complementam o trabalho desenvolvido.

Finalmente apresenta as conclusões sobre o trabalho desenvolvido.

Serão apresentados os fundamentos teóricos necessários para entender como a Teoria dos Jogos pode ser utilizada para modelar a disputa por recursos em redes de Computadores.

Será apresentado o conceito de solução de jogo mais utilizado, o equilíbrio de Nash.

Trabalhos relacionados e o modelo proposto para analisar o problema de congestionamento em Redes de Computadores são apresentados.

Por último, apresenta a Teoria dos Jogos Comportamental, que nos ajuda a entender sobre valor descritivo da Teoria dos Jogos.

A Teoria dos Jogos é um conjunto de ferramentas analíticas que nos ajudam a analisar e entender, de forma sistemática, o resultado da interação estratégica entre jogadores.

Um dos principais objetivos da Teoria dos Jogos é entender como agem os jogadores (usuários) quando estes confrontam-se com um cenário onde existem conflitos de interesses.

Neste cenário, cada jogador deve tomar uma decisão a partir de um conjunto de opções a ele disponíveis.

Na nomenclatura da teoria dos jogos, cada opção disponível é conhecida como uma estratégia.

Os ganhos obtidos por cada jo21 Teoria dos Jogos gador dependem da estratégia por ele adotada bem como das ações adotadas pelos outros jogadores.

O problema fundamental da Teoria dos Jogos é entender como os jogadores irão agir ao defrontarem-se com um determinado jogo.

Em particular, procura-se prever as estratégias que estes irão adotar.

Ao perfil das estratégias previsto para os jogadores dá-se o nome de solução do jogo.

Entretanto, existem vários conceitos de solução do jogo definidos no âmbito da Teoria dos Jogos.

Vamos adotar o mais comum para jogos não-cooperativos, conhecido como equilíbrio de Nash.

O equilíbrio de Nash é um conjunto de escolhas, uma para cada jogador, com a propriedade de que nenhum jogador pode aumentar seu payoff modificando, unilateralmente, suas estratégias.

Para exemplificar o conceito de equilíbrio de Nash, vamos apresentar a sua formula ção no contexto de jogo estratégico (também conhecido como jogo na forma normal).

Vamos assumir que um jogador é racional (possui uma função utilidade e joga de forma a maximizar o seu ganho) e cada jogador infere corretamente o comportamento dos outros jogadores.

Vamos assumir ainda que o jogo é não-cooperativo, ou seja, o jogo tem uma estrutura tal que não permite que os jogadores planejem como um grupo as ações que irão escolher (não há possibilidade de jogadores firmarem um acordo formal e formar conluios para conquistar certo objetivo).

Definição 1 Um jogo estratégico consiste de um conjunto finito N de jogadores, para cada jogador um conjunto não vazio (o conjunto de ações disponíveis para o jogador), para cada jogador i 2 N uma função de utilidade uiA = ×j2NAj < (a função de utilidade do jogador i).

O conjunto denota o conjunto de todos os resultados possíveis do jogo.

Cada jogador i 2 N escolhe uma ação ai 2 Ai, tendo como resultado.

Definição 2 O equilíbrio de Nash de um jogo estratégico é uma lista com a propriedade de que para cada jogador temos o equilíbrio de Nash é um ponto tal que nenhum jogador recebe, unilateralmente, benefícios para mudar sua estratégia.

Freqüentemente o equilíbrio de Nash não é eficiente, ou seja, não traz utilidade máxima para todos os jogadores.

Esta última observação motiva a definição de pontos que tragam utilidade máxima para todos os jogadores.

De fato, o ótimo de Pareto é um conjunto de estratégias, uma para cada jogador, tal que não existe outro conjunto de estratégias onde todos os jogadores recebam concomitantemente maior payoff.

Mais formalmente, temos a Definição 3.

O ótimo de Pareto de um jogo estratégico é uma lista tal que não existe que atenda.

Ou seja, o ótimo de Pareto é um ponto tal que não existe outro onde todos os jogadores possam, conjuntamente, obter melhores resultados.

O fato de o ótimo de Pareto geralmente não constituir um equilíbrio de Nash é um dos cernes do estudo da Teoria dos Jogos.

Muita pesquisa vem sendo feita para entender este fenômeno, e quantificar a diferença de utilidade entre os dois pontos de equilíbrio.

Como descreve, a estratégia ótima para um jogador pode ser subótima para o sistema como um todo.

Um problema recorrente em Teoria dos Jogos é que em muitos jogos interessantes, há mais de um equilíbrio de Nash.

Muito esforço tem sido feito para refinar o conceito de equilíbrio de Nash para obter uma solução mais restritiva, ou seja, soluções que fossem equilíbrio de Nash, mas que eliminassem equilíbrios de Nash a partir de algum critério.

Alguns exemplos desse refinamentos são ESS (Evolutionarily Stable Strategy), risco dominante, payoff dominante, Subjogo Perfeito, Bayes-Nash, entre outros.

Muitos desses conceitos de solução foram elaborados a partir da alteração das suposições sobre a racionalidade dos jogadores ou sobre a informação que está disponível a estes, mas também existem modelos evolucionários (e também de aprendizado) que substituem a racionalidade por forças evolutivas (exemplo, mutação, seleção dos mais aptos).

O exemplo ilustra um jogo com mais de 1 equilíbrio de Nash.

Revisitaremos esse exemplo, para demonstrar como o modelo evolucionário, proposto em, aborda o problema de seleção de equilíbrio de Nash.

Seja um jogo estratégico com |N|=2.

Apresenta o par (u1(ai, bi), u2(ai, bi)), sendo u1 a função de utilidade do jogador 1 e u2 a função utilidade do jogador 2.

Existem 2 equilíbrios de Nash nesse jogo, e são os resultados (a1, b1) e (a2, b2).

Embora intuitivamente o resultado (a2, b2) pareça mais atrativo, a noção de equilíbrio de Nash por si apenas não estabelece nenhuma distinção entre estes.

O problema de congestionamento em Redes de Computadores pode ser classificado de acordo com a sua duração.

De maneira bastante informal, propõe que quanto maior a duração do congestionamento, mais alto na camada de protocolo deve-se utilizar uma técnica de controle de congestionamento, e também alerta que não há solução única e definitiva para o problema, e sim uma combinação de abordagens que se complementam.

Essa visão que tem uma analogia com as abordagens propostas em trabalhos que aplicam Teoria dos Jogos no estudo do problema de congestionamento em Redes de Computadores.

Temos exemplos de abordagens que modelam jogadores decidindo como controlar o fluxo de dados, a rota pela qual os dados vão trafegar [16, 17] ou planejar onde inserir novos links.

Assim como o trabalho de, estamos interessados em investigar o caso em que usuários são responsáveis por escolher as suas próprias taxas, atuando no nível de aplicação.

Em analogia a visão de Jain [13, 14], essa é a camada mais alta da pilha de protocolos, e também onde podemos esperar encontrar pistas sobre que fatores podem evitar ou promover um colapso por congestionamento (um congestionamento excessivo).

Um dos primeiros estudos teóricos extensos foi realizado por, que caracterizou os equilíbrios de Nash em cenários envolvendo múltiplos usuários compartilhando um link gargalo.

Em seu trabalho, que é um marco na literatura, Shenker estudou várias políticas de prioridades no atendimento de usuários, usando um modelo de sistema de fila M/M/1.

Diversos outros estudos teóricos seguiram o trabalho de Shenker.

O problema de tratar fluxos que não são regulados por nenhum mecanismo de controle de congestionamento (fluxos não responsivos), em particular, foram investigados.

Em, por exemplo, foi sugerida uma nova política de escalonamento de pacotes para lidar com fluxos não responsivos, enquanto propõem um mecanismo de policiamento nas bordas da rede para punir fluxos de tráfego que não reagem cooperativamente ao congestionamento.

Neste trabalho consideramos um cenário análogo ao sugerido por, e estudado de forma teórica por.

Trata-se de um ambiente completamente assíncrono, caracterizado pela falta de acordos, onde usuários egocêntricos selecionam suas taxas de transmissão de dados baseando-se exclusivamente na qualidade de serviço percebida a nível de aplicação (user level QoS).

A seguir apresentamos uma lista apresentando a diferença entre o presente trabalho e o trabalho de.

O presente trabalho e o trabalho de se diferenciam nos seguintes pontos.

Dados empíricos, é feito um estudo teórico do problema de congestionamento em redes de computadores, em que usuários egocêntricos disputam recursos de uma rede.

Esse estudo abordou o problema através de Teoria dos Jogos Evolucion ário, onde foi desenvolvido um modelo analítico que descreve o processo de decisão dos usuários.

Esse modelo nos permite prever o resultado esperado da interação estratégica entre os usuários e o nível de congestionamento da rede.

Não foram realizados experimentos em uma rede de computadores real, com usuários reais.

No presente trabalho realizamos experimentos em laboratório com usuários reais, com base no que foi observado na prática, modificamos o modelo proposto em para que capturasse outros fatores que antes não estavam presentes na modelagem.

Essas modificações ajudam a refinar os resultados obtidos pelo modelo.

Estamos portanto obtendo dados empíricos e refinando o modelo analítico, para melhor compreender um problema de disputa por recursos.

O modelo refinado está descrito.

O item abaixo descreve uma das principais modificações em relação ao modelo original.

Limiar Mínimo de Qualidade.

O modelo matemático supõe que os usuários sempre tentam maximizar a sua QoS, independente do nível absoluto de qualidade percebida.

Mesmo que a qualidade de serviço seja muito ruim, um usuário pode permanecer sem alterar a sua taxa atual por um longo tempo, se isso não implicar em ganhos.

No presente trabalho, os dados experimentais que apresentaremos indicam que os usuários convergiram para pontos de equilíbrio que são razoavelmente eficientes, sugerindo que não há equilíbrio caso a qualidade que um usuário perceba seja muito ruim.

Para avaliar um cenário em que pessoas reagem a serviços de má qualidade, alteramos o modelo de para incluir a hipótese de que os usuários precisam ser satisfeitos com uma qualidade mínima de serviço.

Se essa qualidade mínima não for obtida, os usuários reagem ao serviço ruim alterando a sua taxa atual rapidamente e mudando para outra aleatoriamente.

Descreveremos como esse limiar mínimo de qualidade é modelado, e como isso altera a dinâmica de seleção de estratégias.

Medidas de Desempenho, é utilizado um modelo de fila (M/M/1/K), para obter medidas de desempenho.

No presente trabalho, utilizamos uma rede local sem fio real para elaborar um cenário de congestionamento e do qual extraímos medidas de desempenho.

Método de Avaliação de QoS.

Em a QoS percebida pelos usuários foi estimada pelo E-Model, um modelo que estima a qualidade do serviço de áudio a partir de medidas de desempenho da rede e de uma lista específica de CODEC de voz.

No caso o Emodel utilizou 2 parâmetros de desempenho da rede, a taxa de perda média de pacotes e o atraso fim a fim médio.

No presente trabalho, a QoS percebida pelos usuários é estimada por uma Rede Neural, que foi treinada para avaliar a qualidade de serviço para aplicações de voz Interativas, a partir de medidas de desempenho da rede e de uma lista específica de CODEC de voz.

As medidas de desempenho da rede que a Rede Neural utiliza como entrada para avaliar o QoS são taxa de perda média de pacotes, tamanho médio de rajada de perda de pacote, atraso fim a fim e jitter.

Análise Transiente.

Em o modelo é utilizado para obter o resultado esperado do Jogo em estado estacionário (no super longo prazo).

No presente trabalho, utilizamos o modelo modificado para analisar o problema não apenas em estado estacionário, como também fazemos uma análise do transiente.

Apresentamos um modelo teórico usado para avaliar o que ocorre quando usuários compartilham um canal para transmissão de tráfego multimídia, como voz.

Assumimos as seguintes características sobre os usuários, ajustes Darwinianos, cada usuário muda de estratégia ao perceber que pode aumentar a qualidade de serviço (QoS) por ele percebida.

Entretanto, a informação que cada usuário possui sobre o ambiente é incompleta.

Quanto maior o ganho de QoS esperado por um usuário em função da mudança, maior a chance de esta mudança efetivamente ocorrer.

Miopia, cada usuário tem uma visão limitada do sistema.

Desta forma, não possuem a capacidade de fazer considerações a longo prazo sobre o impacto de suas escolhas.

Mutações, existe uma pequena chance de um usuário mudar de estratégia e com isto denegrir a QoS por ele percebida.

Assumimos que a probabilidade de erro é pequena, comparada com a probabilidade de realizar uma mudança que realmente gere um aumento de QoS.

Inércia, a probabilidade de uma mudança efetivamente ser realizada é proporcional aos ganhos esperados.

Além disto, nem todos os usuários mudam de estratégia ao mesmo tempo.

Ou seja, o jogo em questão é assíncrono.

Egocentrismo, cada usuário tem conhecimento limitado sobre as ações adotadas pelos outros.

As informações sobre as ações dos outros usuários são obtidas sempre indiretamente, pelo impacto gerado pelas mesmas no link.

Finalmente, cada usuário está preocupado apenas em maximizar sua própria QoS.

Uma hipótese extra, que resulta em uma das modificações do modelo em relação ao modelo original é a seguinte, QoS mínima, os usuários não toleram uma qualidade de serviço que esteja abaixo de um certo limiar.

Se a qualidade for inferior a esse limiar, um usuário muda de estratégia rapidamente.

Considere o cenário em que usuários selecionam dinamicamente a taxa (em bits por segundo, ou bps) através da qual irão receber dados multimídia.

Cada usuário possui uma função de utilidade bem definida que depende das múltiplas características do estado da rede (vazão, probabilidade de perda e retardo).

Assim sendo, a função de utilidade dos usuários relaciona o estado da rede com a qualidade de serviço (QoS) oferecida a eles.

A capacidade de transmissão do canal influencia as características de desempenho da transmissão dos dados, como vazão e retardo.

Estas determinam a qualidade do áudio recebido pelos usuários.

O objetivo de cada usuário é maximizar a sua QoS, selecionando uma taxa de transmissão de dados mais adequada.

Dado o cenário discutido acima, os usuários defrontam-se com um jogo estratégico simétrico G = hN, A, (ui)i, onde N é o número de usuários que compartilham o link e A é o conjunto de taxas disponíveis para cada um deles.

A função utilidade ui×j2NA determina a QoS que o agente i recebe em cada um dos possíveis estados do jogo.

No jargão da Teoria dos Jogos evolucionários, G é o stage game do sistema.

O modelo em duas camadas.

A camada 1 apresenta uma Cadeia de Markov e a transição entre estados da Cadeia.

A camada 2 apresenta um modelo de desempenho que estará associado a cada estado da Cadeia, determinando as características do canal compartilhado.

Assim como em usamos uma Cadeia de Markov, para modelar o processo dinâmico de como usuários fazem suas escolhas relativas à taxa de transmissão de dados em função do tempo, porém com características distintas daquele trabalho.

Seja k = |A| o número de estratégias disponíveis para cada usuário.

O modelo possui espaço de estados finito S e os estados são caracterizados pelo número de usuários adotando cada uma das estratégias disponíveis.

Então, si = hn1, nki 2 S é o estado do modelo onde representa o número de usuários adotando a estratégia l.

A cada estado si de S é associado um modelo de desempenho que irá determinar as características do canal compartilhado.

Este modelo gera medidas apropriadas, como vazão, probabilidade de descarte de pacotes e retardo, que são então usadas para calcular a QoS experimentada pelos usuários naquele estado.

A QoS percebida por cada usuário também será usada para determinar a taxa de transição entre os estados da Cadeia de Markov.

Ilustra o modelo em duas camadas para o caso em que o número de usuários é igual e o número de taxas disponíveis para cada usuário.

O Processo Dinâmico de Ajuste de Estratégias.

A seguir descrevemos os detalhes do processo dinâmico de ajuste de estratégias.

Cada estado da Cadeia de Markov define um resultado (outcome) correspondente no stage game subjacente, ou seja, no modelo descrito na camada inferior.

Assim sendo, cada estado da Cadeia de Markov dá origem a k diferentes payoffs e cada payoff corresponde à QoS que um usuário naquele estado irá receber quando jogar uma certa estratégia.

Os usuários possuem funções de utilidade simétricas, ou seja, se o usuário 1 utiliza uma estratégia l e o usuário 2 utiliza a mesma estratégia l em um estado.

Para simplificar, utilizaremos a notação para representar a QoS percebida por um usuário que escolhe a estratégia l 2 A quando o estado do sistema é si 2 S.

Com essa nova notação, se tivermos 4 usuários utilizando a mesma estratégia l no estado si, basta dizer que a função utilidade por eles percebida, ao invés de dizer que u1(l, si)=u2(l, si)=u3(l, si)=u4(l, si).

Ou seja, representa a função de utilidade de um grupo de usuários que utilizam a mesma estratégia l em um estado si.

Sejam si e sj dois estados da Cadeia de Markov, onde representa o número de usuários adotando a estratégia l.

O processo transiciona de si para sj quando um usuário muda sua estratégia de l para m.

Por fim, vamos apresentar como a taxa de transição entre os estados é calculada.

Primeiro vamos mostrar como o cálculo da taxa de transição difere do modelo original em.

O modelo original supõe que um usuário muda sua estratégia atual l rapidamente para outra estratégia m, apenas se houver ganhos para tal.

Em nossa modelagem, vamos assumir adicionalmente que um usuário também muda sua estrat égia l rapidamente para qualquer outra estratégia diferente de l, caso a qualidade de serviço esteja abaixo de um limiar mínimo de qualidade.

Essa suposição extra é razoável, pois sendo a qualidade de serviço muito ruim, não há motivação para permanecer utilizando a estratégia atual.

Nesse caso, um usuário passaria a explorar outras opções aleatoriamente, semelhante a uma caminhada aleatória (random walk).

A seguir, apresentamos os parâmetros utilizados para o cálculo da taxa de transição do modelo.

Limiar mínimo de Qualidade L e taxa de saída T, vamos denotar por L, um número real não negativo, como um valor que representa um limiar mínimo de qualidade.

Vamos também denotar por T, um número real positivo, como sendo a taxa de transição com que um usuário muda a sua estratégia atual l para uma outra estratégia disponível qualquer, dado que o limiar L foi violado.

Desta forma quando, um usuário muda sua estratégia para uma outra qualquer aleatoriamente, com taxa de transição T, como em uma caminhada aleatória (random walk).

Incentivo para mudar de estratégia, a diferença entre as funções de utilidade descreve o incentivo que um usuário tem para mudar a sua estratégia atual l para a estratégia m, quando o estado atual é si e sendo o próximo estado seja sj.

Um usuário muda da estratégia l para a estratégia m, com uma taxa de transição que é função.

O caso em que é descrito no item abaixo.

Taxa de erro, um usuário pode cometer erros ao escolher sua estratégia, de tal forma que uma transição de si para sj pode ocorrer mesmo que a QoS percebida em si seja maior que a percebida.

Caso um usuário comete um erro com taxa de transição por usuário, que é um parâmetro do processo dinâmico.

Assumimos que é menor que a diferença máxima de QoS percebida por um usuário.

Função e limiar mínimo de sensibilidade, utilizamos uma função para aumentar a flexibilidade do modelo, onde representa os ganhos obtidos por um usuário para mudar da estratégia l para a estratégia m.

Neste caso, a função indica que, caso a diferença de QoS entre dois estados si e sj seja menor que, os usuários não têm capacidade de perceber esta diferença (zona morta).

Logo, os usuários não percebem que há incentivos para mudar da estratégia l para a estratégia m, e a taxa de transição para mudar de estratégia é igual a taxa de erro.

Observação, parametrização de L.

O valor de L foi selecionado para explicar o que observamos experimentalmente.

Por exemplo, experimentalmente observamos que um valor de L=26 (numa escala de qualidade de 1-péssimo a 5-ótimo) parece ser razoável, pois abaixo desse patamar a qualidade percebida é extremamente ruim.

Um L abaixo de 26 resulta no não entendimento do áudio que está sendo transmitido e gera desconforto ao usuário, que pode então procurar alterar a sua estratégia atual.

Apresentados todos os parâmetros, vamos apresentar agora como se calcula a taxa de transição entre os estados da Cadeia.

A taxa de transição do estado si para sj é uma função da diferença entre as QoS's recebidas nestes dois estados.

Seja n l o número de usuários no estado si adotando a estratégia l.

L e T são números reais não negativos.

A transição entre dois estados adjacentes, segundo a equação, está associada a um único usuário mudar de estratégia.

Isto ocorre porque assumimos um modelo contínuo.

Resta-nos mostrar como a função de utilidade é calculada.

Em geral, as medidas de desempenho associadas com as condições do link gargalo podem ser derivadas a partir de qualquer modelo de desempenho (performance model), ou a partir de medições feitas na rede.

Foi adotada a primeira abordagem, neste trabalho iremos adotar um misto das duas abordagens, obtendo dados empíricos e de simulação.

As medidas de desempenho obtidas são usadas para determinar a QoS percebida pelos usuários.

Vamos adiar a discussão detalhada das medidas de desempenho e do modelo de QoS.

Para ilustrar como o modelo proposto nos permite avaliar qual o resultado esperado de um jogo não-cooperativo.

Temos apenas um único equilíbrio de Nash, no qual os jogadores 1 e 2 escolhem respectivamente as ações (a2,b2).

Vamos mostrar que no modelo proposto, um equilíbrio de Nash é um estado da Cadeia de Markov que absorve massa de probabilidade de estados adjacentes.

Isso se deve ao fato de que estados que não sejam equilíbrios de Nash transferem massa de probabilidade para estados adjacentes com uma taxa que é muito maior que, e estados que são equilíbrios de Nash transferem massa de probabilidade para estados adjacentes com taxa agregada da ordem de, ou seja, uma taxa muito pequena (assumindo um suficientemente pequeno).

O significado disso para avaliar qual o resultado esperado do jogo é evidente, se em um determinado instante de tempo um estado concentra toda a massa de probabilidade, esse estado é o resultado do jogo que esperamos observar.

Seja um jogo estratégico simétrico.

O jogador 1 tem disponíveis as taxas a1, a2, e o jogador 2 as taxas b1, b2.

Nesse caso, vamos assumir que a1 = b1 e a2 = b2, ou seja, há apenas 2 taxas distintas nesse jogo.

Apresenta o par, sendo u1 a função de utilidade (QoS) do jogador 1 e u2 a função utilidade (QoS) do jogador 2.

Podemos montar uma Cadeia de Markov, de 3 estados, em que cada estado representa quantos jogadores utilizam a taxa a1 = b1 ou a taxa a2 = b2, o que resulta no conjunto de estados.

As análises serão feitas para os parâmetros L = 0 e = 0.

Vamos utilizar a notação para denotar a utilidade de quem utiliza a estratégia no estado.

Assim não representam a função de utilidade de grupo algum.

Observa-se que o estado (0,2) é o único equilíbrio de Nash.

Mas qual o resultado de jogo esperamos observar ao final de um intervalo de tempo (0, t), caso a distribuição inicial de probabilidade dos estados seja iniciar no estado (2,0) com probabilidade 1? Utilizando as regras do modelo para a construção da Cadeia de Markov, obtemos o diagrama, em que temos 3 estados da Cadeia e as taxas de transição entre os estados que são obtidos a partir das equações 21.

Adicionalmente, apresenta 3 recipientes, cada um próximo ao seu respectivo estado, que ilustram a probabilidade de se observar um estado da Cadeia naquele instante.

Apresenta o instante t=0 segundos, está de acordo com o enunciado, pois recipiente do estado s1=(2,0) concentra toda a massa de probabilidade.

O mais importante a ser notado no diagrama é que existe uma alta taxa de saída do estado (2,0) para o estado (1,1), e uma alta taxa de saída do estado (1,1) para o estado (0,2).

No sentido reverso (de (2,0) para (1,1), e de (1,1) para (2,0)) a taxa é da ordem de.

Supomos como um valor muito pequeno.

Isso nos mostra que em pouco tempo, a massa de probabilidade que se concentra no estado (2,0) irá fluir em direção ao estado (1,1) e por fim ao estado (0,2), que é o equilíbrio de Nash desse jogo.

Vamos fazer uma análise no tempo para mostrar como evoluem os valores.

Apresentam 3 instantes de tempos distintos, onde se refere ao instante t=0 segundos, ao instante t=02 segundos e ao instante t > 7 segundos.

O que podemos perceber através destas é que no instante t=0, com probabilidade 1, temos que X(t)=(2,0) (dado do problema), no instante t=02, como era esperado, o estado (2,0) transfere a massa de probabilidade para o estado adjacente (1,1).

O estado (1,1) transfere massa de probabilidade para o estado (0,2), a partir do instante t=7 segundos, o estado (0,2) concentra quase toda a massa de probabilidade.

A partir daí, não há mais transferências de massa de probabilidade significativas entre os estados, e podemos assumir que o sistema atingiu o estado estacionário.

Por esta análise, podemos entender com clareza o que o modelo nos tem a dizer sobre o resultado esperado do jogo, a cada instante de tempo temos as probabilidades de P[X(t)=si], e podemos monitorar quais são os estados mais prováveis de serem observados para um dado t.

Entretanto, como foi visto, os estados que não são equilíbrios de Nash transferiram sua massa de probabilidade para o estado que é Equilíbrio de Nash num curto intervalo de tempo.

Tornase evidente que o único equilíbrio de Nash desse exemplo é o resultado esperado do Jogo no intevalo de tempo de 7,1 pois com probabilidade próxima de 1 esperamos observar o estado (0,2).

Um problema recorrente na Teoria dos Jogos é o problema da seleção do Equilíbrio de Nash.

Muito embora seja possível que alguns jogos não possuam equilíbrio de Nash algum, muitos problemas interessantes possuem 1 ou mais desses pontos de equilíbrio.

Em especial, o problema por nós modelado possui múltiplos pontos de equilíbrio, como será visto no capítulo 4.

Isso reforça a necessidade de se utilizar algumas das propriedades do modelo proposto, que nos auxiliam no processo de seleção entre diversos equilíbrios de Nash.

Para tal, vamos utilizar as propriedades do modelo original proposto em e também as modificações propostas, como por exemplo o parâmetro L, para investigar qual o equilíbrio mais razoável de se observar num curto e num longo prazo.

Para valores de parâmetros L = 0 e = 0, as propriedades do modelo apresentado são as mesmas que em.

Algumas propriedades a se destacar são o modelo é ergódico, e portanto não contém conjunto de estados absorventes (como definido em, pode conter conjunto de estados quasi-absorventes), havendo 2 ou mais equilíbrios de Nash, quando t 1 e 0, estes equilíbrios podem receber probabilidades arbitrariamente diferentes em estado estacionário.

Desta forma, o modelo proposto pode ser usado para auxiliar na solução do problema da seleção do equilíbrio de Nash, se mais de um equilíbrio de Nash estiver presente no jogo, qual deles será selecionado pelos jogadores a longo prazo? Em princípio, se apenas um estado da cadeia de Markov receber probabilidade não desprezível em estado estacionário, teremos obtido um resposta a essa pergunta.

A verificação da distribuição de probabilidade em estado estacionário é uma resposta que o modelo nos traz numa análise de longo prazo.

É uma solução global, no sentido de que independe das condições iniciais (a distribuição de probabilidade inicial).

No entanto, o modelo proposto também pode nos mostrar outras respostas sobre o problema de seleção de equilíbrios, se analisarmos a evolução das distribuições de probabilidades durante o período transiente.

Tais soluções seriam dependentes das condições iniciais, mas podem também ajudar a entender o problema de seleção numa escala de tempo menor.

O exemplo ilustra como o modelo pode ser utilizado para analisar o problema de seleção de equilíbrios.

Seja um jogo estratégico simétrico.

O jogador 1 tem disponíveis as taxas a1, a2, e o jogador 2 as taxas b1, b2.

Nesse caso, A = ×j2NAj = {(a1, b1), (a1, b2), (a2, b1), (a2, b2)}.

Vamos assumir que a1 = b1 e a2 = b2, ou seja, há apenas 2 taxas distintas nesse jogo.

Apresenta o par (u1(ai, bi), u2(ai, bi)), sendo u1 a função de utilidade (QoS) do jogador 1 e u2 a função utilidade (QoS) do jogador 2.

Podemos montar uma Cadeia de Markov (CM), X = {X(t)t0}, de 3 estados, em que cada estado representa quantos jogadores utilizam a taxa a1 = b1 ou a taxa a2 = b2, o que resulta no conjunto de estados {s1 = (2, 0), s2 = (1, 1), s3 = (0, 2)}.

Observa-se que os estados (2,0) e (0,2) são equilíbrios de Nash.

Mas qual o resultado de jogo esperamos observar ao final de um intervalo de tempo (0, t), caso a distribuição inicial de probabilidade dos estados seja equiprovável.

Vamos analisar o problema, utilizando o modelo original proposto em (ou seja, com parâmetros = 0 e L = 0).

Primeiro, utilizamos as regras do modelo para a construção da Cadeia de Markov.

Nesse sistema dinâmico representa a probabilidade de estar no estado si ao final do intervalo (0, t).

E cada termo de G(t), Gij representa a probabilidade de estar no estado si no instante t, dado que no instante inicial o estado era sj.

Observando a matriz G(t) e os autovalores de QT, podemos constatar que os termos associados a ¼1(t) contém apenas exponenciais e2 (+4)t, enquanto que alguns termos associados a ¼0(t) e ¼2(t) possuem exponenciais e 2 t multiplicadas por constantes não desprezíveis.

Isso indica que ao longo do tempo, ¼1(t) converge rapidamente para um valor de estado estacionário, enquanto que ¼0(t) e ¼2(t) possuem uma resposta no tempo mais lenta (assumindo que é muito menor que 4), que é dominada pela constante de tempo de e2 t e que dependem das condições iniciais.

Por exemplo, para ¼(0) = [0 1 0], todos os termos que contém e-2 t são anulados e o sistema converge rapidamente para valores de estado estacionário.

Por outro lado, ¼(0) = [1 0 0] ou ¼(0) = [0 0 1] resultam em uma resposta no tempo que converge lentamente para os valores em estado estacionário.

Para entender essa dinâmica, basta verificar que os estados s0 e s2 são quasiabsorventes, por terem taxa de saída do estado da ordem de (assumindo muito pequeno).

Por outro lado, s1 possui alta taxa de saída, e transfere rapidamente a massa de probabilidade para os estados s0 e s2.

Significa que em uma escala de tempo curta, podemos observar uma transferência de massa (de probabilidade) rápida de s1 para s0 e s2, até que se atinja um ponto em que as massas de probabilidade do sistema passem a variar muito lentamente, e numa escala de tempo longa, temos uma transferência de massa de probabilidade apenas entre s0 e s2 até que se obtenha os valores de probabilidade de estado estacionário.

Apresenta a resposta no tempo para as condições iniciais.

Para observar melhor a resposta rápida e resposta lenta está em escala linear e o resto está em escala log.

Apresenta um caminho amostral, onde o estado inicial é s0.

Observase que após permanecer por um tempo muito longo nos estados s0 e s2, faz-se uma rápida passagem pelo estado s1.

Voltando a pergunta inicial, qual o resultado de jogo que esperamos observar ao final de um intervalo de tempo arbitrário de (0, t), com condições iniciais.

A resposta é dependente da escala de tempo que estamos observando (e também das condições iniciais), e está enumerada a seguir.

Embora a palavra equilíbrio seja usada abaixo, estes são equilíbrios da dinâmica, e não do Jogo estudado 1.

Fase 1 (dinâmica de curto prazo), num período de curtíssima duração (de 0 a 05 unidades de tempo), podemos observar a dinâmica de transferência de massa de s1 para outros estados.

Nessa fase, s1 ainda poderia ser observado como resultado do jogo, por receber uma probabilidade não desprezível.

Fase 2 (equilíbrio de curto prazo), de 05 a 200 unidades de tempo, atinge-se uma espécie de equilíbrio de curto prazo, onde o termo e2 t ainda não altera de amplitude significativamente (seria um equilíbrio idêntico ao caso em que =0).

Nesse caso, a probabilidade de observar o estado s0 é 046 e o estado s2 é 054, s1 não possui probabilidade significativa.

Fase 3 (dinâmica de longo prazo), de 200 a 20000 unidades de tempo, o termo e-2 t começa a decair.

Fase 4 (equilíbrio de longo prazo), de 20000 unidades de tempo em diante, temos praticamente a distribuição em estado estacionário.

Nesse caso, a probabilidade de observar o estado s0 é 0375 e o estado s2 é 0625, s1 não possui probabilidade significativa.

Observação, o sistema dinâmico descrito no Exemplo 24 é semelhante aos sistemas descritos por Ando e Simon.

Esses sistemas são denominados NCD (Nearly Completely Decomposable).

Entretanto, não há garantias de que no modelo proposto, a cadeia de Markov resultante tenha esse tipo de dinâmica.

Nesse caso, a análise (quando possível) dos autovalores da matriz geradora Q e a análise do transiente, podem nos ajudar a entender se essa noção de equilíbrio (das probabilidades dos estados da Cadeia) de curto e longo prazo estão de fato presentes, e portanto pertinentes de serem analisadas.

No capítulo 4 vamos mostrar que a análise desenvolvida pode ser utilizada novamente.

A ampla utilização de modelos envolvendo Teoria dos Jogos por parte da comunidade de redes de computadores reflete uma tendência em relação às pesquisas na área, que consiste em modelar a complexidade sócio-econômica envolvida na Internet.

Entretanto, a grande quantidade de trabalhos não veio acompanhada de experimentos para corroborar os resultados da teoria.

De fato, há poucos trabalhos envolvendo experimentos com usuários reais acessando uma rede livremente a fim de identificar como eles comportam-se e reagem aos estímulos recebidos.

O alicerce do presente estudo é a teoria dos jogos comportamental (behavioral game theory).

De uma forma geral, a teoria dos jogos pode ser usada como uma ferramenta normativa, para estabelecer o que deve ser feito pelos projetistas e usuários dos sistemas, ou Simulação, estado inicial s0=(2,0) como uma ferramenta descritiva, para ajudar no entendimento do comportamento dos usuários ao se defrontarem com situações de conflitos de interesses.

A este último, dá-se o nome de teoria dos jogos comportamental.

A abordagem padrão da teoria de jogos comportamental consiste em realizar experimentos e identificar os pontos para os quais os usuários eventualmente convergem.

A partir daí, procura-se inferir quais foram as motivações e incentivos que levaram os usuários a convergir para tais pontos.

Em e são descritos vários experimentos que mostram casos de sucesso e falhas da aplicação da Teoria dos Jogos para entender problemas do mundo real.

Segundo, o fato de resultados experimentais indicarem que um grupo de pessoas não joga de acordo com o previsto por um modelo não prova que a teoria está essencialmente errada, da mesma forma que uma pessoa que erre ao dar um troco em dinheiro não prova que a aritmética está errada.

Alguns equilíbrios teoricamente previstos não são jogados imediatamente, e é necessário algum tempo até que pessoas aprendam como jogar.

Nesse caso, uma teoria que mostre a evolução desse aprendizado pode ser tão ou mais importante quanto uma teoria que mostre o comportamento quando finalmente se obtenha um equilíbrio.

Em são citados 2 exemplos, no baseball profissional, a média de rebatidas em jogos profissionais estaria convergindo para valores previstos pela Teoria dos Jogos, depois de algumas décadas, descobriu-se que um algoritmo de alocação de internos em um hospital, desenvolvido ao longo de 50 anos, é o mesmo algoritmo proposto de forma independente para resolver alguns jogos cooperativos.

Por outro lado, mesmo considerando o aprendizado, alguns resultados de experimentos não podem ser explicados diretamente por modelos de Teoria dos Jogos.

Um exemplo é o jogo do ultimato, um jogo em dois turnos, em que primeiro uma pessoa propõe a partilha de um valor monetário X (exemplo R$ 100) com outra pessoa, e depois a outra pessoa aceita ou rejeita.

Se aceitar, ambos ficam com o valor combinado, se rejeitar, então ninguém ganha nada.

A Teoria prevê que quem decide se rejeita ou aceita irá aceitar qualquer valor oferecido maior que 0, pois rejeitar significa receber 0, aceitar significa receber algum valor maior que 0.

No entanto, os experimentos feitos ao redor do mundo sugerem que se o valor oferecido for baixo (exemplo, é oferecido um valor menor que 20% de X), ocorrem muitas rejeições.

Esse resultado gerou uma busca por uma função de payoff correta, que explicasse os resultados experimentais, criando novas hipóteses sobre as preferências das pessoas.

Como alerta, esse tipo de busca não deve ser feito apenas para um ajuste a posteriori da função utilidade (como alguns autores fazem), mas sim para criar um conhecimento necessário para entender esse e diversos cenários.

Por fim, existem algumas críticas em relação ao uso da Teoria dos Jogos de forma descritiva, como por exemplo é expresso por Aumann.

Um problema fundamental é se a Teoria dos Jogos está sendo desenvolvida para prever como jogadores realmente se comportam no mundo real, se o que aprendemos com Teoria dos Jogos deve ser interpretado literalmente.

Ou se esta não é apenas uma maneira de se organizar idéias e observações e utilizá-las de forma construtiva para lidar com problemas reais, para ganhar pistas sobre como inúmeros fenômenos diferentes podem estar relacionados.

Experimentos com pessoas no contexto de Redes de Computadores e a análise dos resultados utilizando Teoria dos Jogos constituem uma aplicação de Teoria dos Jogos Comportamental.

Dois artigos que se destacam neste contexto de experimentos e Redes de Computadores e Teoria dos Jogos são [31, 32].

O objetivo é capturar o comportamento de usuários que interagem repetidamente de forma assíncrona.

Para tal, os autores de consideram um jogo no qual jogadores humanos e robôs compartilham recursos em uma rede.

Cada usuário visa fazer download do maior número de arquivos possível, podendo interromper e recomeçar seus downloads quando lhe convier.

Quando muitos tentam realizar downloads ao mesmo tempo, o tempo necessário para completar a tarefa aumenta, o que reduz os ganhos dos jogadores.

O objetivo do experimento é verificar como seres humanos agem diante de jogadores humanos e não humanos.

Os autores consideram um jogo no qual os jogadores não sabem de antemão os detalhes do jogo no qual estão participando, mas são auxiliados por uma interface gráfica que além de permitir mudar a ação, também mostra o payoff obtido recentemente.

A estrutura do jogo muda ao longo do tempo para simular variações na condição da rede que independem das ações dos jogadores, assim a função utilidade de um jogador é influenciada não apenas pela ação dos outros jogadores, como também por esse fator externo que muda a condição atual da rede.

O objetivo do experimento é monitorar o aprendizado dos jogadores e se há convergência para equilíbrios de Nash.

Nós propomos uma nova metodologia para a realização de experimentos a fim de capturar o comportamento de usuários que interagem em uma rede onde os recursos são escassos.

Apesar de existirem algumas semelhanças entre o presente trabalho e os dois mencionados acima, hvá diferenças fundamentais entre eles.

Em primeiro lugar, os trabalhos mencionados não consideram a interação de usuários em uma rede real.

Por exemplo, os autores simulam via software as condições da rede, fazendo com que os usuários sintam-se como se estivessem jogando um video game.

No presente trabalho, analisamos um experimento envolvendo usuários reais interagindo numa rede sem fio, em um ambiente controlado.

É importante ressaltar que também utilizamos simuladores para auxiliar no treinamento e aprendizado dos usuários, mas nessa metodologia, simuladores são apenas um passo intermediário, anterior aos experimentos em ambiente reais, e não a etapa final.

Em segundo lugar, nos trabalhos mencionados as funções de utilidade foram artificialmente construídas.

Cada jogador podia monitorar sua pontuação (uma medida objetiva, computada em função de métricas como retardo ou vazão) ao longo do processo e recebia, no final do experimento, uma quantia módica de dinheiro em função do seu desempenho.

No presente trabalho os usuários adaptam-se às condições da rede tendo como único retorno a qualidade da voz por eles recebida (uma medida subjetiva, que pode variar de pessoa a pessoa).

Por último, o modelo por nós utilizado para analisar os resultados obtidos é uma extensão daquele proposto por.

Neste capítulo, vamos apresentar a principal contribuição deste trabalho, que é uma metodologia para analisar um cenário de disputa por recursos escassos.

Descrevemos um experimento com pessoas que captura aspectos relevantes de um cenário onde há disputa por recursos em uma rede sem fio, em que usuários VoIP alteram as suas taxas para melhorar a sua própria qualidade de serviço de voz.

Apresenta uma metodologia que ajuda a entender não apenas os aspectos técnicos e objetivos de uma rede IP (sem fio) com problemas de congestionamento, como também nos permite utilizar o valor descritivo e normativo da Teoria dos Jogos para ganhar entendimento sobre os resultados experimentais.

Selecionamos seis voluntários (integrantes do laboratório com experiência em lidar com aplicações multimídias) para participar do experimento.

Estes são divididos em três duplas.

Reservamos duas salas, e dividimos as duplas em dois grupos, acomodando três jogadores em uma sala e os demais em uma outra.

Para cada jo31 Experimentos com pessoas gador designamos uma máquina com suporte a rede sem fio (uma interface de rede IEEE80211b/g), rodando a ferramenta de transmissão de voz sobre IP VivaVoz.

Todos os participantes estão familiarizados com o uso desta ferramenta.

Em uma das salas instalamos um ponto de acesso (AP, ou access point) sem fio IEEE80211b/g comercial, da USRobotics (modelo USR5450, firmware 153b10), e todos os seis usuários compartilham um canal deste único AP.

A rede em questão opera no modo infraestruturado, com o mecanismo de acesso ao meio DCF (Distributed Coordination Function), sem quadros RTS/CTS nem criptogra fia.

Os pacotes gerados pelo VivaVoz são suficientemente pequenos para evitar a fragmentação.

O ponto de acesso é propositalmente configurado para suportar uma capacidade nominal de 1Mbps, o que lhe confere uma capacidade efetiva de 160 Kbps.

O propósito de restringir a banda é o de intensificar a disputa por recursos entre os usuários.

Precedendo o experimento foram lidas instruções descrevendo os objetivos e as regras.

Os participantes tomam conhecimento do número total de usuários acessando o sistema, da capacidade do enlace da rede sem fio, da topologia da rede, do número de opções de taxas de transmissão que cada um tem e do tempo de duração máxima de uma sessão do experimento.

Cada usuário recebe um microfone e um headphone, e estabelece conexão com seu parceiro localizado em outra sala.

Uma vez estabelecidas as conexões, solicita-se aos jogadores que conversem livremente.

Durante a conversa, cada jogador tem a liberdade de modificar a taxa através da qual recebe os dados, de tal forma a maximizar a qualidade de serviço (QoS) recebida.

A ferramenta VivaVoz foi adaptada para isto, de modo a permitir que cada usuário pudesse alterar, dinamicamente, o nível de redundância usado para mascarar perdas de pacotes na rede (FEC) (ver) e o codec utilizados.

Como a decisão sobre a taxa de dados gerada pelas aplicações é transferida aos usuários, as ações de cada um passa a afetar o desempenho dos restantes.

Listamos os codecs e esquemas de redundância disponíveis para cada usuário.

Em resumo, temos 3 codificações de voz, PCM linear com 16 bits, GSM 0610 RPE-LT e Speex, baseado no CELP, que dispõe de 8 taxas.

Temos 3 esquemas de redundância.

O esquema de redundância FEC 1,2 corresponde ao envio de dados duplicados nos pacotes com número de seqüência (SN) i e i+1.

O esquema de FEC 1236 é proposto e permite a recuperação de perdas em rajada, às custas de um aumento da taxa de transmissão (o esquema 12 não consegue recuperar a perda de pacotes consecutivos).

Em resumo, quanto maior a redundância mais protegidos estão os dados, embora a sobrecarga associada à redundância possa agravar o problema do congestionamento na rede e diminuir a qualidade da voz recebida.

Considere, por exemplo, um usuário recebendo dados via Speex 112 sem redund ância, cuja taxa é de 144 Kbps, com dificuldade para compreender seu parceiro devido a alta taxa de perda de pacotes.

Este usuário pode optar por diminuir a taxa do codec para Speex 4, e adotar um esquema de redundância, com taxa total de 140 Kbps, procurando assim maximizar a qualidade da voz recebida ao reduzir as perdas sem agravar o congestionamento.

Como um segundo exemplo, considere um usuário recebendo dados via Speex 4 (taxa de 72 Kbps), insatisfeito com a qualidade da voz recebida.

Este usuário pode aumentar a taxa do codec para Speex 112 (taxa de 144 Kbps) e avaliar o impacto dessa mudança.

Em essência, estes dois exemplos ilustram como se dá o processo dinâmico de ajuste dos usuários.

A existência de um ponto de equilíbrio é uma das questões investigadas.

O experimento foi concebido de tal forma a capturar as seguintes características de um ambiente típico de transmissão de voz sobre IP, assincronia, cada usuário pode a qualquer instante mudar o codec e/ou o mecanismo de FEC que utiliza para receber os dados, informação incompleta, cada usuário sabe apenas a taxa que ele está usando para receber dados.

Ele também sabe o número de usuários participando do jogo, e o número de taxas disponíveis para cada um.

O usuário não sabe a taxa que está usando para transmitir dados ao seu parceiro, nem a taxa que os demais usuários da rede estão empregando, recursos escassos, dependendo da taxa que o usuário escolhe para receber dados, sua decisão pode gerar impactos negativos nos fluxos de dados dos demais.

Conforme mencionado acima, permitimos que os usuários conversem e adaptem suas taxas livremente em relação às condições da rede.

Para estabelecer o ponto de convergência do sistema, solicitamos que cada usuário, após ficar dois minutos sem fazer nenhuma modificação na sua taxa de recepção de dados, anote sua taxa (codec+FEC), em conjunto com uma nota de 1 a 5 identificando o seu nível de satisfação.

Deste momento em diante, o usuário não poderá mais modificar sua taxa.

Caso todos os usuários anotem seus resultados, alcançamos um ponto de convergência.

Vamos denotar o experimento no qual os membros de cada dupla conversam e interagem de experimento interativo.

O experimento interativo foi repetido 5 vezes (5 sessões).

Estamos interessados nos pontos de convergência do sistema em cada uma das sessões (que denotamos por convergência a médio prazo), bem como nas tendências de convergência entre as sessões (que denotamos por convergência a longo prazo).

Um variante do experimento interativo, o experimento não interativo, também foi repetido cinco vezes.

Vamos denotar por Ai e Bi os membros da dupla i (onde 1i3).

No experimento não interativo, ao invés de Ai e Bi conversarem, Ai transmite um fluxo de dados pré-gravado (com o hino brasileiro) para Bi (e vice-versa).

O restante do experimento permanece inalterado, cada usuário pode adaptar-se dinamicamente às condições da rede, mudando a taxa com a qual recebe os dados de voz.

Comparando o cenário interativo com o cenário envolvendo o streaming de fluxos pré-gravados, procuramos avaliar qual o impacto da interatividade nas decisões dos usuários.

Resultados do Experimento Como o experimento foi realizado no período manhã/tarde de um dia de semana (em setembro de 2005) as salas envolvidas não estavam livres de interferências externas.

Paredes e obstáculos entre as estações e o ponto de acesso (AP) deram margem ao problema dos múltiplos caminhos (ou desvanecimento do sinal).

Essencialmente, o cenário é de um típico ambiente de escritório (ou indoor).

O nosso desafio consistiu em implementar o experimento tendo em vista este panorama semi-realista, e interpretar os resultados a posteriori.

Conforme dito no início do Capítulo 31, os 6 participantes foram divididos em 3 duplas.

Os usuários i e i + 1 compõem a dupla (i + 1)/2 (i igual a 1, 3, ou 5).

Listamos os pontos de convergência do experimento não interativo.

Pode-se observar que quase todos os usuários optaram por alguma proteção a seus dados, utilizando um esquema de FEC.

Ao longo das 5 sessões a diferença entre as taxas dos distintos usuários diminuiu, o que resultou em uma divisão progressivamente mais igualitária dos recursos.

Isto indica uma possível evolução no pensamento estratégico dos usuários, que conduziu-os a cenários cada vez mais uniformes e justos.

Descreve os resultados do experimento não interativo e reflete a crença dos usuários sobre a melhor estratégia para disputar pelos recursos de banda disponíveis.

Cada linha representa uma sessão do experimento.

Um dos fatos mais interessantes refere-se à taxa agregada adotada pelos usuários.

Para nossa surpresa, em todas as sessões os usuários convergiram para taxas agregadas que variaram entre 150 Kbps e 160 Kbps.

Como a capacidade efetiva do canal considerado é de 160 Kbps, isto indica uma tendência dos usuários à convergência para um estado onde a rede seja plenamente utilizada, e ao mesmo tempo uma auto-regulação dos mesmos de tal modo a evitar um possível colapso devido ao excessivo congestionamento.

Nesse caso, pode-se observar que inicialmente os usuários 2, 5 e 6 optaram por taxas menores do que as observadas no experimento não interativo.

A taxa agregada dos usuários como um todo foi inicialmente pequena, mas cresceu gradativamente.

Mais uma vez observamos o fenômeno da auto-regulação dos usuários no sentido de evitar um possível colapso devido ao excessivo congestionamento.

Os resultados experimentais sugerem que existem distintos pontos de equilíbrio para os quais os usuários acabam convergindo.

Apresentamos a metodologia proposta para investigar as motivações que levaram os usuários a convergir para os pontos de equilíbrio do experimento apresentado.

A metodologia baseia-se na obtenção de medidas de desempenho do canal (taxa de perda e tamanho médio da rajada de perda), bem como na inferência da QoS percebida pelos usuários em função destas medidas, em cada um dos estados do modelo proposto.

Etapa 3, Etapa 2, Etapa 1, vamos enumerar as etapas da metodologia.

Etapa 1, Obter medidas de desempenho do canal, o atraso fim a fim, jitter, taxa de perda de pacotes, tamanho de rajada.

Etapa 2, de posse das medidas de desempenho do canal, utilizar esses dados como entrada para um modelo de estimação de QoS.

Nesse trabalho, utilizamos uma rede neural (ver Apêndice A3) treinada para estimar o QoS percebido pelos usuários a partir das medidas obtidas na etapa 1.

Etapa 3, com as estimativas de QoS percebidas pelos usuários, que foram obtidas na etapa 2, construir a Cadeia de Markov do Modelo descrita, onde as taxas de transição são obtidas a partir das estimativas de QoS.

Utilizar o modelo para analisar qual o resultado esperado do Jogo, quais são pontos de equilíbrio de Nash e a eficiência dos equilibrios.

Deve ser ressaltado que a metodologia proposta é geral o suficiente para ser aplicada a outros contextos, diferentes de aplicações VoIP e redes sem fio.

Vamos descrever com mais detalhes cada etapa da metodologia, já relacionando com o cenário.

As Medidas de Desempenho.

Com o objetivo de estimar as medidas de desempenho (ex, taxa de perdas, atraso fim a fim, jitter, tamanho médio da rajada de perda) em todos os estados do modelo, utilizamos 2 abordagens complementares, emulamos ativamente fluxos de voz na rede real ilustrada utilizando o Tangram-II TraficGenerator, simulamos a rede sem fio e os fluxos VoIP através do Network Simulator 2.

A primeira abordagem é utilizada para obter dados da rede real, e verificar da maneira mais precisa possível quais são as medidas de desempenho.

Entretanto, essa abordagem têm um maior custo para aquisição, devido a cuidados necessários para evitar alguns problemas (interferências externas, problemas de equipamento) e ao tempo necessário para gerar as medidas.

A segunda abordagem complementa a primeira, na medida em que é mais rápida e prática para obter as medidas de interesse, sendo que é necessário cuidado para verificar se a simulação consegue capturar os aspectos relevantes do sistema real que estamos investigando.

De maneira geral, utilizamos a primeira abordagem para realizar uma investigação inicial e levantar dados empíricos sobre o problema, e utilizamos esses mesmos dados para calibrar os parâmetros de simulação da segunda abordagem, para a partir daí realizar uma investigação um pouco mais ampla, embora menos precisa.

Descrevendo com mais detalhes sobre o que é feito em cada abordagem para obter medidas de desempenho do canal, na primeira abordagem, procuramos emular da forma mais fiel possível o cenário.

Para cada combinação de taxas (ou seja, para cada estado do modelo proposto), repetimos o seguinte procedimento.

Executamos seis instâncias do gerador de tráfego, e seis instâncias do receptor.

Injetamos tráfego na rede ajustando o intervalo de tempo entre a geração dos pacotes e o tamanho dos mesmos a valores similares aos observados na aplicação de voz VivaVoz para a combinação de taxas em questão.

Medimos então a taxa de perda de pacotes, o tamanho médio da rajada de perdas de pacotes, o jitter e o atraso fim a fim (one way delay) em cada um dos fluxos emulados.

Tudo isso apenas no nível de aplicação.

Na segunda abordagem, simulamos o cenário no Network Simulator 2.

O simulador gera um arquivo de registro contendo todas informações necessárias para adquirir as medidas de interesse na camada de aplicação, além de fornecer informações extras sobre o que ocorre em outras camadas da pilha de protocolo, como por exemplo o MAC do IEEE80211.

Embora esse simulador possibilite uma investigação mais ampla, ele simplifica muito alguns aspectos relevantes da simulação, como por exemplo o canal físico da rede sem fio.

Uma vez obtidas as medidas de desempenho para cada um dos estados do modelo, é necessário estimar em função delas a QoS percebida pelos usuários.

Para tal, utilizamos uma metodologia chamada PSQA, que utiliza uma Rede Neural Randômica (RNN) (e).

A qualidade do fluxo de voz é caracterizada pelo MOS (mean opinion score), que varia de 1 (qualidade inaceitável) a 5 (excelente).

Em particular, a rede neural utilizada foi especialmente treinada para calcular o MOS experimentado por usuários da ferramenta de voz VivaVoz.

A RNN estima o MOS percebido pelo mesmo, tendo como entrada o codec e o mecanismo de FEC adotados pelo usuário além das medidas de desempenho do canal, isto é, taxa de perda, tamanho médio da rajada de perda, jitter e atraso fim a fim.

No apêndice A, são apresentadas outras possibilidades de avaliação de qualidade de voz e a motivação da escolha da Rede Neural de e para essa finalidade.

De uma forma mais técnica, a medida MOS que estimamos utilizando a Rede Neural é do tipo MOS-CQON, ou seja, MOS de qualidade de voz de conversação (interativo), estimado por um modelo preditivo preciso e para avaliação do sinal em banda estreita.

No entanto, ao longo do texto vamos nos referir a essa medida MOS-CQON apenas como MOS.

Ilustram a saída da RNN.

Temos a estimativa de MOS percebido pelo usuário em função da taxa do codec (Speex) e da taxa de perdas na rede (todos os demais parâmetros fixos).

Quanto menor a taxa de perda, e quanto maior a taxa do codec, maior o MOS.

De posse da estimativa da qualidade de voz percebida por cada usuário para cada uma das combinações das possíveis taxas, vamos utilizar o modelo proposto para investigar a existência de equilíbrios de Nash.

Caso exista mais de um ponto de equilíbrio, tentamos entender como se dá a seleção de um dentre estes pontos por parte dos usuários.

Para auxiliar na análise do modelo, vamos utilizar a ferramenta Tangram2 para fazer simulações, análise transiente e em estado estacionário do modelo parametrizado.

Esse capítulo apresenta resultados adquiridos ao longo do trabalho desenvolvido, seguindo a metodologia descrita.

A seguir será descrito a estrutura deste capítulo.

Vamos apresentar resultados obtidos por emulação dos fluxos VoIP, que foram apresentados em.

Vamos apresentar vários resultados complementares, que foram obtidos através de simulação.

Para modelar o canal compartilhado pelos usuários realizamos medições ativas na rede.

Entretanto foi necessário limitar o número de taxas que iremos investigar.

Durante o experimento, um total de 30 taxas diferentes poderiam ser utilizadas através da ferramenta Vivavoz.

Entretanto, o CODEC PCM não aparece no resultado final em nenhum dos experimentos apresentados, e portanto seria razoável retirá-lo da lista de taxas investigadas.

Por outro lado, se supormos que os CODECS GSM e SPEEX 142 possuem qualidade similar, podemos então utilizar apenas o CODEC SPEEX.

Isso é conveniente não apenas para limitar as taxas estudadas, mas também porque a rede neural que utilizamos nesse trabalho foi treinada para avaliar apenas o CODEC SPEEX.

De qualquer forma, isso ainda nos trás o problema de ter 24 taxas distintas, o que é proibitivo em termos de tempo necessário para emular ou simular os fluxos VoIP.

Para reduzir esse número de taxas (taxa de dados do CODEC + FEC) utilizadas nesse estudo, dividimos as 24 taxas em 3 grupos de taxas, no grupo de taxas baixas, grupo de taxas médias e grupo de taxas altas, e escolhemos em cada grupo um valor de taxa que fosse representativo daquele grupo.

Apresenta as 3 taxas que foram selecionadas para esse estudo inicial e qual a faixa de valores de taxa que esta representa.

Com o auxílio de um simulador, são exploradas outras possibilidades de combinação de 3 taxas, 4 taxas e 5 taxas distintas e disponíveis para os usuários.

A primeira medida de interesse é a capacidade efetiva.

Para calculá-la, injetamos na rede fluxos de dados com taxas cada vez maiores, e medimos a vazão (goodput) a cada acréscimo.

Podemos observar uma tendência inicial de crescimento da vazão em função da taxa injetada.

No entanto, há um momento de saturação.

Quando a taxa agregada injetada no canal ultrapassa o valor de 180 Kbps, a vazão passa a oscilar em torno de 157 Kbps, e concluímos que esta é aproximadamente a capacidade efetiva do canal.

Para ilustrar algumas das dificuldades encontradas ao se realizar medições em uma rede sem fio.

Apresentamos os resultados de uma emulação por 6 horas do cenário envolvendo 6 hosts que enviam dados a uma mesma taxa de 336 Kbps.

As curvas representam a média acumulada da fração de perdas de pacotes, para cada um dos hosts.

Em primeiro lugar, não está claro se após 6 horas os fluxos convergem para um estado estacion ário.

Isto significa que oscilações do sistema em função de complexos fatores fora de nosso controle, como interferência externa, drivers instáveis e desvanecimento do sinal, podem causar um impacto nas medidas.

Segundo, apesar de os 6 hosts enviarem dados a uma mesma taxa, eles apresentam frações de perda de pacotes distintas.

Esta assimetria (também documentada por entre outros) está relacionada à distância entre os hosts e o ponto de acesso, e às paredes e obstáculos que dificultam a propagação do sinal.

Apesar destas complicações, é possível tirar algumas conclusões a partir das medições, conforme descrevemos a seguir.

Como nosso principal objetivo é analisar os conflitos de interesses entre os usuários de uma rede, é fundamental compreendermos o impacto das ações de um usuário sobre os outros.

Vamos para isto emular o que ocorre quando um usuário mantém sua taxa fixa e igual, enquanto os demais cinco variam progressivamente suas taxas dentro de três níveis, baixa, 20 Kbps, média, 336 Kbps e alta, 475 Kbps.

Linhas cheias representam métricas do host que mantém a taxa fixa.

As métricas escolhidas para serem exibidas nos gráficos são o atraso fim a fim e a vazão.

Isso se deve ao fato de que para o presente estudo, essas métricas são as que mais impactam no QoS percebidos pelos usuários (as outras métricas, como jitter e tamanho médio de rajada tem pouco impacto no valor final de MOS estimado pela RNN).

Vamos primeiramente analisar o cenário em que o host 6 fixa sua taxa, e os demais usuários variam suas estratégias.

Podemos notar que, quando a taxa de dados agregada injetada no sistema aumenta, o atraso experimentado pelo host 6 aumenta e a sua vazão diminui sutilmente.

O atraso experimentado pelo host 6 é muito similar ao percebido pelos outros hosts repare as aglomerações de pontos em torno da linha cheia.

Uma conseqüência particular é que o canal é simétrico em relação ao atraso, dado um par de hosts A e B, o atraso de A para B é muito próximo ao atraso no sentido contrário.

Quanto à vazão, podemos identificar claramente três faixas, associadas às taxas baixa, média e alta disponíveis para cada um dos hosts.

A vazão do host 6 é, em geral, menor que a dos demais (note a disparidade entre a linha cheia e os pontos dispersos).

Todos os 6 hosts usam a taxa baixa e experimentam a mesma vazão (6 pontos praticamente unidos).

Caminhando para a direita, na medida em que os hosts de 1 a 5 aumentam suas taxas, a vazão deles aumenta, e a do host 6 diminui.

No extremo direito, quando os hosts de 1 a 5 adotam a taxa máxima, a vazão deles é maior do que no extremo esquerdo, porém a do host 6 é menor.

Para cada valor da taxa agregada a partir de 140 Kbps, os pontos de ordenada mais alta mostram uma tendência de declínio (linha pontilhada).

Este declinío reflete o fato de que quando a taxa agregada do sistema aumenta, a maior vazão experimentada por qualquer um dos hosts diminui.

Temos claramente um conflito de interesses, do ponto de vista individual, cada host pode aumentar sua vazão, incrementando sua taxa, do ponto de vista coletivo, quando um host aumenta sua taxa, ele gera uma externalidade negativa nos outros hosts, fazendo com que a vazão destes últimos diminua.

O cenário em que o host 1 fixa sua taxa em 475 Kbps é análogo ao descrito acima, embora a vazão diminua mais bruscamente do que no cenário anterior.

Para a taxa agregada de 260 Kbps, a vazão do host 1 cai de 476 Kbps para 3666 Kbps (1094 Kbps de queda, valor que corresponde a 22% do valor nominal de 476 Kbps).

Para o cenário, com taxa fixa em 200 Kbps, a vazão do host 6 cai a 128 Kbps (72 Kbps de queda, valor que corresponde a 38% do valor nominal de 20 Kbps) para a taxa agregada de 260 Kbps.

Até o momento, analisamos separadamente a vazão e o atraso no sistema, vamos agora analisar, com auxílio de uma rede neural randômica (RNN), o impacto conjunto destes e mais quatro fatores na qualidade de serviço (MOS) percebida pelos usuários.

No contexto da metodologia proposta, as medidas de MOS serão usadas para alimentar o modelo de decisão dos usuários.

Por ora, vamos analisar um subconjunto dos resultados obtidos nesta etapa do processo.

Foi arbitrado que vamos observar com mais atenção o Host 1, verificando como a sua qualidade de serviço degrada, conforme os outros usuários aumentem as suas próprias taxas.

Fica óbvio que conforme os outros usuários aumentam a sua taxa, e por conseqüência a taxa agregada do sistema aumenta, o MOS percebido pelo Host 1 decai.

O decaimento atinge valores abaixo de 26.

Embora isso seja comum aos 3 gráficos, vamos nos concentrar nas diferenças entre esses gráfico, que serão descritas a seguir.

É possivel observar que, se o Host 1 fixar a sua taxa em 20 Kbps (taxa baixa), este sempre vai perceber um MOS abaixo do valor de 26.

Isso significa que mesmo quando o congestionamento é inexistente ou moderado, a qualidade de serviço será ruim.

Outra constatação é que do ponto de vista de equidade, o Host 1 perceberia uma qualidade de serviço que é inferior ou similar aos dos outros Hosts.

O Host 1 fixa a sua taxa em 336 Kbps (taxa média) e irá perceber uma razoável qualidade de serviço (MOS acima de 31) na faixa de taxas agregadas de 130 a 160 Kbps.

Conforme a taxa agregada aumenta, a qualidade de serviço degrada.

A partir de 220 Kbps, o MOS percebido está abaixo de 26.

Mostra o Host 1 com a sua taxa fixa em 467 Kbps (taxa alta).

Embora numa faixa de taxa agregada entre 147 e 160 Kbps a qualidade percebida seja um pouco acima de um MOS de 30, nas demais faixas, o MOS é sempre inferior a esse valor.

Com isso, pode-se concluir por estes gráficos que os outros usuários podem reduzir o MOS de outros usuários, aumentando a sua própria taxa.

Por outro lado, utilizar apenas uma taxa baixa pode implicar em receber uma qualidade inferior ao dos outros usuários.

Entretanto, mesmo que se utilize apenas uma taxa alta ou taxa média, é apenas numa faixa estreita de taxa agregada (130 a 160 Kbps) que o Host 1 percebeu um MOS acima de 30.

Para que o modelo seja computacionalmente tratável agregamos o espaço de estratégias em 3 classes, em função das taxas, de forma que estratégias com taxas semelhantes sejam agrupadas na mesma classe.

Para identificar o impacto da posição do AP nos resultados do experimento, realizamos medições considerando quatro posições distintas.

Ilustramos os 4 diferentes posicionamentos do AP e os pontos de equilíbrio estimados pelo modelo.

O estado (n1, n2, n3) corresponde a n1, n2 e n3 usuários adotando as taxas alta, média e baixa, respectivamente.

Para obter estes resultados, usamos os seguintes parâmetros do modelo, L = 26, = 1012 e ©(x) = x.

Lembrando que L representa um limiar mínimo de qualidade (MOS) aceitável para um usuário, é a taxa de erro.

Em cada uma das 4 posições do AP, a análise apontou a existência de 2 equilíbrios de Nash, que são os estados da Cadeia de Markov (0,6,0) e (0,0,6).

O equilíbrio em (0,6,0) representa o caso que todos os usuários utilizam a taxa média, e haveria um congestionamento moderado.

O equilíbrio de Nash em (0,0,6) significa que todos os usuários utilizam a taxa mais alta, e o sistema estaria sofrendo de um congestionamento excessivo.

O equilíbrio de Nash selecionado com o modelo é, em todos os cenários, menos um, aquele em que todos os usuários adotam a taxa média, injetando na rede uma taxa agregada de 2016 Kbps, um pouco superior à capacidade efetiva da rede.

A exceção é o cenário 3, que apresenta probabilidade não desprezível para o equilíbrio de Nash em (0,0,6), embora essa probabilidade seja de 014, e para o equilíbrio de Nash em (0,6,0) a probabilidade seja de 086.

Ordenamos as 28 configurações do modelo de forma crescente em função da estimativa do MOS médio dos usuários (obtida através da RNN).

A fim de compararmos o resultado do modelo com o do experimento, para mapear as estratégias observadas durante o experimento nas 3 estratégias representadas no modelo.

Os critérios para se fazer esse mapeamento foram 21.

Critério 1.

Taxa Agregada, verificamos se a taxa agregada injetada no sistema por uma configuração do modelo era semelhante ao observado experimentalmente.

Esse é o critério mais importante, pois assim sabemos que as condições de rede são semelhantes.

Assim, indicam que as taxas agregadas estão entre 135 Kbps a 160 Kbps, então uma configuração como por exemplo (1,1,4), cuja taxa agregada é de 2435 Kbps não poderia ser considerada.

Fazendo esse tipo de seleção, as configurações que satisfazem plenamente esse critério são (6,0,0), (5,1,0), (4,2,0), (5,0,1), (3,3,0),(4,1,1).

Critério 2.

Taxas Individuais, as 3 taxas escolhidas representem faixas de taxa e essa informação foi utilizada para se estabelecer um mapeamento entre as taxas apresentadas e as configurações que satisfaçam o critério 1, de taxa agregada.

Mesmo que outras configurações sejam melhores aproximações sob o critério 2, não utilizaremos configurações cuja taxa agregada seja muito maior ou muito menor do que o observado experimentalmente.

Isso porque se uma configuração tem taxa agregada muito maior ou menor, espera-se que as medidas de desempenho da rede sejam muito diferentes para uma comparação justa.

Destacamos com círculos os pontos de convergência dos usuários do experimento real obtidos através dos critérios 1 e 2 citados acima, e com um quadrado o equilíbrio de Nash selecionado pelo modelo.

Notamos dois fatos relevantes.

Em primeiro lugar, observamos que os usuários convergiram para os estados que apresentam MOS médio mais elevado.

Isto contrasta com alguns resultados da Teoria dos Jogos, onde há perda de eficiência significativa devido à falta de coordenação entre os usuários.

Em segundo lugar, o ponto de equilíbrio do modelo situa-se na zona de MOS elevado, mais precisamente, na mesma faixa dos pontos de convergência experimentalmente observados.

Isto mostra uma excelente concordância do modelo com os resultados práticos, apesar da sua simplicidade.

Mostramos a existência de um equilíbrio de Nash numa região de congestionamento moderado e outro equilíbrio indicando um congestionamento excessivo.

O modelo selecionou o Nash mais eficiente (recebendo probabilidade 10 em estado estacionário).

Entretanto algumas perguntas surgem, os resultados permanecem inalterados caso utilizemos outras combinações de taxa (um tipo de codificação de voz e um esquema de FEC) distintas e disponíveis aos usuários.

Qual a sensibilidade do modelo em relação ao parâmetro L.
Como interpretar o modelo em relação aos experimentos reais.

A abordagem da seleção de equilíbrios de Nash a partir da análise em estado estacionário pode nos mostrar qual equilíbrio é mais robusto (dada uma certa parametrização do modelo), mas como é a bacia de atração (conjunto de condições iniciais que convergem para um atrator) desses equilíbrios? A resposta a algumas dessas perguntas pode ser obtida a partir de uma investiga ção mais ampla de novas combinações de taxa e a partir da análise transiente do modelo proposto.

Para tal tarefa, utilizaremos o simulador Network Simulator 2 para avaliar o cenário de rede sem fio através de simulação, e o Tangram2 para analisar o transiente e o estado estacionário da Cadeia de Markov obtida a partir da metodologia.

A seguir apresenta uma comparação de dados obtidos por simulação e emulação (isto é, injetando fluxo de voz em uma rede real) de fluxos VoIP no cenário considerado.

Apresenta a análise para diversas combinações de taxas disponíveis aos usuários.

Simulamos o cenário descrit com o Network Simulator, com as mesmas 3 taxas (20 Kbps, 33 Kbps, 47 Kbps) utilizadas.

Cada combinação de taxa (cada estado do modelo) é simulada 30 vezes, com um tempo de simulação de 300 segundos.

A média e o intervalo de confiança de 95% foram calculados para as métricas de interesse.

No entanto, os intervalos de confiança calculados são pequenos se comparados ao valor da média, e não serão apresentados.

O cenário simulado é idealizado, uma vez que as estações estão equidistantes do ponto de acesso, dispostas em um círculo de raio 5 metros (aproximadamente a distância no sistema real para cada estação), não há interferências externas (o que apesar de todos os cuidados, é difícil de garantir no experimentos real), e o canal físico é modelado de forma simplificado pelo shadowing model (ver).

A partir da análise de medidas como taxa de perda média, tamanho de rajada médio, atraso fim a fim e jitter, utilizamos a Rede Neural para estimar o MOS.

Essas medidas foram então comparadas com algumas medidas de desempenho que obtivemos ao investigar o sistema real.

Apresenta a vazão do sistema quando 6 fluxos a taxa constante são injetados na rede sem fio, sendo que apresentamos a vazão obtida no sistema real (utilizando um AP real), e a vazão do sistema simulado.

Em ambos os casos, temos a taxa injetada no sistema sendo gradualmente aumentada, e em certo ponto, vemos que o sistema satura em um valor máximo de dados que consegue transportar, que está em torno de 160 Kbps (medidos no nível de aplicação).

A maior diferença entre as curvas e é que a simulação apresenta poucas ou nenhuma perdas quando a taxa agregada de dados injetada está abaixo de 160 Kbps, enquanto que nos dados do sistema real, há uma taxa de perda de pacotes maior, que reduzem um pouco a vazão nessa mesma faixa.

Esse fato vai se refletir, já que isso implica que no início de cada gráfico, haverá algumas diferenças ao compararmos os resultados de simulação e emulados na rede real.

São apresentas as medidas de taxa de perda média, vazão individual, atraso fim a fim e MOS, respectivamente.

Cada um dos gráficos mostra como essas medidas variam em função da taxa agregada injetada no sistema, e também em função das seguintes 3 estratégias, a primeira estratégia é sempre utilizar a menor taxa, a segunda estratégia é sempre utilizar a taxa média, a terceira estratégia é sempre utilizar a taxa alta.

O objetivo desses gráficos é mostrar que uma vez que um usuário fixe a sua taxa, qual será o impacto nas suas medidas (taxa de perda, atraso, MOS) conforme a rede esteja cada vez mais saturada (ou seja, conforme outras estações aumentam a taxa).

Na simulação, para uma mesma taxa agregada injetada, as 3 estratégias apresentam taxa de perda média muito similares (no gráfico, os pontos referentes a medidas simuladas estão quase que sobrepostos), e por outro lado, é possível ver que nos dados medidos há uma dispersão um pouco maior (os gráficos sugerem que quem utiliza a taxa de dados mais alta tem uma taxa de perda um pouco maior).

Temos uma informação complementar, pois apresentamos a vazão individual para o usuário que escolhe uma das 3 taxas (20 Kbps, 33 Kbps, 47 Kbps).

Pode-se perceber que o atraso fim a fim médio da simulação sobe ao patamar de 150 ms quando a taxa agregada injetada está em torno de 147 Kbps, o que somente ocorre nas medições a partir de 160 Kbps.

Na simulação, sem congestionamento e devido a curta distância (5 a 10 metros) entre as estações e o ponto de acesso, dificilmente há quadros perdidos no canal físico por problemas de desvanecimento do sinal ou colisão, e mesmo que esses eventos ocorram, os dados de simulação indicam que o esquema de retransmissão de quadros de dados do IEEE80211 garante que todos os pacotes são entregues.

Esse esquema de retransmissão foi ajustado para retransmitir até 4 vezes o mesmo quadro, o que é um valor comum nos equipamentos comerciais, incluindo os utilizados nos experimentos.

Isso explica porque há poucas perdas de pacotes no nível de aplicação durante a simulação (embora haja perdas de quadros no nível de canal físico), quando a taxa agregada injetada no sistema é menor que 160 Kbps.

Por outro lado, as retransmissões implicam que um mesmo quadro ocupou o canal diversas vezes, reduzindo a banda efetiva do sistema de transmissão e aumentando a ocupação das filas, o que explicaria um aumento no atraso fim a fim a partir de 147 Kbps.

Essas análises foram feitas nos dados de simulação pela facilidade que se tem em analisar as várias camadas de protocolo e a interação destas.

Podemos monitorar em que camada os quadros/pacotes estão sendo perdidos, por exemplo, as simulações indicam que a quase totalidade de dados perdidos ocorre no descarte de pacotes na fila do ponto de acesso.

O mesmo tipo de análise não é possível no sistema real sem a ajuda de aparato especializado para obter medidas nas diversas camadas, o que dificulta a explicação e análise dos dados medidos.

Finalmente, analisando a medida MOS, percebe-se que as diferen ças entre os dados simulados e emulados é observada nas medidas de MOS de forma mais significativa na faixa de 120 Kbps e 147 Kbps.

Lembrando que esses dados são referentes ao caso em que avaliamos as combinações das taxas de 20 Kbps, 33 Kbps e 47 Kbps para 6 fluxos de dados injetados no sistema.

Cada uma dessas taxas representam respectivamente as taxas injetadas pelo SPEEX 6, SPEEX 142 (12) e SPEEX 142.

A partir desses resultados, concluímos que o simulador pode nos oferecer uma boa aproximação dos dados obtidos no sistema real via emulação de fluxos, embora os resultados estejam sendo obtidos com um modelo simplificado.

Obviamente há algumas discrepâncias (quase não há perdas de pacotes a nível de aplicação) na faixa em que o sistema opera com pouco ou nenhum congestionamento.

Isso poderia ser creditado por exemplo a problemas de obtenção de métricas no caso emulado, em que não é possível isolar o ambiente de testes de interferências externas, existem interações mais complexas entre o canal físico e o MAC IEEE80211, entre outros problemas.

É possível minimizar esses problemas, monitorando possíveis fontes externas de interferência e realizando medições em horários de baixa atividade.

Entretanto, sem o aparato necessário para averiguar como e em que circunstâncias um pacote está sendo descartado no ambiente real, é difícil de afirmar o que a simulação está deixando de capturar ao utilizar um modelo idealizado.

Estimativa de MOS (de 1 a 5) para 3 tipos de estratégia em função da taxa agregada aplicada ao sistema.

Estratégia Baixa Taxa, sempre utiliza a taxa baixa.

Tipo Média Taxa, sempre utiliza a taxa média.

Tipo Alta Taxa, sempre utiliza a taxa alta Com apoio de simulação, vamos investigar diversas combinações de taxa e veri ficar quantos equilíbrios de Nash surgem, qual é a eficiência deles em relação a qualidade de MOS percebida pelo usuários nesses equilíbrios e qual a taxa agregada aplicada ao sistema em cada equilíbrio.

Simulamos com o Network Simulator 2 o cenário da rede sem fio, e a partir das medidas de interesse, estimamos o MOS percebido pelos usuários em cada estado do modelo proposto.

Utilizamos diversas combinações de 3 taxas, 4 taxas e 5 taxas.

De forma geral, os resultados obtidos pelo modelo proposto de Teoria dos Jogos indicam que na faixa de 138 Kbps a 168 Kbps, as diferentes combina ções de taxa evidenciam um ou mais equilíbrios de Nash nessa região(em nossa modelagem, equilíbrios de Nash são estados da Cadeia de Markov cuja taxa de saída é da ordem de), em que o congestionamento não é severo, e o MOS está acima de 330.

A única exceção é a segunda combinação, no qual somente existe um único Nash que está na faixa ineficiente (congestionamento severo e MOS de 227).

Outra observação interessante é que os equilíbrios na faixa de 138 Kbps a 168 Kbps não são todos do tipo em que uma única taxa é utilizada por todos, de forma que isso causa uma assimetria na qualidade percebida pelos usuários.

Por exemplo, combinação 1, o estado (4,0,2,0), possui 4 usuários na taxa mais baixa que percebem um MOS de 35633 e 2 usuários que utilizam a segunda taxa mais alta e percebem um MOS de 42271.

Essa assimetria não é inesperada, uma vez que, pela modelagem, um usuário não tem como saber a qualidade de servi ço dos outros, apenas a sua própria e os incentivos para mudar sua própria taxa.

Esse tipo de situação, em que não há informações sobre os outros jogadores é dita livre de inveja (envyfree), uma vez que mesmo que a partilha de recursos não seja feita com equidade, ainda assim as partes estão satisfeitas, por não saber que outros jogadores ganharam vantagens a mais.

Outra observação interessante é que em todas as combinações de taxa utilizadas temos um equilíbrio de Nash em que todos utilizam a maior taxa possível e o sistema opera com um congestionamento severo, na qual a qualidade de voz para todos os usuários é muito baixa, abaixo de um MOS de 25.

Esses dados são interessantes por reforçar os resultados, onde os dados foram obtidos por emulação e para uma única combinação de taxa.

De forma qualitativa, há uma tendência de que haverá um (ou mais) equilíbrio(s) de Nash numa região menos congestionada e portanto mais eficiente do ponto de vista da utilização de recursos do sistema para prover um serviço VoIP.

E também um equil íbrio de Nash não eficiente, no qual o sistema opera sob um congestionamento excessivo e a qualidade de serviço para todos os usuários é muito ruim.

Isso por sua vez também reforça a necessidade de se utilizar o modelo proposto, para nos auxiliar no problema de seleção de equilíbrios de Nash.

Utilizamos a distribuição em estado estacionário, para um valor de L específico, para analisar o problema de seleção de equilíbrios.

Vamos analisar 3 casos diferentes.

Essa análise também vai ser feita utilizando valores de L iguais a 0, 25 e 30.

Apenas 3 taxas distintas estão disponíveis na modelagem, e existem 2 equilíbrios de Nash, um representado pelo estado (0,6,0), onde todos utilizam a taxa média, e o estado (0,0,6), onde todos utilizam a taxa alta.

Apresenta o MOS percebido por um usuário que utilize uma das 3 taxas, em cada estado do modelo.

Os estados estão ordenados em ordem crescente (da esquerda para a direita) de taxa agregada injetada no sistema.

É visível nas curvas que em um mesmo estado, quem utiliza uma taxa menor recebe uma qualidade menor.

No entanto, se nos primeiros estados, de menor taxa agregada, um usuário aumentar a taxa não incorre em queda de desempenho para todos.

A partir do estado (3,2,1), o aumento da taxa agregada implica em uma queda do valor de MOS para todos os usuários, pois o sistema passa a ficar congestionado.

É nessa região, que surge um equilíbrio de Nash em (0,6,0), onde se um usuário aumentar da taxa média para uma taxa alta em (0,5,1) resulta em uma degradação tal que a qualidade ficaria pior para quem aumentou a taxa.

Por outro lado, se alguém reduzir a taxa, o que é representado pelo estado (1,5,0), a qualidade para este usuário é pior também.

Entretanto, a partir da taxa agregada de 224 Kbps, ou a partir do estado (3,0,3), volta a haver incentivos para apenas aumentar a taxa para a taxa máxima.

Essas considerações são melhor observadas, onde explicitamente estamos observando os incentivos que um usuário tem para mudar a sua taxa (obviamente incentivos negativos mostram que haverá perdas de qualidade caso a nova taxa seja adotada).

O gráfico 415 mostra claramente que existe uma região de congestionamento moderado, onde há incentivos para mudar da taxa alta para a média, e é nessa região que se localiza o equilíbrio de Nash representado pelo estado (0,6,0).

No entanto, numa região de baixo congestionamento, e numa região de alto congestionamento, os incentivos sempre são maiores para se aumentar para a taxa máxima.

Gráfico de MOS em cada estado para a combinação 1 de taxas.

Cada curva representa o MOS percebido por um usuário que fixe a sua taxa em 8Kbps(taxa baixa), 28Kbps (taxa média) ou 60Kbps(taxa alta).

Os equilíbrios de Nash são marcados com um triângulo.

Quem utiliza a taxa baixa sempre tem incentivo para aumentar de taxa.

Para visualizar melhor em que condições existem ganhos ou perdas quando um usuário aumenta a sua taxa individual de média para alta, foram desenhados no gráfico símbolos 0o0, que medem o valor de MOS que um usuário perceberia, caso aumentasse a sua taxa de média para alta.

Como nem sempre o símbolo 0o0 está acima do nível atual de MOS percebido, significa que não é em qualquer estado da Cadeia de Markov que um usuário obtém ganhos ao aumentar a taxa.

Nos ajudam a entender como ganhos obtidos em cada estado do modelo podem variar em função da taxa utilizada e da taxa agregada injetada.

Em especial, é interessante notar que indica que em uma região de maior taxa agregada, sempre vale a pena para um usuário aumentar a sua taxa (a partir de 172 Kbps).

Isso significa que nessa região, um usuário sempre eleva um pouco o seu próprio MOS se aumentar a sua taxa e congestionar ainda mais o sistema.

Essa situação possui um paralelo interessante com outro problema muito estudado em Teoria dos Jogos, que é chamado de Tragédia dos Comuns (ver por exemplo o problema da Tragédia dos Comuns e o protocolo TCP em, e artigos sobre poluição e aquecimento global).

A principal característica da Tragédia dos Comuns é que um jogador egocêntrico pode sempre aumentar seu próprio ganho se utilizar mais de um recurso livre, embora isso reduza a quantidade (e a qualidade) desse recurso para todos.

Essa tragédia tem como resultado esperado o colapso do sistema, a utilização excessiva dos recursos do sistema que resultam em um ponto de equilíbrio muito ineficiente.

Essa analogia com a Tragédias dos Comuns não é perfeita, já que indica que existem estados da Cadeia em que um usuário não ganha ao aumentar a sua taxa de média para alta (de 128 Kbps a 172 Kbps de taxa agregada).

Ou seja, existem estados do sistema em que é benéfico para um indivíduo não sobrecarregar o sistema.

Mas o que o modelo teórico de Jogos pode nos dizer a mais sobre esse tipo de problema? Primeiramente vamos fazer uma análise.

Montando a matriz geradora infinitesimal, podemos analisar um sistema de equações diferenciais que descrevem as probabilidades que descrevem a probabilidade de estarmos no estado i no instante t.

Vamos verificar se haverá uma dinâmica, em que esperamos observar 4 fases distintas na dinâmica, dinâmica de curto prazo, equilíbrio de curto prazo, dinâmica de longo prazo e equilíbrio de longo prazo.

A primeira pista foi verificar os autovalores da matriz Q, e ordená-los em ordem crescente de seu valor em módulo.

Os 5 menores valores em módulo são (de um total de 28 autovalores distintos).

Com isso, intuitivamente podemos esperar que durante um curto intervalo de tempo, os termos associados aos autovalores 033, 034, 036 e outros autovalores que em módulo excedem em várias ordens de grandeza, decairão rapidamente.

No intervalo de tempo em que restam apenas os termos associados aos autovalores e 0, e o termo associado a não decai significativamente, temos o sistema se comportando como se de fato os conjuntos de estados quasi-absorventes fosse de fato conjuntos de estados absorventes.

Para ilustrar o coment ário, apresenta a solução do sistema para o caso em que = 0, e na observamos o resultado para as mesmas condições iniciais, mas para um valor.

Pode-se observar que nas primeiras 104 unidades de tempo as dinâmicas apresentadas são idênticas, a partir de 104 unidades de tempo, o termo associado ao autovalor começa a finalmente decair, até que obtém a solução em estado estacionário.

Com essas informações, sabemos que para L = 0, podemos explorar esse conceito de equilíbrio de curto prazo.

Como uma solução de curto prazo é dependente das condições iniciais e é similar a analisar o caso em que o modelo realmente possui estados ou conjuntos de estados absorventes, podemos ter uma noção de qual equilíbrio de Nash é atingido primeiro ou com maior probabilidade em um curto prazo de tempo (em função das condições iniciais).

Essa noção é complementar a análise em estado estacionário, cujo resultado é independente das condições inicias, e que nos fornece informações sobre a robustez de um equilíbrio de Nash.

Para elaborar melhor essa análise, vamos averiguar os equilíbrios de curto e longo prazo de (vetor de probabilidades dos estados da Cadeia de Markov) para valores de L iguais a 0, 25 e 30.

Apresenta qual a probabilidade de estar em um dos estados que são equilíbrio de Nash, ao final de um intervalo de tempo de t=1000, dado que a condição inicial é começar no estado i com probabilidade 1.

Os parâmetros do modelo são L = 0.

Podemos observar que o equilíbrio de Nash em (0,6,0) possui pouca estabilidade, uma vez que para todas as condições iniciais (com exceção da condição inicial (0,6,0)) existe uma probabilidade não desprezível de se atingir o equilíbrio em (0,0,6).

Por outro lado, uma vez que o sistema inicie no conjunto de estados de (1,3,2) até (0,0,6), com probabilidade 1 o equilíbrio de Nash em (0,0,6) é atingido ao final do intervalo de tempo considerado.

Em estado estacionário, o equilíbrio em (0,0,6) recebe probabilidade 1, o que é intuitivo, já que esse equilíbrio apresenta uma maior bacia de atração, se comparado ao equilíbrio em (0,6,0).

Apresenta essa análise, para t=1000 unidades de tempo (para t=1000 unidades, indica que foi atingido o equilíbrio dinâmico de curto prazo).

Analisando os autovalores da matriz Q para os parâmetros L = 25 e L = 30, constata-se que para L = 25 ainda haverá um equilíbrio de curto prazo e de longo prazo distintos, pois há um autovalor da ordem de.

Entretanto para L = 30, não há nenhum autovalor que justifique uma análise em diferentes escalas de tempo, e a análise em estado estacionário é a única possível.

Podemos observar que o gráfico é igual ao gráfico, com a exceção de que agora estamos monitorando a seleção entre o equilíbrio de Nash no estado (0,6,0) e um conjunto de estados (2, 1, 3), (1, 2, 3), (0, 3, 3), (2, 0, 4), (1, 1, 4), (0, 2, 4), (1, 0, 5), (0, 1, 5), (0, 0, 6).

Esse conjunto de estados é um subconjunto de estados que foram apontados como estados que sempre atingiam o estado (0,0,6) com probabilidade 1.

Isso demonstra que embora L = 25 instabilize o equilíbrio de Nash em (0,0,6), a massa de probabilidade que antes ele concentrava, agora se espalhou por um subconjunto de estados que faziam parte de sua bacia de atração (que forma um conjunto quasi-absorvente).

Em estado estacionário, esse conjunto recebe probabilidade 1.

No caso de L = 30, acontece o mesmo que ocorreu na análise, onde o equilíbrio em (0,6,0) recebe probabilidade 1 em estado estacionário, e não há equilíbrio de curto prazo, como fica evidente, que em t=1000 unidades de tempo já atingiu o estado estacionário.

As análises feitas para o caso em que há 3 taxas disponíveis aos usuários são aplicadas também ao caso de 4 e 5 taxas.

Qualitativamente, os resultados são muito similares.

Como foi apresentado, para as combinações de 4 ou 5 taxas, foram observados mais equilíbrios de Nash na região de menor congestionamento, embora sempre haja um equilíbrio de Nash em que todos jogam a maior taxa possível.

Entretanto, a análise para os valores de L iguais a 0, 25 e 30 resultam em uma conclusão muito similar ao problema de seleção de equilíbrios no caso de 3 taxas apenas (lembrando que L é o parâmetro do modelo proposto que descreve o limiar mínimo de qualidade aceitável por um usuário).

Para L = 0, temos autovalores da ordem de na resposta no tempo e para uma análise de curto prazo, apresentam os resultados para o caso de 4 e 5 taxas respectivamente.

Nesses gráficos, as condições iniciais estão ordenadas de acordo com a taxa agregada, em ordem crescente de taxa.

Como existem mais equilíbrios de Nash eficientes (embora alguns sejam assimétricos, ou seja, usuários utilizam taxas diferentes), a probabilidade de atingir um equilíbrio de Nash mais eficiente num curto prazo é grande, caso comecemos inicialmente em um estado próximo a um desses equilíbrios.

No entanto, novamente também é possível observar que a partir de um determinado estado, existe uma bacia de atração, onde com probabilidade 1 terminamos no equilíbrio de Nash mais ineficiente.

Em estado estacionário, ambos os casos de 4 e 5 taxas para L = 0 indicam que escolheremos com probabilidade 1 o Nash mais ineficiente (todos na taxa máxima).

Para L = 25, temos que o equilíbrio de Nash se instabiliza e a massa de probabilidade é repartida entre os estados que compõe a sua bacia de atração (como ocorreu no caso de 3 taxas), e ainda podemos analisar o sistema em diferentes escalas de tempo.

Para L=30, apenas os equilíbrios de Nash eficientes concentram massa de probabilidade em estado estacionário, embora alguns desses Nash recebam mais probabilidade do que outros.

Nesse caso, não há autovalores da ordem de, e portanto não há uma dinâmica e equilíbrio dinâmico de curto prazo para se apresentar como nos casos para L = 0 e L = 25.

O resultados de simulação ajudaram a complementar os resultados obtidos.

Com a investigação de várias combinações de taxa e da variação de parâmetros do modelo, é possível averiguar que a existência de equilíbrios de Nash em uma região de congestionamento severo e outra numa região de congestionamento mais brando, são a regra e não a exceção nesse estudo.

Isso nos traz o problema de seleção de equilíbrios de Nash, onde o modelo proposto foi particularmente útil para averiguar diferentes hipóteses (por exemplo o parâmetro L e seu impacto no processo de seleção) que nos ajudam a entender um pouco mais o problema real.

Embora um valor de L no patamar de 30 possa ser uma possível explicação para os resultados dos experimentos com pessoas, o modelo não precisa interpretado literalmente.

Ele nos mostra que faz sentido sob algum critério ex.

L = 30 ou L = 26 que as pessoas joguem numa região de bom desempenho do sistema.

A seguir, vamos apresentar alguns resultados adicionais e também indicaremos novas direções de pesquisa que já estão em andamento ou que poderiam ser abordadas.

No capítulo 5 vamos concluir este trabalho, apresentando as principais contribuições do mesmo.

Coletar uma maior quantidade de dados empíricos se faz necessário se quisermos continuar a melhorar a modelagem da disputa por recursos.

Também é necessário avaliar experimentos que caracterizem de forma mais rica as possibilidades que um usuário VoIP possui, como por exemplo terminação de chamadas caso esta não corresponda as expectativas do usuário.

Para estas finalidades, foram feitos novos experimentos, em que se monitora quais taxas os usuários estão utilizando, quais as taxas de perda, atraso fim a fim experimentado, além de se fazer a gravação dos sinal de voz recebido, entre outros.

Apresentamos uma modificação da ferramenta Vivavoz, na qual é possível criar uma espécie de video game, com o propósito de treinar usuários inexperientes no uso da ferramenta e simular uma situação de congestionamento, basicamente parametrizando um simulador que descarta e atrasa pacotes do fluxo de áudio.

Por último, uma análise preliminar para a inserção de uma nova possibilidade no Jogo que modelamos, em que o usuário que possui alguma expectativa de qualidade mínima e que não é atendido, pode simplesmente sair do sistema e voltar posteriormente.

Mostram dois experimentos com pessoas, similares aos descritos, mas em que não registramos apenas o resultado final, mas também foram registradas a dinâmica de ajuste de taxas ao longo do experimento.

Mostram a taxa injetada por cada participante na rede, a taxa agregada, e o MOS estimado pela Rede Neural.

A rede neural utiliza medidas de perda, atraso, entre outros, que são atualizadas de 5 em 5 segundos.

As análises são feitas posterior ao experimento, e as medidas nos gráficos estão todas normalizadas entre 0 e 1 (a taxa tem valor máximo de 60 Kbps, e o MOS valor máximo de 5).

Apresenta um experimento em que 6 pessoas participam de conversa interativa, e pode-se perceber que ao longo do tempo, a taxa agregada ficou estável em torno de 160 Kbps.

No entanto, no experimento não interativo a taxa agregada atingiu um patamar acima de 200 Kbps e não retrocedeu.

Esse padrão foi observado e repetiu-se algumas vezes, num grupo de usuários inexperientes.

De certa forma, faz sentido que se o sistema atingir um certo ponto de saturação, não valha a pena um indivíduo baixar a sua taxa (o que poderia ser justificado pelas análises feitas).

Para criar alguns testes mais controlados e ajudar a usuários não familiares com a ferramenta a treinar o ajuste de taxas, foi modificada uma versão da ferramenta Vivavoz para que se simule algumas condições de rede.

O simulador pode ser programado para descartar pacotes com determinada taxa de perda e tamanho de rajada (parametrizando um modelo de Gilbert), e atrasando a entrega dos pacotes.

Um sinal de áudio pré-gravado é tocado para o usuário, que pode alterar a taxa.

Mostra um teste, em que a cada minuto as condições da rede mudam, utilizando dados obtidos a partir da simulação no Network Simulator 2 para o caso de 5 taxas, combinação 1.

Os estados do sistema considerados são (5,0,0,0,0), (0,5,0,0,0), (0,0,5,0,0),(0,0,0,5,0), (0,0,0,0,5), para simular o que os outros 5 usuários estão injetando na rede.

Para cada estado do sistema, existe uma taxa que o usuário real pode utilizar que caracteriza a melhor resposta.

Apresenta essa resposta em vermelho, e a taxa que de fato foi utilizada ao longo do tempo.

A idéia é utilizar o modelo proposto para analisar o caso em que deixar de transmitir e sair do sistema é um opção.

Para o modelo ser parametrizado, é preciso que haja algum incentivo para o usuário sair ou entrar no sistema, então é necessário associar a essa opção um valor, mesmo que virtual, de MOS ou algo que sugira uma utilidade esperada por aquele usuário.

Num estudo preliminar, foi arbitrado que um usuário tem expectativa de qualidade mínima de MOS igual a 30.

Caso não obtenha essa qualidade, o usuário tem incentivos para abandonar o sistema.

Para voltar ao sistema, há incentivos apenas se a qualidade exceder o valor mínimo de 30, senão a taxa de saída é da ordem de.

No qual podemos observar que existem muitos equilíbrios de Nash, em que um ou mais usuários saem do sistema, e os que ficam estão satisfeitos com alguma combinação de taxa.

Um exemplo de equilíbrio de Nash é o estado (2,0,0,0,0,4), em que 2 usuários não estão recebendo nada (estão fora do sistema), e 4 usuários utilizam a taxa máxima permitida.

É preciso ainda analisar quais equilíbrios o modelo selecionaria, entretanto esse trabalho preliminar realizado com o modelo é interessante de ser aplicado em experimentos com pessoas, adicionando a opção de desconexão.

A ampla utilização de modelos envolvendo Teoria dos Jogos por parte da comunidade de redes de computadores reflete o interesse em modelar a complexidade sócio-econômica envolvida nos ambientes distribuídos.

Este interesse advém do fato dos mecanismos de compartilhamento de recursos (TCP) implementados nas redes modernas serem adotados pelos usuários de forma completamente voluntária.

A não adesão em larga escala a estes mecanismos pode dar origem a problemas de injustiça e à tragédia dos comuns, um colapso devido ao excessivo congestionamento.

Neste trabalho apresentamos um estudo sobre um cenário de disputa por recursos limitados, onde usuários disputam recursos com o objetivo de maximizar a sua própria qualidade de serviço.

Para esta finalidade, foram apresentadas as seguintes etapas.

Realizamos experimentos com pessoas, em um cenário em que 6 usuários utilizam serviços VoIP em uma rede sem fio IEEE80211b.

Foram realizados experimentos em que se investigou aplicações com interatividade e sem interatividade.

Nas 10 sessões de experimento, foi constatado que a taxa agregada de todos os usuários ao final de cada sessão não ultrapassou o valor de 160 Kbps.

Os resultados indicam que pelo menos nesses experimentos não houve um congestionamento excessivo.

Propusemos uma nova metodologia para investigar esses resultados experimentais.

A metodologia consiste em 3 etapas.

Na etapa 1, é feita uma caracterização do canal por onde os dados trafegaram, obtendo medidas objetivas tais como o atraso fim a fim, jitter, taxa de perda média, tamanho médio de rajada de perda para diversas taxas agregadas diferentes.

Com isso é possível mapear qual o impacto das escolhas dos usuários (entre as taxas disponíveis) nas medidas de desempenho de uma Rede de Computadores, na etapa 2 utilizamos uma rede neural treinada para avaliar a qualidade de serviço (MOS) a partir das medidas obtidas na etapa anterior.

Com isso, podemos estimar qual seria o impacto das escolhas dos usuários (entre as taxas disponíveis) no MOS percebido por cada usuário.

Na etapa 3, com o auxílio de um modelo de Teoria dos Jogos que utiliza Cadeias de Markov para analisar o comportamento dos usuários, obtemos quais resultados de Jogo seriam esperados, utilizando um conceito de solução de Jogo conhecido como Equilíbrio de Nash.

Em especial, esse modelo nos auxilia no problema de Seleção de Equilíbrios de Nash.

Para obter as medidas de interesse utilizamos 2 técnicas, emulação de fluxos na rede real para obter medidas fiéis ao sistema estudado e simulação no Network Simulator 2.

Os resultados via emulação de fluxos indicaram que havia 2 equilíbrios de Nash no sistema.

Um equilíbrio indicando um congestionamento moderado como resultado do Jogo.

Um outro equilíbrio em que o excesso de congestionamento tornava a qualidade de serviço inviável para uma comunicação via VoIP.

É muito interessante que haja um ponto de equilíbrio na região mais eficiente.

Muitos problemas de Teoria dos Jogos possuem soluções que são catastróficas do ponto de vista de sistema (equilíbrios de Nash muito ineficientes), então é motivador o tipo de resultado encontrado.

Utilizando um conceito de qualidade mínima suportada ou esperada por um usuário (o parâmetro L), utilizamos um parâmetro do modelo para instabilizar o equilíbrio de Nash menos eficiente.

Para um dado valor de L o modelo seleciona o equilíbrio de Nash mais eficiente.

Embora L seja apenas uma proposta de modelagem (criada via introspecção), sem uma comprovação emp írica, é interessante que sob algum critério exista uma solução de Jogo em que usuários egocêntricos não tomem decisões que culminem em um colapso de congestionamento, e sim em um equilíbrio em que o congestionamento é moderado.

Os resultados via simulação reforçam os resultados obtidos por emulação de fluxos VoIP.

Investigando um número maior de combinações de taxas e para um valor apropriado de L (a qualidade mínima aceitável), pudemos chegar a resultados muito semelhantes aos anteriores.

Na maioria dos casos estudados, novamente pudemos observar equilíbrios de Nash numa região mais eficiente (menos congestionada) e um equilíbrio de Nash indicando um congestionamento excessivo.

O modelo matemático proposto e o original (ver), foram essenciais para analisar o problema de seleção de equilíbrios de Nash.

Poder analisar o modelo para diferentes escalas de tempo (curto e longo prazo), para obter informações complementares sobre os possíveis resultados do Jogo modelado são uma forma de melhor compreender o problema real.

Todas essas etapas foram necessárias para entender melhor como o sistema estudado reage a níveis crescentes de congestionamento (seu ponto de saturação), como os fluxos de voz são impactados com esses níveis crescentes de congestionamento (alteração na taxa de perda, atraso fim a fim).

Como um nível crescente de congestionamento pode alterar a qualidade de serviço percebida por um usuário (no caso, estimado por uma rede neural), como um nível crescente de congestionamento pode alterar as decisões individuais de Jogadores maximizadores de QoS, no modelo de jogo proposto.

O último item é especialmente delicado de se interpretar.

No mundo real as pessoas não ajustam as suas estratégias de acordo com um processo Markoviano, nem os usuários são perfeitos maximizadores de sua função utilidade (se é que as nossas preferências são realmente consistentes).

Ainda assim, a Teoria dos Jogos e a modelagem proposta cumprem o seu papel em mostrar que sob as hipóteses levantadas, existe lógica para que um maximizador de QoS mantenha-se em um ponto de equilíbrio eficiente.

Para o caso em que a modelagem utilizou L = 0, ou seja, um usuário aceita qualquer qualidade de voz, a Teoria indica que um equilíbrio de Nash mais ineficiente é mais robusto que o outro e concentra a probabilidade em estado estacionário.

Mas isso não impede que seja observado um outro equilíbrio mais eficiente no resultado do jogo.

Numa escala de tempo apropriada e dependendo das condições iniciais, podemos atingir um equilíbrio mais eficiente.

Para L = 30, os nossos jogadores maximizadores de QoS acabam atingindo equilíbrios de Nash mais eficientes, ao reagir imediatamente caso a qualidade de serviço estivesse abaixo de um mínimo.

Essa hipótese não se comprovou empiricamente, mas trás consigo uma mensagem de que pessoas podem reagir a serviços ruins (no mundo real, isso poderia significar fechar um aplicativo que funcionasse mal, terminar uma chamada telefônica mais cedo do que gostaria, entre outras opções que evitassem que a pessoa se sujeitasse a um serviço de qualidade ruim), e fazendo isso, pode-se obter resultados mais satisfatórios para todos os participantes de uma disputa por recursos.

Até a década de 80, a qualidade de voz de telefone era associada a relação Sinal Ruído SNR(Signal-to-Noise Ratio) do sinal de voz.

Essa medida resumia as principais distorções inseridas no sinal de voz, que usualmente estavam associadas ao canal físico (atenuação do sinal, inserção de ruído) ou a efeitos de quantização durante a digitalização do sinal para codificação PCM.

Entretanto, a partir da década 80, a desregulamentação do setor de telecomunica ções em vários países, o crescimento de redes de telefonia celular e da Internet, criam novos desafios para a avaliação de qualidade de voz.

Novas fontes de distorção de sinal de voz (bits invertidos, segmentos de voz faltando, distorção causada por codecs de baixa taxa) tornam inadequado o uso de medidas como a SNR, resultando em uma demanda por novas metodologias de avaliação de qualidade de voz.

A ITU (International Telecommunication Union), uma organização das Nações Unidas respons ável pela padronização e regulamentação no setor de telecomunicações, vem trabalhando na padronização de metodologias de avaliação de qualidade de transmiss ão de voz, que respondam a essas demandas.

Em especial, um grande desafio é a avaliação da qualidade de voz no contexto da tecnologia VoIP (Voice Over IP), que ainda é considerado um problema em aberto.

Nesse Apêndice A, descreve brevemente a tecnologia VoIP, apresenta uma classificação das metodologias existentes e apresenta a metodologia utilizada neste trabalho.

O termo Voz sobre IP ou VoIP (Voice over IP) descreve uma tecnologia, que habilita o uso de serviços tradicionalmente associados a rede de telefonia fixa em sistemas que operam sobre redes de dados IP.

Para essa finalidade, funções atribuídas a redes de telefonia são disponibilizadas em rede IP, para providenciar suporte a endereçamento, tarifação de chamadas, sinalização (exemplo, SIP, H323, MGCP), protocolo de transporte de áudio (exemplo, RTP), codificação/decodificação (codec) de sinais de voz.

Entretanto, não é trivial que uma rede projetada para o tráfego de dados desempenhe as mesmas funções que uma rede especializada em telefonia.

O problema fundamental é que em uma rede de dados IP os recursos são compartilhados, não havendo garantias para a manutenção (durante o tempo de uma chamada) de uma satisfatória qualidade de serviço de voz.

Por esse motivo, muito esforço tem sido feito para desenvolver metodologias de avaliação de qualidade de transmissão de voz em redes IP, com a finalidade de auxiliar em planejamento e monitoramento de VoIP.

Embora aspectos como sinalização, endereçamento, segurança, entre outros, sejam relevantes para o estabelecimento e terminação de chamadas, o escopo desse trabalho se restringe a análise de uma chamada de voz já em andamento entre dois hospedeiros em uma rede IP.

Nesse contexto, serão dados detalhes apenas sobre a transmissão do fluxo de áudio, na seguinte ordem, digitalização do sinal, codificação, encapsulamento e envio através de datagramas IP, processamento no receptor.

Digitalização do sinal, a primeira etapa é a aquisição do sinal de voz analógico, que será digitalizado e processado.

Sinais de voz no sistema telefônico são usualmente filtrados para ocupar uma faixa de freqüência entre 300 Hz e 3400 Hz, e depois são amostrados a taxa 8 kHz (para respeitar o teorema de amostragem).

Essa faixa de freqüência é chamada de banda estreita (voice narrowband).

Para um sinal de voz de melhor qualidade, a filtragem é feita em uma faixa de freqüência mais larga de 50 Hz a 7000 Hz, sendo que a amostragem do sinal é de 16 kHz.

Essa é chamada de banda larga (voice wideband).

Codificação, o objetivo da codificação é representar um sinal com o menor número de bits, mantendo essa representação o mais próximo possível do sinal original.

A codificação de um sinal de voz usualmente é feita através de uma representação de sua forma de onda, por exemplo, codec PCM, ADPCM ou através de codificadores híbridos, por exemplo, CELP,RPE que, por exemplo, utilizam um modelo de predição linear e sinais de excitação para representar um trecho do sinal original.

Opcionalmente, existe a possibilidade de reduzir ainda mais a quantidade de dados transmitidos, com técnicas de detecção de silêncio (VAD, Voice Active Detection) e transmissões descontínuas (DTX, Discontinuous Transmission).

Encapsulamento dos dados e transmissão via UDP/IP, após a codificação, os dados de voz são agrupados em segmentos de voz que representam um trecho do sinal de voz (ex 20 ms ou 30 ms de sinal de voz).

Esse(s) segmento(s) são então enviados através do protocolo UDP/IP para um hospedeiro de destino, usualmente carregando outras informações necessárias para o seu gerenciamento na camada de aplicação (ex número de seqüência, estampa de tempo, codec utilizado).

Internet, as redes IP são uma rede de dados de melhor esforço, ou seja, os pacotes podem ser perdidos, duplicados, podem chegar fora de ordem, com atraso excessivo, atraso variante no tempo, entre outros problemas.

Processamento no Receptor, no receptor (hospedeiro de destino), os pacotes contendo os segmentos de voz e informações extras são armazenados e processados.

Usualmente é no receptor que são implementadas mecanismos que reduzem/minimizam os efeitos de perdas de segmentos de voz e da variabilidade de atraso ((jitter)) na sua entrega, devido a passagem pela rede IP.

A ITU (International Telecommunication Union) é responsável pela padronização de diferentes propostas de avaliação de voz.

Exemplos são as recomendações da ITU-T P800, P862, G107 , P561, P562, P563 e P564.

Mas também existem propostas de empresas (VQMon e da Psytechnics) e acadêmicas (PSQA e).

Cada proposta possui seu escopo e objetivo, por isso é natural que se tente classificar as diversas propostas como em, e.

Em comum, a maioria dessas propostas possui como parâmetro de saída um valor que representa ou pode ser convertida para a medida MOS (Mean Opinion Score).

De maneira geral, a avaliação de qualidade de voz pode ser dividida em avaliação subjetiva e avaliação objetiva, avaliação em banda estreita (voice narrowband), avaliação em banda larga (voice wideband), avaliação de banda mixada, avaliação de conversação, avaliação de ouvinte e avaliação de fala.

A avaliação subjetiva da qualidade de Voz é feita através de experimentos controlados em laboratórios especializados, em que pessoas avaliam a qualidade de voz.

Usualmente a avaliação resulta em notas que quantificam a opinião do usuário em termos de qualidade percebida.

Essas notas são processadas e a média é chamada de MOS (Mean Opinion Score).

A recomendação da ITU-T P800 descreve as várias escalas de notas e procedimentos para os experimentos.

A avaliação subjetiva é custosa em termos de tempo e recursos para a realização de experimentos.

Deve-se ainda ressaltar que o MOS não é considerada uma medida absoluta, e sim dependente das condições dos testes e da expectativa dos voluntários.

A avaliação objetiva da qualidade de voz é feita por modelos de predição de qualidade que se utilizam de conhecimentos empíricos ou psicoacustíca.

Usualmente a saída desses modelos de predição é uma estimativa de MOS, que idealmente deve ser próximo do valor de MOS obtido por avaliações subjetivas sob as mesmas condições.

As recomendações da ITU-T G107 (E-model), ITU-T P862 (PESQ), ITU-T P563 , VQMon , ITU-T P563 e PSQA (e) são exemplos de modelos de avaliação objetiva.

São discutidas 3 possíveis classificações para os modelos de predição, modelos de opinião (ex, Emodel), modelos objetivo na camada de voz (avaliam a voz comparando sinal de voz original e sinal de voz distorcido, ex, PESQ) e modelos bjetivos na camada de pacote (avaliam através de medidas de rede IP (taxa de perdas, jitter), ex VQMon, PSQA e modelos que se adequem a ITU-T P564).

O modelo de opinião é o mais impreciso, e portanto seria utilizado como ferramenta de planejamento, os dois últimos (modelos de camada de voz e pacote) podem ser utilizados para avaliação de desempenho e gerenciamento de uma rede real.

O sinal de voz pode ser de banda estreita (300 Hz, 3400 Hz) ou banda larga (50 Hz, 7000 Hz), ou misto.

Isso influi na qualidade de áudio e também na metodologia de avaliação.

As recomendações da ITU-T G107 (Emodel) e P862 (PESQ) suportam a avaliação de banda estreita e banda larga.

No estado atual, o PSQA e somente avalia o caso de banda estreita.

Por último, a avaliação pode ser feita levando em consideração os aspectos relativos a conversação, aplicações com interatividade, ver também G114, avaliação de ouvinte, aplicações em que não há interatividade e avaliação de fala avalia-se o desconforto causado pelo eco para um palestrante.

Como resultado dessas distintas classificações apresentadas em A21, fica evidente que a medida MOS (ou a sua estimativa) precisa ser melhor definida para o correto entendimento de que tipo de avaliação estamos fazendo.

Para isso a recomenda ção ITU-T P8001 define como é a terminologia correta para cada caso.

De maneira geral temos o termo MOS-ABC, onde o MOS é qualificado por um sufixo.

Onde CQ, LQ e TQ descrevem se a avaliação é de conversação (Conversational Quality), ouvinte (Listening Quality) ou fala (Talking Quality), respectivamente.

S,O,E, descrevem se a avaliação é Subjetiva, Objetiva (ex, PESQ e PSQM) ou Estimada (ex, modelo utilizado apenas para planejamento, G117 Emodel), respectivamente N,W,M descreve se a avaliação é de banda estreita (Narrowband), banda larga (Wideband) ou Mista (Mixed).

Por exemplo, o PSQA (e) produz um MOS-CQON, ou seja, um MOS obtido de uma avaliação de conversação, com um modelo preditivo de qualidade que se correlaciona bem com dados de testes subjetivos, para um sinal de voz de faixa estreita.

O P862 (PESQ) por sua vez tem como saída um MOS-LQON ou MOSLQOW, o que significa que a avaliação é de ouvinte, com um modelo preditivo que se correlaciona bem com dados subjetivos de testes, e pode ser de faixa estreita ou de faixa larga.

A saída do G107 (Emodel) pode ser mapeada em um MOS-CQEN ou MOS-CQEM, ou seja, produz uma avaliação de conversação, de faixa estreita ou faixa larga, e o termo E indica que é apenas para planejamento (devido a baixa correlação com dados de testes subjetivos).

Por último, é importante considerar que mesmo que 2 propostas produzam um mesmo tipo de MOS-ABC, isso não significa necessariamente que eles possam ser utilizados num mesmo cenário.

Por exemplo, os padrões da ITU-T P561 e P562 podem ser utilizados para avaliar MOS-CQON, mas no padrão é ressaltado que isso somente é válido numa rede IP se problemas como perdas de pacotes não forem significativos (a ênfase da ITU-T P561 e ITU-T P562 é avaliação do impacto de eco na conversação e foi inicialmente projetado para redes de telefonia).

Por outro lado a o PSQA (e) produz um MOS-CQON, mas não avalia o impacto de eco na qualidade de MOS.

Outro problema é o CODEC avaliado.

O ITU-T P862 e P563 avaliam a qualidade de voz a partir de sinais de voz gravado, e portanto muitos CODEC diferentes podem ser avaliados sem o conhecimento prévio do CODEC utilizado (ver e para verificar as limitações).

No entanto, o ITU-T G107 (Emodel), VQMon, PSQA, precisam de dados MOS-CQSN, MOS-CQON (dados de testes subjetivos ou estimados pelo ITU-T P862) para calibrar parâmetros.

A3 PSQA (Pseudo-Subjective Quality Assessment) O PSQA (Pseudo Subjective Quality Assessment) é uma metodologia que começou a ser desenvolvida em, para a avaliação de qualidade de fluxos de vídeo em redes IP, mas que provou ser genérico o suficiente para ser então utilizado em para avaliação de fluxo de voz em redes IP, para o caso não interativo.

A metodologia é estendida para um caso mais complexo, em que se avalia VoIP e interatividade.

De uma maneira geral, a metodologia PSQA propõe as seguintes 3 etapas.

Etapa 1, escolha dos parâmetros que afetam diretamente a QoS da aplicação considerada.

Etapa 2, realização de testes subjetivos, ou seja, testes feitos em laboratório com pessoas avaliando a QoS da aplicação considerada, para diferentes valores dos parâmetros selecionados na etapa 1.

Etapa 3, escolha de uma Rede Neural Randômica (ou RNN, Random Neural Network e), seu treinamento e validação.

As 3 etapas foram elaboradas da seguinte forma.

A etapa 1 considerou parâmetros que impactam diretamente na QoS de aplicações VoIP interativas e em tempo real.

São utilizados 6 parâmetros de entrada, Taxa do Codec Speex em banda estreita (24 Kbps a 248 Kbps).

Esquema de FEC utilizado (0, 50% e 100% de overhead).

Taxa de Perdas (0 a 60%).

Tamanho médio de rajada de perdas (1 a 5), atraso fim a fim (0 a 600ms), jitter ou variação do atraso (de 0 a 40 % do valor de atraso fim a fim).

Esses parâmetros e sua faixa de variação foram considerados [23, 24] como os mais significativos para uma aplicação VoIP interativa em tempo real.

Na etapa 2, foram realizados testes em laboratório, nos quais duplas de voluntários utilizavam a ferramenta de voz Vivavoz para realizar tarefas que envolviam conversação livre, contagem alternada, entre outros.

Essas tarefas eram uma forma de auxiliar os voluntários para que estes formassem uma opinião sobre a qualidade do serviço de voz utilizado.

Cada conversação deveria durar no máximo 2 minutos, e ao término deste tempo os voluntários deveriam então quantificar a sua satisfação com o serviço.

A qualidade de serviço era avaliada utilizando uma escala de 1 a 5 (1 Péssimo, 2 Ruim, 3 Razoável, 4 Bom, 5 Excelente).

Todas as duplas precisavam avaliar a qualidade de transmiss ão de voz para 120 combinações distintas e pré-determinadas de valores dos 6 parâmetros descritos na etapa 1.

Por exemplo, todas as duplas começam avaliando o caso em que o Codec tem taxa 24 Kbps, sem FEC, com taxa de perda de pacotes de 5%, tamanho médio de rajada de perda de 1, atraso fim a fim de 100ms e jitter de 25ms.

Logo após avaliar a qualidade, uma nova avalia ção começa, na qual os parâmetros agora são Codec com taxa 112 Kbps, sem FEC, com taxa de perda de pacotes de 15%, tamanho médio de rajada de perda de 2, atraso fim a fim de 500ms e jitter de 125ms.

Na etapa 3, é escolhida a RNN, que deverá ser treinada e validada.

O treinamento da rede neural é um treinamento supervisionado, no qual são fornecidos os valores de entrada (os valores dos 6 parâmetros da etapa 1) e os valores da saída (o valor de MOS dado pelos voluntários na etapa 2).

O algoritmo de aprendizado, ou seja, o algoritmo utilizado para alterar os pesos das conex ões entre os neurônios da rede, é um algoritmo baseado em programação não-linear, que utiliza informação do gradiente de uma função objetivo para minimizar o erro médio quadrático entre a saída esperada (os valores de MOS obtidos na etapa 2) e o valor de saída da rede neural.

Depois de treinar a rede neural, esta é validada com um conjunto de dados de validação.

Entre várias arquiteturas, foi escolhida uma rede que teve melhor desempenho durante a etapa de validação.

A rede escolhida foi do tipo feed-forward de 3 camadas, com 6 neurônios de entrada (um neurônio de entrada associado a cada parâmetro da etapa 1), 13 neurônios ocultos e 1 neurônio de saída, cujo valor de saída representa o valor de MOS-CQON.

A teoria necessária para entender mais profundamente o funcionamento da RNN e seu treinamento é descrita em e.

Em e também é possível encontrar informações das vantagens de se utilizar especificamente uma RNN ao invés de outras abordagens.

Como apresentado, existem diferentes tipos de metodologias para avaliação de voz, cada um com seu escopo e objetivos.

É proposto que se utilize estimativas MOS como medida de avaliação de qualidade de uma chamada de voz, sendo que estamos inicialmente interessados em avaliar aplicações interativas.

Isso decorre do fato de que é mais razoável que aplicações de Voz sobre IP sejam utilizadas em conversação entre pessoas, do que como uma aplicação em que apenas um dos lados escuta e o outro fala.

Outra especificação que está implícita é que a ferramenta de voz que utilizamos (Vivavoz) utiliza um CODEC não padronizado (Speex) de faixa estreita.

Nesse caso, utilizando a nomenclatura descrita, estamos interessados em estimativas de MOS-CQON ou MOS-CQEN (MOS obtido a partir de um modelo de predição de qualidade de voz, para aplicações com interatividade e de faixa estreita).

Isso nos reduz ao G107 (Emodel) e ao PSQA (não considerando o VQMon por ser apenas comercialmente distribuídos e não padronizados e o P562 como descrito).

Entretanto, um problema para a utilização do G107 (Emodel) é que o Emodel é uma ferramenta de planejamento e segundo, tem baixa correlação com o MOS subjetivo se comparado a outras abordagens.

Já o PSQA (e) apresenta uma correlação alta com os dados de validação (dados que são do tipo MOS-CQSN).

Um problema em comum para o ITU-T G107 e o PSQA, é que ambos precisam de dados de treinamento para avaliar um CODEC novo.

Como o CODEC não padronizado Speex não faz parte da lista da ITU-T G113 (lista de parâmetros do Emodel para alguns CODECS), parâmetros do Emodel para avaliar esse CODEC são desconhecidos (a ferramenta comercial VQMon suporta o Speex, sendo que o VQMon é uma extensão do EModel).

Felizmente, a metodologia PSQA em e foi elaborada tendo em vista o CODEC Speex.

